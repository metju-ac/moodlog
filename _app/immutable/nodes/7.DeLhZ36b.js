import{d as K,f as U,a as V}from"../chunks/-oWnhBs4.js";import{o as X}from"../chunks/vHKpP6nC.js";import{p as Y,m as Z,b as r,g as t,s,e as o,t as ee,c as te,k as re,d as n,u as R,$ as ae,r as i,f as oe,n as ie}from"../chunks/DxSztoeM.js";import{s as se}from"../chunks/CDp-2XP4.js";import{i as ne}from"../chunks/BRMXUoVx.js";import{h as le}from"../chunks/Xz8gqZgc.js";import{b as ce}from"../chunks/DekmaY3e.js";import{a as fe,b as de}from"../chunks/CRSDCZzM.js";import{g as y}from"../chunks/CFt5qpcD.js";import{b as _}from"../chunks/DGuZGziJ.js";import{p as ue}from"../chunks/CSOBTp_c.js";import{N as pe}from"../chunks/DfsQCI3y.js";import{R as me}from"../chunks/DaaYev9I.js";import{F as ve}from"../chunks/B0R_wGu9.js";import{T as ge,D as he}from"../chunks/Czh_D9UJ.js";import{D as xe}from"../chunks/CQlZdDlU.js";import{r as w}from"../chunks/BJ2OEHBl.js";import{S as be}from"../chunks/BR-WzaE2.js";const ye=!1,Fe=Object.freeze(Object.defineProperty({__proto__:null,prerender:ye},Symbol.toStringTag,{value:"Module"}));var _e=U('<div class="flex h-screen flex-col bg-white"><main class="flex flex-1 flex-col justify-between overflow-y-auto px-4 py-3"><div class="flex w-full flex-col gap-5.5 px-0 py-3"><h1 class="text-center text-[22px] leading-7 font-normal text-black"> </h1> <!> <div class="relative w-full"><textarea id="reflection-notes" placeholder="Write your thoughts about today..." rows="8" class="w-full resize-none rounded border-[3px] border-indigo-700 px-4 py-3 text-base text-gray-900 transition-colors outline-none focus:border-indigo-800"></textarea> <label for="reflection-notes" class="absolute -top-2.5 left-3 bg-white px-1 text-xs text-indigo-700">Notes for this day</label></div> <div class="flex w-full flex-col gap-8 py-3"><!></div></div> <div class="flex w-full items-center justify-between pb-4"><button class="flex h-14 w-14 items-center justify-center rounded-full bg-red-600 text-white shadow-lg transition-transform hover:scale-105 hover:bg-red-700 active:scale-95" aria-label="Delete reflection"><!></button> <!></div></main> <!></div> <!>',1);function Le(A,C){Y(C,!0);const I=()=>de(ue,"$page",j),[j,O]=fe(),Q=R(()=>I().params.id||"");let a=s(void 0),c=s(""),f=s(0),d=s(0),u=s(0),p=s(0),l=s(!1);X(()=>{const e=w.all.find(J=>J.id===t(Q));if(!e){y(`${_}/`);return}r(a,e,!0),r(c,e.notes,!0),r(f,e.sleepQuality*10),r(d,e.physicalActivity*10),r(u,e.socialInteractions*10),r(p,e.pressure*10)});const T=R(()=>t(a)?t(a).date.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):"");function z(){if(!t(a))return;const e={...t(a),sleepQuality:Math.round(t(f)/10),physicalActivity:Math.round(t(d)/10),socialInteractions:Math.round(t(u)/10),pressure:Math.round(t(p)/10),notes:t(c).trim()};w.updateReflection(t(a).id,e),y(`${_}/`)}function N(){r(l,!0)}function P(){t(a)&&(w.deleteReflection(t(a).id),r(l,!1),y(`${_}/`))}function B(){r(l,!1)}var D=_e();le("146z5r6",e=>{re(()=>{ae.title="Edit Reflection - MoodLog"})});var v=Z(D),g=o(v),h=o(g),x=o(h),F=o(x,!0);i(x);var $=n(x,2);{var L=e=>{xe(e,{get date(){return t(a).date}})};ne($,e=>{t(a)&&e(L)})}var b=n($,2),S=o(b);oe(S),ie(2),i(b);var M=n(b,2),W=o(M);me(W,{get sleepQuality(){return t(f)},get physicalActivity(){return t(d)},get socialInteractions(){return t(u)},get pressure(){return t(p)},onSleepQualityChange:e=>r(f,e,!0),onPhysicalActivityChange:e=>r(d,e,!0),onSocialInteractionsChange:e=>r(u,e,!0),onPressureChange:e=>r(p,e,!0)}),i(M),i(h);var k=n(h,2),m=o(k);m.__click=N;var E=o(m);ge(E,{class:"h-6 w-6",strokeWidth:2}),i(m);var G=n(m,2);ve(G,{get icon(){return be},onclick:z,label:"Save reflection"}),i(k),i(g);var q=n(g,2);pe(q,{currentTab:"reflections"}),i(v);var H=n(v,2);he(H,{title:"Delete reflection?",onConfirm:P,onCancel:B,get isOpen(){return t(l)},set isOpen(e){r(l,e,!0)}}),ee(()=>se(F,t(T))),ce(S,()=>t(c),e=>r(c,e)),V(A,D),te(),O()}K(["click"]);export{Le as component,Fe as universal};
