import{c as Q,a as m,d as me,f as k,s as H}from"../chunks/CL1gL8u8.js";import{p as le,c as ce,m as V,n as pe,s as ne,a as de,h as o,f as l,r as a,t as G,g as e,u as y,b as W,Q as L,d as De,$ as we}from"../chunks/Dd77Lb4Z.js";import{I as ke,a as Me,e as ie,i as ve,s as Se,h as Ce}from"../chunks/BF1pAsR3.js";import{i as se}from"../chunks/9XiK6310.js";import{g as oe}from"../chunks/D_4iCv4K.js";import{b as re}from"../chunks/BVvM3X8s.js";import{N as je}from"../chunks/CE_hq1Pt.js";import{C as xe,M as Ne}from"../chunks/G0fwheEy.js";import{t as fe,s as Pe,f as Fe}from"../chunks/BUrl7JYl.js";import{X as Oe}from"../chunks/BBnITIqa.js";import{C as he}from"../chunks/DzAlfEna.js";import{F as ue}from"../chunks/viMvqxxa.js";import{H as Te}from"../chunks/7Lu4BvHs.js";import{m as g}from"../chunks/CE2ydpzQ.js";import{r as q}from"../chunks/B6GDaxbh.js";import{S as ge}from"../chunks/UajU_CNF.js";import{s as Ae,r as Ie}from"../chunks/Dvhy9Jzs.js";import{P as Re}from"../chunks/aaVXW3tR.js";function Be(M,i){le(i,!0);let s=Ie(i,["$$slots","$$events","$$legacy"]);const f=[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}]];ke(M,Ae({name:"calendar"},()=>s,{get iconNode(){return f},children:(S,J)=>{var _=Q(),C=V(_);Me(C,()=>i.children??pe),m(S,_)},$$slots:{default:!0}})),ce()}var Ee=k('<div class="text-center text-xs font-medium text-gray-500"> </div>'),Ye=k('<div class="aspect-square"></div>'),ze=k("<button> </button>"),Je=k('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4"><div class="w-full max-w-sm rounded-2xl bg-white p-6 shadow-2xl"><div class="mb-4 flex items-center justify-between"><h2 class="text-xl font-semibold text-gray-900">Select Date</h2> <button class="flex h-8 w-8 items-center justify-center rounded-full text-gray-500 transition-colors hover:bg-gray-100" aria-label="Close"><!></button></div> <div class="mb-4 flex items-center justify-between"><button class="flex h-10 w-10 items-center justify-center rounded-full text-gray-700 transition-colors hover:bg-gray-100" aria-label="Previous month"><!></button> <div class="text-base font-medium text-gray-900"> </div> <button class="flex h-10 w-10 items-center justify-center rounded-full text-gray-700 transition-colors hover:bg-gray-100" aria-label="Next month"><!></button></div> <div class="mb-2 grid grid-cols-7 gap-1"></div> <div class="grid grid-cols-7 gap-1"></div> <div class="mt-4 flex justify-end"><button class="rounded-lg bg-gray-100 px-4 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-200">Today</button></div></div></div>');function Le(M,i){le(i,!0);let s=ne(de(i.selectedDate.getMonth())),f=ne(de(i.selectedDate.getFullYear()));const S=["January","February","March","April","May","June","July","August","September","October","November","December"],J=["Mo","Tu","We","Th","Fr","Sa","Su"];function _(n,r){return new Date(r,n+1,0).getDate()}function C(n,r){const u=new Date(r,n,1).getDay();return u===0?6:u-1}const X=y(()=>{const n=_(e(s),e(f)),r=C(e(s),e(f)),u=[];for(let d=0;d<r;d++)u.push(null);for(let d=1;d<=n;d++)u.push(d);return u});function j(){e(s)===0?(W(s,11),L(f,-1)):L(s,-1)}function N(){e(s)===11?(W(s,0),L(f)):L(s)}function K(n){const r=new Date(e(f),e(s),n);i.onSelectDate(r),i.onClose()}function U(n){return n===i.selectedDate.getDate()&&e(s)===i.selectedDate.getMonth()&&e(f)===i.selectedDate.getFullYear()}function P(n){const r=new Date;return n===r.getDate()&&e(s)===r.getMonth()&&e(f)===r.getFullYear()}function F(n){n.target===n.currentTarget&&i.onClose()}var O=Q(),T=V(O);{var Z=n=>{var r=Je();r.__click=F;var u=o(r),d=o(u),A=l(o(d),2);A.__click=function(...t){i.onClose?.apply(this,t)};var I=o(A);Oe(I,{class:"h-5 w-5"}),a(A),a(d);var R=l(d,2),h=o(R);h.__click=j;var B=o(h);xe(B,{class:"h-5 w-5"}),a(h);var p=l(h,2),$=o(p);a(p);var E=l(p,2);E.__click=N;var ee=o(E);he(ee,{class:"h-5 w-5"}),a(E),a(R);var D=l(R,2);ie(D,21,()=>J,ve,(t,c)=>{var v=Ee(),x=o(v,!0);a(v),G(()=>H(x,e(c))),m(t,v)}),a(D);var Y=l(D,2);ie(Y,21,()=>e(X),ve,(t,c)=>{var v=Q(),x=V(v);{var ae=w=>{var b=Ye();m(w,b)},be=w=>{var b=ze();b.__click=()=>K(e(c));var ye=o(b,!0);a(b),G(_e=>{Se(b,1,`aspect-square rounded-lg text-sm font-medium transition-colors
                ${_e??""}`),H(ye,e(c))},[()=>U(e(c))?"bg-indigo-600 text-white hover:bg-indigo-700":P(e(c))?"bg-indigo-50 text-indigo-600 hover:bg-indigo-100":"text-gray-700 hover:bg-gray-100"]),m(w,b)};se(x,w=>{e(c)===null?w(ae):w(be,!1)})}m(t,v)}),a(Y);var z=l(Y,2),te=o(z);te.__click=()=>{const t=new Date;i.onSelectDate(t),i.onClose()},a(z),a(u),a(r),G(()=>H($,`${S[e(s)]??""}
          ${e(f)??""}`)),fe(3,u,()=>Pe,()=>({duration:200,start:.95})),fe(3,r,()=>Fe,()=>({duration:200})),m(n,r)};se(T,n=>{i.isOpen&&n(Z)})}m(M,O),ce()}me(["click"]);var qe=k('<div class="flex flex-col items-center justify-center gap-4 py-16 text-center"><div class="text-6xl opacity-50">üìù</div> <div class="flex flex-col gap-2"><h2 class="text-xl font-medium text-gray-900">No mood entries yet</h2> <p class="text-sm text-gray-600">Start tracking your mood by adding your first entry for this day</p></div> <div class="flex items-center gap-1 text-sm text-gray-500"><span>New to MoodLog?</span> <!></div></div>'),He=k('<div class="flex h-screen flex-col bg-white"><div class="sticky top-0 z-10 bg-white px-4 py-2.5 shadow-sm"><div class="flex items-center justify-between"><h1 class="text-[28px] leading-9 font-normal text-black"> </h1> <div class="flex items-center gap-1.5"><button class="flex h-12 w-[52px] items-center justify-center rounded-full bg-indigo-100 transition-colors hover:bg-indigo-200" aria-label="Open date picker"><!></button> <button class="flex h-12 w-[52px] items-center justify-center rounded-full bg-indigo-100 transition-colors hover:bg-indigo-200" aria-label="Previous day"><!></button> <button class="flex h-12 w-[52px] items-center justify-center rounded-full bg-indigo-100 transition-colors hover:bg-indigo-200" aria-label="Next day"><!></button></div></div></div> <main class="flex flex-1 flex-col overflow-y-auto px-4 py-2.5"><div class="flex w-full flex-col pb-24"><div class="flex w-full flex-col gap-4"><!></div></div> <!> <!></main> <!> <!></div>');function ct(M,i){le(i,!0);let s=ne(!1);const f=y(()=>g.selectedDate.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}));function S(){const t=new ge(g.selectedDate);t.setDate(t.getDate()-1),g.setDate(t),q.setDate(t)}function J(){const t=new ge(g.selectedDate);t.setDate(t.getDate()+1),g.setDate(t),q.setDate(t)}function _(){W(s,!0)}function C(){W(s,!1)}function X(t){g.setDate(t),q.setDate(t)}const j=y(()=>q.getReflectionByDate(g.selectedDate)),N=y(()=>e(j)!==void 0);function K(){e(j)?oe(`${re}/reflection/${e(j).id}`):oe(`${re}/reflection/create`)}function U(){oe(`${re}/add`)}var P=He();Ce("1uha8ag",t=>{De(()=>{we.title="Mood Entries - MoodLog"})});var F=o(P),O=o(F),T=o(O),Z=o(T,!0);a(T);var n=l(T,2),r=o(n);r.__click=_;var u=o(r);Be(u,{class:"h-6 w-6 text-indigo-900"}),a(r);var d=l(r,2);d.__click=S;var A=o(d);xe(A,{class:"h-6 w-6 text-indigo-900"}),a(d);var I=l(d,2);I.__click=J;var R=o(I);he(R,{class:"h-6 w-6 text-indigo-900"}),a(I),a(n),a(O),a(F);var h=l(F,2),B=o(h),p=o(B),$=o(p);{var E=t=>{var c=qe(),v=l(o(c),4),x=l(o(v),2);Te(x,{size:"sm"}),a(v),a(c),m(t,c)},ee=t=>{var c=Q(),v=V(c);ie(v,17,()=>g.entries,x=>x.id,(x,ae)=>{Ne(x,{get entry(){return e(ae)}})}),m(t,c)};se($,t=>{g.entries.length===0?t(E):t(ee,!1)})}a(p),a(B);var D=l(B,2);{let t=y(()=>e(N)?"View reflection":"Add reflection"),c=y(()=>e(N)?"Reflection":"No reflection yet"),v=y(()=>e(N)?"primary":"danger");ue(D,{onclick:K,get label(){return e(t)},get text(){return e(c)},get variant(){return e(v)},position:"left"})}var Y=l(D,2);ue(Y,{get icon(){return Re},onclick:U,label:"Add mood entry"}),a(h);var z=l(h,2);je(z,{currentTab:"mood-entries"});var te=l(z,2);Le(te,{get isOpen(){return e(s)},get selectedDate(){return g.selectedDate},onClose:C,onSelectDate:X}),a(P),G(()=>H(Z,e(f))),m(M,P),ce()}me(["click"]);export{ct as component};
