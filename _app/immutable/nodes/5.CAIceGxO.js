import{c as X,a as v,f as V,t as St,s as nt,d as Xt}from"../chunks/CMVsHYcO.js";import{p as wt,l as I,c as Dt,o as Ct,d as j,f as O,g as t,u as o,r as D,t as st,m as ie,s as It,b as At,a as le,e as de,$ as ce}from"../chunks/Dzkio-oR.js";import{a as Ot,e as mt,i as $t,c as xt,b as Et,s as _t,h as ue}from"../chunks/BMajUMua.js";import{c as lt,p as ot,s as pt,r as Jt}from"../chunks/BcPhfkvl.js";import{S as ut,m as Qt}from"../chunks/BEBs2KyZ.js";import{S as fe}from"../chunks/DCGNGnMU.js";import{N as ge,l as ve}from"../chunks/CC_a-a9Z.js";import{c as Bt,d as me,S as Nt,g as Zt,a as he}from"../chunks/D0y9iST-.js";import{i as Q}from"../chunks/BsUrrD3l.js";import{l as Ht,m as Yt,n as Kt,s as Vt,v as xe,w as ye,x as _e,h as Mt,j as yt,y as dt,z as ct,g as zt,B as te,f as bt,D as pe,R as ee,S as ae,e as be,E as we,L as De,F as Lt,C as ke,G as qt,H as jt,p as Ft,I as Se,J as Me,K as Ae,o as re,q as ne,A as Wt,r as Ce,T as Te,u as Pe,t as Re}from"../chunks/CzrTvcfU.js";import{b as Le}from"../chunks/CQWna6ZE.js";import{g as Oe}from"../chunks/BSmKfD3J.js";import{b as $e}from"../chunks/CbYVMvxB.js";import{r as Ee}from"../chunks/Cn-iupoj.js";var je=V('<div class="text-sm text-muted-foreground">No mood entries found for the selected criteria</div>'),We=V('<div class="flex items-start justify-between"><div><div class="text-sm font-medium text-muted-foreground">Best Day</div> <div class="mt-1 text-lg font-semibold"> </div></div> <div class="text-right"><div class="text-2xl font-bold text-green-600"> </div> <div class="text-xs text-muted-foreground">avg mood</div></div></div>'),Be=V('<div class="flex items-start justify-between border-t border-border pt-4"><div><div class="text-sm font-medium text-muted-foreground">Worst Day</div> <div class="mt-1 text-lg font-semibold"> </div></div> <div class="text-right"><div class="text-2xl font-bold text-red-600"> </div> <div class="text-xs text-muted-foreground">avg mood</div></div></div>'),Ge=V('<div class="flex items-start justify-between border-t border-border pt-4"><div><div class="text-sm font-medium text-muted-foreground">Most Common Context</div> <div class="mt-1 flex items-center gap-2"><!> <span class="text-lg font-semibold"> </span></div></div> <div class="text-right"><div class="text-2xl font-bold text-[#485e92]"> </div> <div class="text-xs text-muted-foreground"> </div></div></div>'),Fe=V('<div class="grid gap-4"><!> <!> <!></div>'),Ie=V("<!> <!>",1);function Ne(c,a){wt(a,!0);const e=o(()=>{if(a.entries.length===0)return{bestDay:null,worstDay:null,mostCommonTag:null};const u=Bt(a.entries),_=me(u);let T=_[0],p=_[0];_.forEach(n=>{n.averageMood>T.averageMood&&(T=n),n.averageMood<p.averageMood&&(p=n)});const r=new Nt;a.entries.forEach(n=>{n.labels.forEach(x=>{const m=r.get(x.id);m?m.count++:r.set(x.id,{name:x.name,icon:x.icon,count:1})})});let s=null;return r.forEach(n=>{(!s||n.count>s.count)&&(s=n)}),{bestDay:T,worstDay:p,mostCommonTag:s}});function h(u){return u.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}function C(u){return u>0?`+${u.toFixed(1)}`:u.toFixed(1)}var G=X(),H=I(G);lt(H,()=>Vt,(u,_)=>{_(u,{class:"w-full",children:(T,p)=>{var r=Ie(),s=I(r);lt(s,()=>Ht,(x,m)=>{m(x,{children:(M,S)=>{var E=X(),Y=I(E);lt(Y,()=>Yt,(A,f)=>{f(A,{class:"text-2xl",children:(y,P)=>{Ct();var g=St("Highlights");v(y,g)},$$slots:{default:!0}})}),v(M,E)},$$slots:{default:!0}})});var n=j(s,2);lt(n,()=>Kt,(x,m)=>{m(x,{children:(M,S)=>{var E=X(),Y=I(E);{var A=y=>{var P=je();v(y,P)},f=y=>{var P=Fe(),g=O(P);{var b=R=>{var i=We(),d=O(i),w=j(O(d),2),l=O(w,!0);D(w),D(d);var k=j(d,2),$=O(k),L=O($,!0);D($),Ct(2),D(k),D(i),st((B,q)=>{nt(l,B),nt(L,q)},[()=>h(t(e).bestDay.date),()=>C(t(e).bestDay.averageMood)]),v(R,i)};Q(g,R=>{t(e).bestDay&&R(b)})}var W=j(g,2);{var F=R=>{var i=Be(),d=O(i),w=j(O(d),2),l=O(w,!0);D(w),D(d);var k=j(d,2),$=O(k),L=O($,!0);D($),Ct(2),D(k),D(i),st((B,q)=>{nt(l,B),nt(L,q)},[()=>h(t(e).worstDay.date),()=>C(t(e).worstDay.averageMood)]),v(R,i)};Q(W,R=>{t(e).worstDay&&R(F)})}var J=j(W,2);{var N=R=>{const i=o(()=>Zt(t(e).mostCommonTag.icon));var d=Ge(),w=O(d),l=j(O(w),2),k=O(l);lt(k,()=>t(i),(rt,it)=>{it(rt,{class:"h-5 w-5",strokeWidth:2})});var $=j(k,2),L=O($,!0);D($),D(l),D(w);var B=j(w,2),q=O(B),at=O(q,!0);D(q);var K=j(q,2),U=O(K,!0);D(K),D(B),D(d),st(()=>{nt(L,t(e).mostCommonTag.name),nt(at,t(e).mostCommonTag.count),nt(U,t(e).mostCommonTag.count===1?"entry":"entries")}),v(R,d)};Q(J,R=>{t(e).mostCommonTag&&R(N)})}D(P),v(y,P)};Q(Y,y=>{a.entries.length===0?y(A):y(f,!1)})}v(M,E)},$$slots:{default:!0}})}),v(T,r)},$$slots:{default:!0}})}),v(c,G),Dt()}function oe(){var c=xe().unknown(void 0),a=c.domain,e=c.range,h=0,C=1,G,H,u=!1,_=0,T=0,p=.5;delete c.unknown;function r(){var s=a().length,n=C<h,x=n?C:h,m=n?h:C;G=(m-x)/Math.max(1,s-_+T*2),u&&(G=Math.floor(G)),x+=(m-x-G*(s-_))*p,H=G*(1-_),u&&(x=Math.round(x),H=Math.round(H));var M=_e(s).map(function(S){return x+G*S});return e(n?M.reverse():M)}return c.domain=function(s){return arguments.length?(a(s),r()):a()},c.range=function(s){return arguments.length?([h,C]=s,h=+h,C=+C,r()):[h,C]},c.rangeRound=function(s){return[h,C]=s,h=+h,C=+C,u=!0,r()},c.bandwidth=function(){return H},c.step=function(){return G},c.round=function(s){return arguments.length?(u=!!s,r()):u},c.padding=function(s){return arguments.length?(_=Math.min(1,T=+s),r()):_},c.paddingInner=function(s){return arguments.length?(_=Math.min(1,s),r()):_},c.paddingOuter=function(s){return arguments.length?(T=+s,r()):T},c.align=function(s){return arguments.length?(p=Math.max(0,Math.min(1,s)),r()):p},c.copy=function(){return oe(a(),[h,C]).round(u).paddingInner(_).paddingOuter(T).align(p)},ye.apply(r(),arguments)}function He(c){const a=c?.all??0,e=c?.x??a,h=c?.y??a,C=c?.left??e,G=c?.right??e,H=c?.top??h,u=c?.bottom??h;return{left:C,right:G,bottom:u,top:H}}function Ye(c,a){const e=o(()=>a?.());return h=>{const C=He(t(e)?.insets),G=c.xScale.domain(),H=c.yScale.domain(),u=Mt(t(e)?.x??c.x),_=Mt(t(e)?.y??c.y),T=Mt(t(e)?.x1??c.x1),p=Mt(t(e)?.y1??c.y1);if(yt(c.yScale)){const r=Ut(c.yScale(_(h))??0)+(c.y1Scale?c.y1Scale(p(h)):0)+C.top,s=Math.max(0,c.yScale.bandwidth?(c.y1Scale?c.y1Scale.bandwidth?.()??0:c.yScale.bandwidth())-C.bottom-C.top:0),n=u(h);let x=0,m=0;Array.isArray(n)?(x=dt(n),m=ct(n)):n==null?(x=0,m=0):n>0?(x=ct([0,G[0]]),m=n):(x=n,m=dt([0,G[1]]));const M=c.xScale(x)+C.left,S=Math.max(0,c.xScale(m)-c.xScale(x)-C.left-C.right);return{x:M,y:r,width:S,height:s}}else{const r=Ut(c.xScale(u(h)))+(c.x1Scale?c.x1Scale(T(h)):0)+C.left,s=Math.max(0,c.xScale.bandwidth?(c.x1Scale?c.x1Scale.bandwidth?.()??0:c.xScale.bandwidth())-C.left-C.right:0),n=_(h);let x=0,m=0;Array.isArray(n)?(x=ct(n),m=dt(n)):n==null?(x=0,m=0):n>0?(x=n,m=ct([0,H[0]])):(x=dt([0,H[1]]),m=n);const M=c.yScale(x)+C.top,S=c.yScale(m)-c.yScale(x)-C.bottom-C.top;return{x:r,y:M,width:s,height:S}}}}function Ut(c){return Array.isArray(c)?c[0]:c}function se(c,a){wt(a,!0);const e=zt();let h=ot(a,"x",19,()=>e.x),C=ot(a,"y",19,()=>e.y),G=ot(a,"stroke",3,"black"),H=ot(a,"strokeWidth",3,0),u=ot(a,"radius",3,0),_=ot(a,"rounded",3,"all"),T=Jt(a,["$$slots","$$events","$$legacy","data","x","y","x1","y1","fill","fillOpacity","stroke","strokeWidth","opacity","radius","rounded","motion","insets","initialX","initialY","initialHeight","initialWidth"]);const p=o(()=>G()===null||G()===void 0?"black":G()),r=o(()=>Ye(e,()=>({x:h(),y:C(),x1:a.x1,y1:a.y1,insets:a.insets}))),s=o(()=>t(r)(a.data)??{x:0,y:0,width:0,height:0}),n=o(()=>yt(e.xScale)),x=o(()=>Mt(t(n)?C():h())),m=o(()=>t(x)(a.data)),M=o(()=>Array.isArray(t(m))?pe(t(m)):t(m)),S=o(()=>_()==="edge"?t(n)?t(M)>=0?"top":"bottom":t(M)>=0?"right":"left":_()),E=o(()=>["all","top","left","top-left"].includes(t(S))),Y=o(()=>["all","top","right","top-right"].includes(t(S))),A=o(()=>["all","bottom","left","bottom-left"].includes(t(S))),f=o(()=>["all","bottom","right","bottom-right"].includes(t(S))),y=o(()=>t(s).width),P=o(()=>t(s).height),g=o(()=>2*u()),b=o(()=>`M${t(s).x+u()},${t(s).y} h${t(y)-t(g)}
      ${t(Y)?`a${u()},${u()} 0 0 1 ${u()},${u()}`:`h${u()}v${u()}`}
      v${t(P)-t(g)}
      ${t(f)?`a${u()},${u()} 0 0 1 ${-u()},${u()}`:`v${u()}h${-u()}`}
      h${t(g)-t(y)}
      ${t(A)?`a${u()},${u()} 0 0 1 ${-u()},${-u()}`:`h${-u()}v${-u()}`}
      v${t(g)-t(P)}
      ${t(E)?`a${u()},${u()} 0 0 1 ${u()},${-u()}`:`v${-u()}h${u()}`}
      z`.split(`
`).join(""));var W=X(),F=I(W);{var J=R=>{{let i=o(()=>t(s).y+t(s).height),d=o(()=>t(s).x+t(s).width),w=o(()=>bt(T,"bar"));te(R,pt({get innerRadius(){return t(s).y},get outerRadius(){return t(i)},get startAngle(){return t(s).x},get endAngle(){return t(d)},get fill(){return a.fill},get fillOpacity(){return a.fillOpacity},get stroke(){return t(p)},get strokeWidth(){return H()},get opacity(){return a.opacity},get cornerRadius(){return u()}},()=>t(w)))}},N=R=>{var i=X(),d=I(i);{var w=k=>{{let $=o(()=>t(S)==="none"?0:u()),L=o(()=>bt(T,"bar"));ee(k,pt({get fill(){return a.fill},get fillOpacity(){return a.fillOpacity},get stroke(){return t(p)},get strokeWidth(){return H()},get opacity(){return a.opacity},get rx(){return t($)},get motion(){return a.motion},get initialX(){return a.initialX},get initialY(){return a.initialY},get initialHeight(){return a.initialHeight},get initialWidth(){return a.initialWidth}},()=>t(s),()=>t(L)))}},l=k=>{const $=o(()=>be(a.motion));{let L=o(()=>bt(T,"bar"));ae(k,pt({get pathData(){return t(b)},get fill(){return a.fill},get fillOpacity(){return a.fillOpacity},get stroke(){return t(p)},get strokeWidth(){return H()},get opacity(){return a.opacity},get motion(){return t($)}},()=>t(L)))}};Q(d,k=>{t(S)==="all"||t(S)==="none"||u()===0?k(w):k(l,!1)},!0)}v(R,i)};Q(F,R=>{e.radial?R(J):R(N,!1)})}v(c,W),Dt()}var Ke=V("<!> <!> <!> <!>",1);function Ve(c,a){wt(a,!0);const e=zt(),h=we();let C=ot(a,"x",19,()=>e.x),G=ot(a,"y",19,()=>e.y),H=ot(a,"points",3,!1),u=ot(a,"lines",3,!1),_=ot(a,"area",3,!1),T=ot(a,"bar",3,!1),p=ot(a,"motion",3,"spring");const r=o(()=>Mt(C())),s=o(()=>Mt(G())),n=o(()=>a.data??h.data),x=o(()=>t(r)(t(n))),m=o(()=>Array.isArray(t(x))?t(x).map(i=>e.xScale(i)):e.xScale(t(x))),M=o(()=>yt(e.xScale)&&!e.radial?e.xScale.bandwidth()/2:0),S=o(()=>t(s)(t(n))),E=o(()=>Array.isArray(t(S))?t(S).map(i=>e.yScale(i)):e.yScale(t(S))),Y=o(()=>yt(e.yScale)&&!e.radial?e.yScale.bandwidth()/2:0),A=o(()=>a.axis==null?yt(e.yScale)?"y":"x":a.axis),f=o(()=>{let i=[];return t(n)&&((t(A)==="x"||t(A)==="both")&&(Array.isArray(t(m))?i=[...i,...t(m).filter(jt).map((d,w)=>({x1:d+t(M),y1:dt(e.yRange),x2:d+t(M),y2:ct(e.yRange)}))]:t(m)!=null&&(i=[...i,{x1:t(m)+t(M),y1:dt(e.yRange),x2:t(m)+t(M),y2:ct(e.yRange)}])),(t(A)==="y"||t(A)==="both")&&(Array.isArray(t(E))?i=[...i,...t(E).filter(jt).map((d,w)=>({x1:dt(e.xRange),y1:d+t(Y),x2:ct(e.xRange),y2:d+t(Y)}))]:t(E)!=null&&(i=[...i,{x1:dt(e.xRange),y1:t(E)+t(Y),x2:ct(e.xRange),y2:t(E)+t(Y)}])),e.radial&&(i=i.map(d=>{const[w,l]=Ft(d.x1,d.y1),[k,$]=Ft(d.x2,d.y2);return{...d,x1:w,y1:l,x2:k,y2:$}}))),i}),y=o(()=>{const i={x:0,y:0,width:0,height:0};if(!t(n))return i;if(t(A)==="x"||t(A)==="both"){if(Array.isArray(t(m)))i.width=ct(t(m))-dt(t(m));else if(yt(e.xScale))i.width=e.xScale.step();else{const d=e.flatData.findIndex(k=>Number(t(r)(k))===Number(t(r)(t(n)))),l=d+1===e.flatData.length?ct(e.xDomain):t(r)(e.flatData[d+1]);i.width=(e.xScale(l)??0)-(t(m)??0)}i.x=(Array.isArray(t(m))?dt(t(m)):t(m))-(yt(e.xScale)?e.xScale.padding()*e.xScale.step()/2:0),t(A)==="x"&&(i.y=dt(e.yRange),i.height=ct(e.yRange)-dt(e.yRange))}if(t(A)==="y"||t(A)==="both"){if(Array.isArray(t(E)))i.height=ct(t(E))-dt(t(E));else if(yt(e.yScale))i.height=e.yScale.step();else{const d=e.flatData.findIndex(k=>Number(t(r)(k))===Number(t(r)(t(n)))),l=d+1===e.flatData.length?ct(e.yDomain):t(r)(e.flatData[d+1]);i.height=(e.yScale(l)??0)-(t(E)??0)}i.y=(Array.isArray(t(E))?dt(t(E)):t(E))-(yt(e.yScale)?e.yScale.padding()*e.yScale.step()/2:0),t(A)==="y"&&(i.width=ct(e.xRange))}return i}),P=o(()=>{let i=[];if(!t(n))return i;if(Array.isArray(t(m)))if(Array.isArray(t(n))){const d=t(n);Array.isArray(e.data)&&(i=e.data.map(l=>({series:l,point:l.find(k=>t(s)(k)===t(s)(d))})).filter(l=>l.point).map((l,k)=>({x:e.xScale(l.point[1])+t(M),y:t(E)+t(Y),fill:e.config.c?e.cGet(l.series):null,data:{x:l.point[1],y:t(S)}})))}else i=t(m).filter(jt).map((d,w)=>{const l=e.config.x?.[w];return{x:d+t(M),y:t(E)+t(Y),fill:e.config.c?e.cGet({...t(n),$key:l}):null,data:{x:t(x),y:t(S)}}});else if(Array.isArray(t(E)))if(Array.isArray(t(n))){const d=t(n);Array.isArray(e.data)&&(i=e.data.map(l=>({series:l,point:l.find(k=>t(r)(k)===t(r)(d))})).filter(l=>l.point).map((l,k)=>({x:t(m)+t(M),y:e.yScale(l.point[1])+t(Y),fill:e.config.c?e.cGet(l.series):null,data:{x:t(x),y:l.point[1]}})))}else i=t(E).filter(jt).map((d,w)=>{const l=e.config.y[w];return{x:t(m)+t(M),y:d+t(Y),fill:e.config.c?e.cGet({...t(n),$key:l}):null,data:{x:t(x),y:t(S)}}});else t(m)!=null&&t(E)!=null?i=[{x:t(m)+t(M),y:t(E)+t(Y),fill:e.config.c?e.cGet(t(n)):null,data:{x:t(x),y:t(S)}}]:i=[];return e.radial&&(i=i.map(d=>{const[w,l]=Ft(d.x,d.y);return{...d,x:w,y:l}})),i}),g=o(()=>bt(_(),"highlight-area")),b=o(()=>bt(T(),"highlight-bar")),W=o(()=>bt(u(),"highlight-line")),F=o(()=>bt(H(),"highlight-point"));var J=X(),N=I(J);{var R=i=>{var d=Ke(),w=I(d);{var l=K=>{var U=X(),rt=I(U);{var it=z=>{var Z=X(),tt=I(Z);Ot(tt,_,()=>({area:t(y)})),v(z,Z)},ft=z=>{var Z=X(),tt=I(Z);{var gt=vt=>{{let kt=o(()=>p()==="spring"?"spring":void 0),Tt=o(()=>t(y).x+t(y).width),Pt=o(()=>t(y).y+t(y).height),Rt=o(()=>Lt(!t(g).fill&&"fill-surface-content/5",t(g).class)),Gt=o(()=>a.onAreaClick&&(ht=>a.onAreaClick(ht,{data:t(n)})));te(vt,{get motion(){return t(kt)},get startAngle(){return t(y).x},get endAngle(){return t(Tt)},get innerRadius(){return t(y).y},get outerRadius(){return t(Pt)},get class(){return t(Rt)},get onclick(){return t(Gt)}})}},et=vt=>{{let kt=o(()=>p()==="spring"?"spring":void 0),Tt=o(()=>Lt(!t(g).fill&&"fill-surface-content/5",t(g).class)),Pt=o(()=>a.onAreaClick&&(Rt=>a.onAreaClick(Rt,{data:t(n)})));ee(vt,pt({get motion(){return t(kt)}},()=>t(y),()=>t(g),{get class(){return t(Tt)},get onclick(){return t(Pt)}}))}};Q(tt,vt=>{e.radial?vt(gt):vt(et,!1)},!0)}v(z,Z)};Q(rt,z=>{typeof _()=="function"?z(it):z(ft,!1)})}v(K,U)};Q(w,K=>{_()&&K(l)})}var k=j(w,2);{var $=K=>{var U=X(),rt=I(U);{var it=z=>{var Z=X(),tt=I(Z);Ot(tt,T),v(z,Z)},ft=z=>{{let Z=o(()=>p()==="spring"?"spring":void 0),tt=o(()=>Lt(!t(b).fill&&"fill-primary",t(b).class)),gt=o(()=>a.onBarClick&&(et=>a.onBarClick(et,{data:t(n)})));se(z,pt({get motion(){return t(Z)},get data(){return t(n)}},()=>t(b),{get class(){return t(tt)},get onclick(){return t(gt)}}))}};Q(rt,z=>{typeof T()=="function"?z(it):z(ft,!1)})}v(K,U)};Q(k,K=>{T()&&K($)})}var L=j(k,2);{var B=K=>{var U=X(),rt=I(U);{var it=z=>{var Z=X(),tt=I(Z);Ot(tt,u,()=>({lines:t(f)})),v(z,Z)},ft=z=>{var Z=X(),tt=I(Z);mt(tt,17,()=>t(f),$t,(gt,et)=>{{let vt=o(()=>p()==="spring"?"spring":void 0),kt=o(()=>Lt("stroke-surface-content/20 stroke-2 [stroke-dasharray:2,2] pointer-events-none",t(W).class));De(gt,pt({get motion(){return t(vt)},get x1(){return t(et).x1},get y1(){return t(et).y1},get x2(){return t(et).x2},get y2(){return t(et).y2}},()=>t(W),{get class(){return t(kt)}}))}}),v(z,Z)};Q(rt,z=>{typeof u()=="function"?z(it):z(ft,!1)})}v(K,U)};Q(L,K=>{u()&&K(B)})}var q=j(L,2);{var at=K=>{var U=X(),rt=I(U);{var it=z=>{var Z=X(),tt=I(Z);Ot(tt,H,()=>({points:t(P)})),v(z,Z)},ft=z=>{var Z=X(),tt=I(Z);mt(tt,17,()=>t(P),$t,(gt,et)=>{{let vt=o(()=>p()==="spring"?"spring":void 0),kt=o(()=>Lt("stroke-white [paint-order:stroke] drop-shadow-sm",!t(et).fill&&(typeof H()=="boolean"||!H().fill)&&"fill-primary",t(F).class)),Tt=o(()=>a.onPointClick&&(ht=>{ht.stopPropagation()})),Pt=o(()=>a.onPointClick&&(ht=>a.onPointClick(ht,{point:t(et),data:t(n)}))),Rt=o(()=>a.onPointEnter&&(ht=>{a.onPointClick&&(qt(ht.target).style.cursor="pointer"),a.onPointEnter(ht,{point:t(et),data:t(n)})})),Gt=o(()=>a.onPointLeave&&(ht=>{a.onPointClick&&(qt(ht.target).style.cursor="default"),a.onPointLeave(ht,{point:t(et),data:t(n)})}));ke(gt,pt({get motion(){return t(vt)},get cx(){return t(et).x},get cy(){return t(et).y},get fill(){return t(et).fill},r:4,strokeWidth:6},()=>t(F),{get class(){return t(kt)},get onpointerdown(){return t(Tt)},get onclick(){return t(Pt)},get onpointerenter(){return t(Rt)},get onpointerleave(){return t(Gt)}}))}}),v(z,Z)};Q(rt,z=>{typeof H()=="function"?z(it):z(ft,!1)})}v(K,U)};Q(q,K=>{H()&&K(at)})}v(i,d)};Q(N,i=>{t(n)&&i(R)})}v(c,J),Dt()}function ze(c,a){wt(a,!0);let e=ot(a,"key",3,(p,r)=>r),h=ot(a,"onBarClick",3,()=>{}),C=ot(a,"radius",3,0),G=ot(a,"strokeWidth",3,0),H=ot(a,"stroke",3,"black"),u=Jt(a,["$$slots","$$events","$$legacy","fill","key","data","onBarClick","children","radius","strokeWidth","stroke"]);const _=zt(),T=o(()=>Me(a.data??_.data));{let p=o(()=>Ae("bars"));Se(c,{get class(){return t(p)},children:(r,s)=>{var n=X(),x=I(n);{var m=S=>{var E=X(),Y=I(E);Ot(Y,()=>a.children),v(S,E)},M=S=>{var E=X(),Y=I(E);mt(Y,19,()=>t(T),(A,f)=>e()(A,f),(A,f)=>{{let y=o(()=>a.fill??(_.config.c?_.cGet(t(f)):null)),P=o(()=>bt(u,"bars-bar"));se(A,pt({get data(){return t(f)},get radius(){return C()},get strokeWidth(){return G()},get stroke(){return H()},get fill(){return t(y)},onclick:g=>h()(g,{data:t(f)})},()=>t(P)))}}),v(S,E)};Q(x,S=>{a.children?S(m):S(M,!1)})}v(r,n)},$$slots:{default:!0}})}Dt()}var qe=V("Average Mood <!>",1),Ue=V("<!> <!> <!> <!>",1),Xe=V('<div class="rounded-lg border border-border/50 bg-background px-3 py-2 text-xs shadow-xl"><div class="font-medium"><!></div> <div class="mt-1 flex items-center gap-2"><div class="h-2 w-2 rounded-full bg-[#485e92]"></div> <span class="text-muted-foreground"> </span></div> <div class="mt-0.5 text-[10px] text-muted-foreground"> </div></div>'),Je=V("<!> <!>",1),Qe=V('<div class="h-[300px] w-full"><!></div>'),Ze=V('<div class="flex h-[300px] w-full items-center justify-center text-sm text-muted-foreground">No mood entries found for the selected criteria</div>'),ta=V("<!> <!>",1);function ea(c,a){wt(a,!0);const e=o(()=>a.selectedTimeRange==="week"||a.selectedTimeRange==="month"?"day":a.selectedTimeRange==="3months"?"week":"month"),h=o(()=>{if(a.entries.length===0)return[];const _=Bt(a.entries),T=Array.from(_.entries()).map(([r,s])=>{const n=s.reduce((x,m)=>x+m.moodLevel,0)/s.length;return{date:new Date(r+"T12:00:00"),averageMood:n,entryCount:s.length}}).sort((r,s)=>r.date.getTime()-s.date.getTime());if(t(e)==="day")return T.map(r=>({...r,endDate:void 0}));const p=new Nt;return T.forEach(r=>{let s,n,x;if(t(e)==="week"){const M=new ut(r.date),S=M.getDay(),E=S===0?-6:1-S;n=new ut(M),n.setDate(M.getDate()+E),n.setHours(12,0,0,0),x=new ut(n),x.setDate(n.getDate()+6),s=n.toISOString().split("T")[0]}else n=new ut(r.date.getFullYear(),r.date.getMonth(),1,12,0,0,0),x=new ut(r.date.getFullYear(),r.date.getMonth()+1,0,12,0,0,0),s=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}`;p.has(s)||p.set(s,{date:n,endDate:x,totalMood:0,entryCount:0});const m=p.get(s);m.totalMood+=r.averageMood*r.entryCount,m.entryCount+=r.entryCount}),Array.from(p.values()).map(r=>({date:r.date,averageMood:r.totalMood/r.entryCount,entryCount:r.entryCount,endDate:r.endDate})).sort((r,s)=>r.date.getTime()-s.date.getTime())}),C=o(()=>{if(t(h).length===0)return[new Date,new Date];const _=t(h).map(T=>T.date.getTime());return[new Date(Math.min(..._)),new Date(Math.max(..._))]}),G=o(()=>{if(t(h).length===0)return[];if(a.selectedTimeRange==="week"||t(h).length<=5)return t(h).map(p=>p.date);const _=[],T=(t(h).length-1)/4;for(let p=0;p<5;p++){const r=Math.round(p*T);_.push(t(h)[r].date)}return _});var H=X(),u=I(H);lt(u,()=>Vt,(_,T)=>{T(_,{class:"w-full",children:(p,r)=>{var s=ta(),n=I(s);lt(n,()=>Ht,(m,M)=>{M(m,{children:(S,E)=>{var Y=X(),A=I(Y);lt(A,()=>Yt,(f,y)=>{y(f,{class:"text-2xl",children:(P,g)=>{Ct();var b=qe(),W=j(I(b));{var F=N=>{var R=St("(by week)");v(N,R)},J=N=>{var R=X(),i=I(R);{var d=w=>{var l=St("(by month)");v(w,l)};Q(i,w=>{t(e)==="month"&&w(d)},!0)}v(N,R)};Q(W,N=>{t(e)==="week"?N(F):N(J,!1)})}v(P,b)},$$slots:{default:!0}})}),v(S,Y)},$$slots:{default:!0}})});var x=j(n,2);lt(x,()=>Kt,(m,M)=>{M(m,{children:(S,E)=>{var Y=X(),A=I(Y);{var f=P=>{var g=Qe(),b=O(g);{let W=o(Re),F=o(()=>[new ut(t(C)[0]),new ut(t(C)[1])]),J=o(Pe);re(b,{get data(){return t(h)},x:"date",get xScale(){return t(W)},get xDomain(){return t(F)},y:"averageMood",get yScale(){return t(J)},yDomain:[-10,10],padding:{top:16,bottom:32,left:48,right:16},tooltip:{mode:"bisect-x"},children:(N,R)=>{var i=Je(),d=I(i);ne(d,{children:(l,k)=>{var $=Ue(),L=I($);Wt(L,{placement:"left",grid:!0,rule:!1,ticks:[-10,-5,0,5,10],format:K=>{const U=Math.round(K);return U>0?`+${U}`:String(U)},class:"text-xs text-muted-foreground"});var B=j(L,2);Wt(B,{placement:"bottom",rule:!1,get ticks(){return t(G)},format:K=>{const U=t(h).find(rt=>rt.date.getTime()===K.getTime());if(!U)return"";if(t(e)==="day")return U.date.toLocaleDateString("en-GB",{month:"short",day:"numeric"});if(t(e)==="week"){const rt=U.date.getDate(),it=U.endDate.getDate(),ft=U.date.toLocaleDateString("en-GB",{month:"short"}),z=U.endDate.toLocaleDateString("en-GB",{month:"short"});return ft===z?`${ft} ${rt}-${it}`:`${ft} ${rt}-${z} ${it}`}else return U.date.toLocaleDateString("en-GB",{month:"short",year:"numeric"})},class:"text-xs text-muted-foreground"});var q=j(B,2);ae(q,{get curve(){return Ce},class:"fill-none stroke-[#485e92] stroke-2"});var at=j(q,2);Ve(at,{points:!0,lines:!0}),v(l,$)},$$slots:{default:!0}});var w=j(d,2);{const l=(k,$)=>{let L=()=>$?.().data;var B=Xe(),q=O(B),at=O(q);{var K=tt=>{var gt=St();st(et=>nt(gt,et),[()=>L().date.toLocaleDateString("en-GB",{month:"short",day:"numeric",year:"numeric"})]),v(tt,gt)},U=tt=>{var gt=St();st((et,vt)=>nt(gt,`${et??""}
                    -
                    ${vt??""}`),[()=>L().date.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}),()=>L().endDate.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]),v(tt,gt)};Q(at,tt=>{t(e)==="day"?tt(K):tt(U,!1)})}D(q);var rt=j(q,2),it=j(O(rt),2),ft=O(it);D(it),D(rt);var z=j(rt,2),Z=O(z);D(z),D(B),st(tt=>{nt(ft,`Avg Mood: ${L().averageMood>0?"+":""}${tt??""}`),nt(Z,`${L().entryCount??""}
                  ${L().entryCount===1?"entry":"entries"}`)},[()=>L().averageMood.toFixed(1)]),v(k,B)};lt(w,()=>Te,(k,$)=>{$(k,{variant:"none",children:l,$$slots:{default:!0}})})}v(N,i)},$$slots:{default:!0}})}D(g),v(P,g)},y=P=>{var g=Ze();v(P,g)};Q(A,P=>{t(h).length>0?P(f):P(y,!1)})}v(S,Y)},$$slots:{default:!0}})}),v(p,s)},$$slots:{default:!0}})}),v(c,H),Dt()}var aa=V("Entry Count <!>",1),ra=V("<!> <!> <!>",1),na=V('<div class="h-[300px] w-full"><!></div>'),oa=V('<div class="flex h-[300px] w-full items-center justify-center text-sm text-muted-foreground">No mood entries found for the selected criteria</div>'),sa=V("<!> <!>",1);function ia(c,a){wt(a,!0);const e=o(()=>a.selectedTimeRange==="week"||a.selectedTimeRange==="month"?"day":a.selectedTimeRange==="3months"?"week":"month"),h=o(()=>{if(a.entries.length===0)return[];const _=Bt(a.entries),T=Array.from(_.entries()).map(([r,s])=>({date:r,count:s.length,dateObj:new Date(r+"T12:00:00")})).sort((r,s)=>r.dateObj.getTime()-s.dateObj.getTime());if(t(e)==="day")return T.map(r=>({...r,endDate:void 0}));const p=new Nt;return T.forEach(r=>{let s,n,x;if(t(e)==="week"){const M=new ut(r.dateObj),S=M.getDay(),E=S===0?-6:1-S;n=new ut(M),n.setDate(M.getDate()+E),n.setHours(0,0,0,0),x=new ut(n),x.setDate(n.getDate()+6),s=n.toISOString().split("T")[0]}else n=new ut(r.dateObj.getFullYear(),r.dateObj.getMonth(),1),x=new ut(r.dateObj.getFullYear(),r.dateObj.getMonth()+1,0),s=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}`;p.has(s)||p.set(s,{dateObj:n,endDate:x,count:0,entries:[]});const m=p.get(s);m.count+=r.count,m.entries.push(r.count)}),Array.from(p.values()).map(r=>({date:r.dateObj.toISOString().split("T")[0],count:r.count,dateObj:r.dateObj,endDate:r.endDate})).sort((r,s)=>r.dateObj.getTime()-s.dateObj.getTime())}),C=o(()=>{if(t(h).length===0)return 10;const _=Math.max(...t(h).map(T=>T.count));return Math.ceil(_*1.1)}),G=o(()=>{if(t(h).length===0)return[];if(a.selectedTimeRange==="week"||t(h).length<=5)return t(h).map(p=>p.date);const _=[],T=(t(h).length-1)/4;for(let p=0;p<5;p++){const r=Math.round(p*T);_.push(t(h)[r].date)}return _});var H=X(),u=I(H);lt(u,()=>Vt,(_,T)=>{T(_,{class:"w-full",children:(p,r)=>{var s=sa(),n=I(s);lt(n,()=>Ht,(m,M)=>{M(m,{children:(S,E)=>{var Y=X(),A=I(Y);lt(A,()=>Yt,(f,y)=>{y(f,{class:"text-2xl",children:(P,g)=>{Ct();var b=aa(),W=j(I(b));{var F=N=>{var R=St("(by week)");v(N,R)},J=N=>{var R=X(),i=I(R);{var d=w=>{var l=St("(by month)");v(w,l)};Q(i,w=>{t(e)==="month"&&w(d)},!0)}v(N,R)};Q(W,N=>{t(e)==="week"?N(F):N(J,!1)})}v(P,b)},$$slots:{default:!0}})}),v(S,Y)},$$slots:{default:!0}})});var x=j(n,2);lt(x,()=>Kt,(m,M)=>{M(m,{children:(S,E)=>{var Y=X(),A=I(Y);{var f=P=>{var g=na(),b=O(g);{let W=o(()=>oe().padding(.2)),F=o(()=>[0,t(C)]);re(b,{get data(){return t(h)},x:"date",get xScale(){return t(W)},y:"count",get yDomain(){return t(F)},padding:{top:16,bottom:32,left:48,right:16},children:(J,N)=>{ne(J,{children:(R,i)=>{var d=ra(),w=I(d);Wt(w,{placement:"left",grid:!0,rule:!1,ticks:5,format:$=>Math.round($).toString(),class:"text-xs text-muted-foreground"});var l=j(w,2);Wt(l,{placement:"bottom",rule:!1,get ticks(){return t(G)},format:$=>{const L=t(h).find(B=>B.date===$);if(!L)return $;if(t(e)==="day")return L.dateObj.toLocaleDateString("en-GB",{month:"short",day:"numeric"});if(t(e)==="week"){const B=L.dateObj.getDate(),q=L.endDate.getDate(),at=L.dateObj.toLocaleDateString("en-GB",{month:"short"}),K=L.endDate.toLocaleDateString("en-GB",{month:"short"});return at===K?`${at} ${B}-${q}`:`${at} ${B}-${K} ${q}`}else return L.dateObj.toLocaleDateString("en-GB",{month:"short",year:"numeric"})},class:"text-xs text-muted-foreground"});var k=j(l,2);ze(k,{radius:4,strokeWidth:0,class:"fill-[#485e92]"}),v(R,d)},$$slots:{default:!0}})},$$slots:{default:!0}})}D(g),v(P,g)},y=P=>{var g=oa();v(P,g)};Q(A,P=>{t(h).length>0?P(f):P(y,!1)})}v(S,Y)},$$slots:{default:!0}})}),v(p,s)},$$slots:{default:!0}})}),v(c,H),Dt()}var la=V('<button type="button" class="flex flex-1 flex-col items-center gap-1"><span class="text-[10px] text-[#44464f]"> </span> <div class="aspect-square w-full max-w-10 rounded-md transition-transform hover:scale-105"></div> <span class="text-[10px] text-[#44464f]"> </span></button>'),da=V('<div class="flex flex-col gap-2"><div class="flex w-full justify-between gap-1"></div></div>'),ca=V('<span class="flex-1 text-center text-[10px] text-[#44464f]"> </span>'),ua=V('<button type="button" class="flex flex-1 flex-col items-center gap-0.5"><div></div> <span> </span></button>'),fa=V('<div class="flex w-full justify-between gap-1"></div>'),ga=V('<div class="flex flex-col gap-1"><div class="flex justify-between gap-1 px-1"></div> <!></div>'),va=V('<span class="absolute text-xs whitespace-nowrap"> </span>'),ma=V('<span class="text-[10px]"> </span>'),ha=V('<div class="flex items-center justify-end pr-1"><!></div>'),xa=V('<button type="button"></button>'),ya=V('<div class="flex flex-col"></div>'),_a=V('<div class="overflow-x-auto"><div class="inline-flex flex-col" style="min-width: fit-content;"><div class="mb-1 flex text-xs text-[#44464f]"><div class="relative flex" style="height: 16px;"></div></div> <div class="flex"><div class="flex shrink-0 flex-col text-xs text-[#44464f]"></div> <div class="flex"></div></div></div></div>'),pa=V('<div class="rounded-xl border border-[#c5c6d0] bg-white p-4"><h3 class="mb-3 text-sm font-semibold text-[#1b1b1f]">Mood Activity</h3> <!> <div class="mt-3 flex items-center justify-end gap-1 text-xs text-[#44464f]"><span>Bad</span> <div class="h-[11px] w-[11px] rounded-sm" style="background-color: #ebedf0;"></div> <div class="h-[11px] w-[11px] rounded-sm" style="background-color: #e57373;"></div> <div class="h-[11px] w-[11px] rounded-sm" style="background-color: #ffb74d;"></div> <div class="h-[11px] w-[11px] rounded-sm" style="background-color: #fff176;"></div> <div class="h-[11px] w-[11px] rounded-sm" style="background-color: #aed581;"></div> <div class="h-[11px] w-[11px] rounded-sm" style="background-color: #66bb6a;"></div> <span>Good</span></div></div>');function ba(c,a){wt(a,!0);const e=o(()=>{switch(a.selectedTimeRange){case"week":return 7;case"month":return 30;case"3months":return 90;case"year":return 365}}),h=o(()=>a.selectedTimeRange==="week"),C=o(()=>a.selectedTimeRange==="month"),G=o(()=>{const f=new Date;f.setHours(23,59,59,999);const y=Bt(a.entries),P=new Map;for(const[W,F]of y){const J=F.reduce((N,R)=>N+R.moodLevel,0)/F.length;P.set(W,{avgMood:J,count:F.length})}const g=[],b=new Date(f);for(b.setDate(b.getDate()-t(e)+1);b<=f;){const W=b.toISOString().split("T")[0],F=P.get(W);g.push({date:new Date(b),dateKey:W,avgMood:F?F.avgMood:null,count:F?F.count:0}),b.setDate(b.getDate()+1)}return g}),H=o(()=>{if(t(h)||t(C))return[];const f=[],y=t(G)[0];if(!y)return f;const P=y.date.getDay();let g=[];for(let b=0;b<P;b++)g.push({date:new Date(0),dateKey:`empty-start-${b}`,avgMood:null,count:0,isEmpty:!0});for(const b of t(G))g.push(b),g.length===7&&(f.push(g),g=[]);if(g.length>0){for(;g.length<7;)g.push({date:new Date(0),dateKey:`empty-end-${g.length}`,avgMood:null,count:0,isEmpty:!0});f.push(g)}return f});function u(f,y){return y?"transparent":f===null?"#ebedf0":he(f)}function _(f){return f.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})}function T(f){return f.toLocaleDateString("en-US",{weekday:"short"})}const p=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],r=o(()=>{switch(a.selectedTimeRange){case"3months":case"year":return 18;default:return 18}}),s=o(()=>{switch(a.selectedTimeRange){case"3months":case"year":return 2;default:return 2}}),n=o(()=>{if(t(h)||t(C))return[];const f=[];let y=-1;return t(H).forEach((P,g)=>{const b=P.find(W=>!W.isEmpty);if(b){const W=b.date.getMonth();W!==y&&(y=W,f.push({month:b.date.toLocaleDateString("en-US",{month:"short"}),weekIndex:g}))}}),f}),x=o(()=>{if(!t(C))return[];const f=[],y=t(G)[0];if(!y)return f;const P=y.date.getDay();let g=[];for(let b=0;b<P;b++)g.push({date:new Date(0),dateKey:`empty-start-${b}`,avgMood:null,count:0,isEmpty:!0});for(const b of t(G))g.push(b),g.length===7&&(f.push(g),g=[]);if(g.length>0){for(;g.length<7;)g.push({date:new Date(0),dateKey:`empty-end-${g.length}`,avgMood:null,count:0,isEmpty:!0});f.push(g)}return f});function m(f,y){y||(Qt.setDate(f),Ee.setDate(f),Oe(`${$e}/`))}let M=It(null);ie(()=>{a.selectedTimeRange,requestAnimationFrame(()=>{t(M)&&(t(M).scrollLeft=t(M).scrollWidth)})});var S=pa(),E=j(O(S),2);{var Y=f=>{var y=da(),P=O(y);mt(P,21,()=>t(G),g=>g.dateKey,(g,b)=>{var W=la();W.__click=()=>m(t(b).date);var F=O(W),J=O(F,!0);D(F);var N=j(F,2),R=j(N,2),i=O(R,!0);D(R),D(W),st((d,w,l,k)=>{nt(J,d),xt(N,`background-color: ${w??""};`),Et(N,"title",l),nt(i,k)},[()=>T(t(b).date),()=>u(t(b).avgMood),()=>`${_(t(b).date)}
${t(b).count>0?`Entries: ${t(b).count}
Average mood: ${t(b).avgMood?.toFixed(1)}`:"No entries"}`,()=>t(b).date.getDate()]),v(g,W)}),D(P),D(y),v(f,y)},A=f=>{var y=X(),P=I(y);{var g=W=>{var F=ga(),J=O(F);mt(J,20,()=>p,R=>R,(R,i)=>{var d=ca(),w=O(d,!0);D(d),st(()=>nt(w,i)),v(R,d)}),D(J);var N=j(J,2);mt(N,17,()=>t(x),$t,(R,i)=>{var d=fa();mt(d,21,()=>t(i),w=>w.dateKey,(w,l)=>{var k=ua();k.__click=()=>m(t(l).date,t(l).isEmpty);var $=O(k),L=j($,2),B=O(L,!0);D(L),D(k),st((q,at,K)=>{k.disabled=t(l).isEmpty,_t($,1,`aspect-square w-full max-w-10 rounded-md transition-transform ${t(l).isEmpty?"":"cursor-pointer hover:scale-105"}`),xt($,`background-color: ${q??""};`),Et($,"title",at),_t(L,1,`text-[10px] text-[#44464f] ${t(l).isEmpty?"invisible":""}`),nt(B,K)},[()=>u(t(l).avgMood,t(l).isEmpty),()=>t(l).isEmpty?"":`${_(t(l).date)}
${t(l).count>0?`Entries: ${t(l).count}
Average mood: ${t(l).avgMood?.toFixed(1)}`:"No entries"}`,()=>t(l).date.getDate()]),v(w,k)}),D(d),v(R,d)}),D(F),v(W,F)},b=W=>{var F=_a(),J=O(F),N=O(J),R=O(N);mt(R,21,()=>t(n),l=>l.weekIndex,(l,k)=>{var $=va(),L=O($,!0);D($),st(()=>{xt($,`left: ${t(k).weekIndex*(t(r)+t(s))}px;`),nt(L,t(k).month)}),v(l,$)}),D(R),D(N);var i=j(N,2),d=O(i);mt(d,21,()=>p,$t,(l,k,$)=>{var L=ha(),B=O(L);{var q=at=>{var K=ma(),U=O(K,!0);D(K),st(()=>nt(U,t(k))),v(at,K)};Q(B,at=>{$%2===1&&at(q)})}D(L),st(()=>xt(L,`height: ${t(r)??""}px; width: ${a.selectedTimeRange==="year"?20:28}px;`)),v(l,L)}),D(d);var w=j(d,2);mt(w,21,()=>t(H),$t,(l,k)=>{var $=ya();mt($,21,()=>t(k),L=>L.dateKey,(L,B)=>{var q=xa();q.__click=()=>m(t(B).date,t(B).isEmpty),st((at,K,U)=>{_t(q,1,`rounded-sm ${t(B).isEmpty?"cursor-default":"cursor-pointer"} transition-transform ${t(B).isEmpty?"":"hover:scale-110"}`),xt(q,`width: ${t(r)??""}px; height: ${t(r)??""}px; background-color: ${at??""};`),Et(q,"title",K),q.disabled=t(B).isEmpty,Et(q,"aria-label",U)},[()=>u(t(B).avgMood,t(B).isEmpty),()=>t(B).isEmpty?"":`${_(t(B).date)}
${t(B).count>0?`Entries: ${t(B).count}
Average mood: ${t(B).avgMood?.toFixed(1)}`:"No entries"}`,()=>t(B).isEmpty?"":`View entries for ${_(t(B).date)}`]),v(L,q)}),D($),st(()=>xt($,`gap: ${t(s)??""}px;`)),v(l,$)}),D(w),D(i),D(J),D(F),Le(F,l=>At(M,l),()=>t(M)),st(()=>{xt(N,`padding-left: ${a.selectedTimeRange==="year"?28:36}px;`),xt(i,`gap: ${t(s)??""}px;`),xt(d,`gap: ${t(s)??""}px; margin-right: ${t(s)??""}px;`),xt(w,`gap: ${t(s)??""}px;`)}),v(W,F)};Q(P,W=>{t(C)?W(g):W(b,!1)},!0)}v(f,y)};Q(E,f=>{t(h)?f(Y):f(A,!1)})}Ct(2),D(S),v(c,S),Dt()}Xt(["click"]);var wa=V('<button type="button"><!> <span> </span></button>'),Da=V('<div class="flex h-screen flex-col bg-white"><main class="flex flex-1 flex-col gap-6 overflow-y-auto px-4 py-4"><div class="flex flex-wrap gap-2 py-2"><button type="button">Week</button> <button type="button">Month</button> <button type="button">3 Months</button> <button type="button">Year</button></div> <div class="flex flex-wrap gap-2"></div> <!> <!> <!> <!></main> <!></div>');function Ba(c,a){wt(a,!0);let e=It("3months"),h=It(le(new Set));const C=o(()=>{const A=new Date,f=new ut(A);f.setHours(23,59,59,999);const y=new ut(A);switch(t(e)){case"week":y.setDate(A.getDate()-7);break;case"month":y.setMonth(A.getMonth()-1);break;case"3months":y.setMonth(A.getMonth()-3);break;case"year":y.setFullYear(A.getFullYear()-1);break}return y.setHours(0,0,0,0),{start:y,end:f}}),G=o(()=>Qt.allEntries.filter(A=>A.date>=t(C).start&&A.date<=t(C).end?t(h).size===0?!0:A.labels.some(y=>t(h).has(y.id)):!1));function H(A){const f=new fe(t(h));f.has(A)?f.delete(A):f.add(A),At(h,f,!0)}var u=Da();ue("u6zn5i",A=>{de(()=>{ce.title="Insights - MoodLog"})});var _=O(u),T=O(_),p=O(T);p.__click=()=>At(e,"week");var r=j(p,2);r.__click=()=>At(e,"month");var s=j(r,2);s.__click=()=>At(e,"3months");var n=j(s,2);n.__click=()=>At(e,"year"),D(T);var x=j(T,2);mt(x,21,()=>ve.all,A=>A.id,(A,f)=>{const y=o(()=>Zt(t(f).icon)),P=o(()=>t(h).has(t(f).id));var g=wa();g.__click=()=>H(t(f).id);var b=O(g);lt(b,()=>t(y),(J,N)=>{N(J,{class:"h-4 w-4",strokeWidth:2})});var W=j(b,2),F=O(W,!0);D(W),D(g),st(()=>{_t(g,1,`flex items-center gap-2 rounded-lg border border-[#c5c6d0] px-3 py-1.5 text-sm font-medium transition-colors ${t(P)?"bg-[#d9dff6] text-[#404659]":"bg-white text-[#44464f] hover:bg-gray-50"}`),nt(F,t(f).name)}),v(A,g)}),D(x);var m=j(x,2);Ne(m,{get entries(){return t(G)}});var M=j(m,2);ba(M,{get entries(){return t(G)},get selectedTimeRange(){return t(e)}});var S=j(M,2);ea(S,{get entries(){return t(G)},get selectedTimeRange(){return t(e)}});var E=j(S,2);ia(E,{get entries(){return t(G)},get selectedTimeRange(){return t(e)}}),D(_);var Y=j(_,2);ge(Y,{currentTab:"insights"}),D(u),st(()=>{_t(p,1,`rounded-lg border border-[#c5c6d0] px-3 py-1.5 text-sm font-medium transition-colors ${t(e)==="week"?"bg-[#d9dff6] text-[#404659]":"bg-white text-[#44464f] hover:bg-gray-50"}`),_t(r,1,`rounded-lg border border-[#c5c6d0] px-3 py-1.5 text-sm font-medium transition-colors ${t(e)==="month"?"bg-[#d9dff6] text-[#404659]":"bg-white text-[#44464f] hover:bg-gray-50"}`),_t(s,1,`rounded-lg border border-[#c5c6d0] px-3 py-1.5 text-sm font-medium transition-colors ${t(e)==="3months"?"bg-[#d9dff6] text-[#404659]":"bg-white text-[#44464f] hover:bg-gray-50"}`),_t(n,1,`rounded-lg border border-[#c5c6d0] px-3 py-1.5 text-sm font-medium transition-colors ${t(e)==="year"?"bg-[#d9dff6] text-[#404659]":"bg-white text-[#44464f] hover:bg-gray-50"}`)}),v(c,u),Dt()}Xt(["click"]);export{Ba as component};
