import{f as J,a as K,s as U}from"../chunks/BFhiv3SJ.js";import{o as V}from"../chunks/D5tRzjgB.js";import{p as X,l as Y,b as o,g as t,s as a,t as Z,c as ee,e as te,d as i,f as n,u as R,$ as oe,r as s,h as re,o as ae}from"../chunks/CA0-C3dw.js";import{i as ie}from"../chunks/CL7y_OO_.js";import{h as ne}from"../chunks/BbAIoi3q.js";import{b as se}from"../chunks/DiPNG_KF.js";import{a as le,b as ce}from"../chunks/CBnzvDxJ.js";import{g as y}from"../chunks/DbImERPO.js";import{b}from"../chunks/B85Mm5hY.js";import{p as fe}from"../chunks/QjZORjRk.js";import{N as de}from"../chunks/uSzcXkz2.js";import{R as pe}from"../chunks/DvqOxnrp.js";import{F as A}from"../chunks/CowobxZk.js";import{D as ue,T as me}from"../chunks/BYLCpXat.js";import{D as ve}from"../chunks/BRlx9kVS.js";import{r as _}from"../chunks/BEssaiDy.js";import{S as ge}from"../chunks/DJNjurQJ.js";const he=!1,Ne=Object.freeze(Object.defineProperty({__proto__:null,prerender:he},Symbol.toStringTag,{value:"Module"}));var xe=J('<div class="flex h-screen flex-col bg-white"><main class="flex flex-1 flex-col overflow-y-auto px-4 py-3"><div class="flex w-full flex-col gap-5.5 px-0 pt-3 pb-24"><h1 class="text-center text-[22px] leading-7 font-normal text-black"> </h1> <!> <div class="relative w-full"><textarea id="reflection-notes" placeholder="Write your thoughts about today..." rows="8" class="w-full resize-none rounded border-[3px] border-indigo-700 px-4 py-3 text-base text-gray-900 transition-colors outline-none focus:border-indigo-800"></textarea> <label for="reflection-notes" class="absolute -top-2.5 left-3 bg-white px-1 text-xs text-indigo-700">Notes for this day</label></div> <div class="flex w-full flex-col gap-8 py-3"><!></div></div> <!> <!></main> <!></div> <!>',1);function Pe(C,I){X(I,!0);const O=()=>ce(fe,"$page",Q),[Q,k]=le(),T=R(()=>O().params.id||"");let r=a(void 0),c=a(""),f=a(0),d=a(0),p=a(0),u=a(0),l=a(!1);V(()=>{const e=_.all.find(H=>H.id===t(T));if(!e){y(`${b}/`);return}o(r,e,!0),o(c,e.notes,!0),o(f,e.sleepQuality*10),o(d,e.physicalActivity*10),o(p,e.socialInteractions*10),o(u,e.pressure*10)});const z=R(()=>t(r)?t(r).date.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):"");function N(){if(!t(r))return;const e={...t(r),sleepQuality:Math.round(t(f)/10),physicalActivity:Math.round(t(d)/10),socialInteractions:Math.round(t(p)/10),pressure:Math.round(t(u)/10),notes:t(c).trim()};_.updateReflection(t(r).id,e),y(`${b}/`)}function P(){o(l,!0)}function j(){t(r)&&(_.deleteReflection(t(r).id),o(l,!1),y(`${b}/`))}function B(){o(l,!1)}var D=xe();ne("146z5r6",e=>{te(()=>{oe.title="Edit Reflection - MoodLog"})});var m=Y(D),v=n(m),g=n(v),h=n(g),F=n(h,!0);s(h);var $=i(h,2);{var L=e=>{ve(e,{get date(){return t(r).date}})};ie($,e=>{t(r)&&e(L)})}var x=i($,2),S=n(x);re(S),ae(2),s(x);var w=i(x,2),E=n(w);pe(E,{get sleepQuality(){return t(f)},get physicalActivity(){return t(d)},get socialInteractions(){return t(p)},get pressure(){return t(u)},onSleepQualityChange:e=>o(f,e,!0),onPhysicalActivityChange:e=>o(d,e,!0),onSocialInteractionsChange:e=>o(p,e,!0),onPressureChange:e=>o(u,e,!0)}),s(w),s(g);var M=i(g,2);A(M,{get icon(){return me},onclick:P,label:"Delete reflection",variant:"danger",position:"left"});var G=i(M,2);A(G,{get icon(){return ge},onclick:N,label:"Save reflection"}),s(v);var W=i(v,2);de(W,{currentTab:"mood-entries"}),s(m);var q=i(m,2);ue(q,{title:"Delete reflection?",onConfirm:j,onCancel:B,get isOpen(){return t(l)},set isOpen(e){o(l,e,!0)}}),Z(()=>U(F,t(z))),se(S,()=>t(c),e=>o(c,e)),K(C,D),ee(),k()}export{Pe as component,Ne as universal};
