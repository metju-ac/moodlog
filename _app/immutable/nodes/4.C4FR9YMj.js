import{d as ne,f as A,a as j,s as le}from"../chunks/BFhiv3SJ.js";import{p as de,m as P,g as e,u as g,s as f,a as ce,b as o,l as pe,c as fe,e as me,d as a,f as n,$ as ue,o as z,r as s,t as ve,h as ge}from"../chunks/CA0-C3dw.js";import{h as xe,e as be,r as he,s as _e}from"../chunks/BbAIoi3q.js";import{a as ye,b as we,c as Se}from"../chunks/CBnzvDxJ.js";import{b as B}from"../chunks/DiPNG_KF.js";import{g as $}from"../chunks/DbImERPO.js";import{b as D}from"../chunks/B85Mm5hY.js";import{p as $e}from"../chunks/QjZORjRk.js";import{N as De,l as F}from"../chunks/uSzcXkz2.js";import{M as ke}from"../chunks/CTDb8sgu.js";import{F as V}from"../chunks/CowobxZk.js";import{D as Me,T as Ee}from"../chunks/BYLCpXat.js";import{m as k}from"../chunks/XZa5S7oO.js";import{s as W}from"../chunks/BWxBMTmI.js";import{g as Le}from"../chunks/CjQ_d6Ho.js";import{S as Te}from"../chunks/fgWu1g2x.js";import{S as Ce}from"../chunks/DJNjurQJ.js";const Ne=!1,Ye=Object.freeze(Object.defineProperty({__proto__:null,prerender:Ne},Symbol.toStringTag,{value:"Module"}));var Oe=A("<button><!> <span> </span></button>"),Ie=A('<div class="flex h-screen flex-col bg-white">` <main class="flex flex-1 flex-col overflow-y-auto px-4 py-2.5"><div class="flex w-full flex-col gap-5 pt-2.5 pb-24"><h1 class="text-center text-[22px] leading-7 font-normal text-black">Edit your mood entry</h1> <div class="relative w-full"><input type="text" id="title-input" placeholder="Input" class="h-14 w-full rounded border-[3px] border-indigo-700 px-4 text-base text-gray-900 transition-colors outline-none focus:border-indigo-800"/> <label for="title-input" class="absolute -top-2.5 left-3 bg-white px-1 text-xs text-indigo-700">Title</label></div> <div class="flex flex-col gap-2"><p class="text-sm font-medium text-black">How are you feeling?</p> <!></div> <div class="flex flex-col gap-2"><p class="text-sm font-medium text-black">What\'s the context?</p> <div class="flex w-full flex-wrap items-center gap-1 py-2"></div></div> <div class="relative w-full"><textarea id="notes-textarea" placeholder="Input" rows="12" class="w-full resize-none rounded border-[3px] border-indigo-700 px-4 py-3 text-base text-gray-900 transition-colors outline-none focus:border-indigo-800"></textarea> <label for="notes-textarea" class="absolute -top-2.5 left-3 bg-white px-1 text-xs text-indigo-700">Notes for this entry</label></div></div> <!> <!></main> <!></div> <!>',1);function Ze(H,q){de(q,!0);const G=()=>we($e,"$page",J),[J,K]=ye(),m=g(()=>G().params.id||""),i=g(()=>k.getEntryById(e(m)));let l=f(!1);P(()=>{(!e(i)||!e(m))&&$(`${D}/`)});let d=f(""),u=f(""),v=f(0),c=f(ce(new Set));P(()=>{e(i)&&(o(d,e(i).title,!0),o(u,e(i).description,!0),o(v,e(i).moodLevel*10),o(c,new Set(e(i).labels.map(t=>t.id)),!0))});const Q=g(()=>Math.round(e(v)/10));function R(t){const r=new Te(e(c));r.has(t)?r.delete(t):r.add(t),o(c,r,!0)}function U(){if(!e(d).trim()){alert("Please enter a title");return}if(!e(i))return;const t=F.all.filter(r=>e(c).has(r.id));k.updateEntry(e(m),{id:e(i).id,title:e(d).trim(),description:e(u).trim(),labels:t,moodLevel:e(Q),date:e(i).date}),W("Mood entry updated","success"),$(`${D}/`)}function X(){o(l,!0)}function Y(){k.deleteEntry(e(m)),o(l,!1),W("Mood entry deleted","success"),$(`${D}/`)}function Z(){o(l,!1)}var M=Ie();xe("79rbxf",t=>{me(()=>{ue.title="Edit Mood Entry - MoodLog"})});var x=pe(M),b=a(n(x)),h=n(b),_=a(n(h),2),E=n(_);he(E),z(2),s(_);var y=a(_,2),ee=a(n(y),2);ke(ee,{get value(){return e(v)},onValueChange:t=>o(v,t,!0),labels:["Negative","Neutral","Positive"]}),s(y);var w=a(y,2),L=a(n(w),2);be(L,21,()=>F.all,t=>t.id,(t,r)=>{const re=g(()=>Le(e(r).icon));var p=Oe();p.__click=()=>R(e(r).id);var O=n(p);Se(O,()=>e(re),(S,ie)=>{ie(S,{class:"h-4 w-4",strokeWidth:2})});var I=a(O,2),se=n(I,!0);s(I),s(p),ve(S=>{_e(p,1,`flex h-8 items-center gap-2 rounded-lg border px-3 py-1.5 text-sm font-medium transition-colors ${S??""}`),le(se,e(r).name)},[()=>e(c).has(e(r).id)?"border-indigo-700 bg-indigo-50 text-indigo-900":"border-gray-300 text-gray-700 hover:bg-gray-50"]),j(t,p)}),s(L),s(w);var T=a(w,2),C=n(T);ge(C),z(2),s(T),s(h);var N=a(h,2);V(N,{get icon(){return Ee},onclick:X,label:"Delete mood entry",variant:"danger",position:"left"});var te=a(N,2);V(te,{get icon(){return Ce},onclick:U,label:"Save mood entry"}),s(b);var oe=a(b,2);De(oe,{currentTab:"mood-entries"}),s(x);var ae=a(x,2);Me(ae,{title:"Delete mood entry?",onConfirm:Y,onCancel:Z,get isOpen(){return e(l)},set isOpen(t){o(l,t,!0)}}),B(E,()=>e(d),t=>o(d,t)),B(C,()=>e(u),t=>o(u,t)),j(H,M),fe(),K()}ne(["click"]);export{Ze as component,Ye as universal};
