import{c as H,a as m,d as xe,f as j,s as E}from"../chunks/BSd0SMRY.js";import{p as de,c as ve,k as K,l as pe,s as ie,a as ue,e as a,d as c,r as t,t as L,g as e,u as X,b as Q,W}from"../chunks/CDxfNvir.js";import{I as De,a as we,e as se,i as fe,s as le}from"../chunks/BDbKEsgj.js";import{i as ce}from"../chunks/DkEcSCtK.js";import{g as ne}from"../chunks/e2IiYgiv.js";import{b as oe}from"../chunks/CSjZUAZp.js";import{N as ke}from"../chunks/C-2PxBqF.js";import{C as be,r as G,M as Me}from"../chunks/Bgmy_6R9.js";import{t as ge,s as je,f as Se}from"../chunks/B8CTLBpm.js";import{X as Ce}from"../chunks/Z8YSvgLT.js";import{C as he}from"../chunks/XyggEU7f.js";import{F as Ne}from"../chunks/BewwaFnq.js";import{m as g,S as me}from"../chunks/uDx9JFr1.js";import{s as Pe,r as Fe}from"../chunks/-xzLaWd6.js";import{P as Oe}from"../chunks/3np9UCOR.js";function Te(S,i){de(i,!0);let s=Fe(i,["$$slots","$$events","$$legacy"]);const d=[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}]];De(S,Pe({name:"calendar"},()=>s,{get iconNode(){return d},children:(C,J)=>{var p=H(),N=K(p);we(N,()=>i.children??pe),m(C,p)},$$slots:{default:!0}})),ve()}var Re=j('<div class="text-center text-xs font-medium text-gray-500"> </div>'),Ae=j('<div class="aspect-square"></div>'),Be=j("<button> </button>"),Ie=j('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4"><div class="w-full max-w-sm rounded-2xl bg-white p-6 shadow-2xl"><div class="mb-4 flex items-center justify-between"><h2 class="text-xl font-semibold text-gray-900">Select Date</h2> <button class="flex h-8 w-8 items-center justify-center rounded-full text-gray-500 transition-colors hover:bg-gray-100" aria-label="Close"><!></button></div> <div class="mb-4 flex items-center justify-between"><button class="flex h-10 w-10 items-center justify-center rounded-full text-gray-700 transition-colors hover:bg-gray-100" aria-label="Previous month"><!></button> <div class="text-base font-medium text-gray-900"> </div> <button class="flex h-10 w-10 items-center justify-center rounded-full text-gray-700 transition-colors hover:bg-gray-100" aria-label="Next month"><!></button></div> <div class="mb-2 grid grid-cols-7 gap-1"></div> <div class="grid grid-cols-7 gap-1"></div> <div class="mt-4 flex justify-end"><button class="rounded-lg bg-gray-100 px-4 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-200">Today</button></div></div></div>');function Ye(S,i){de(i,!0);let s=ie(ue(i.selectedDate.getMonth())),d=ie(ue(i.selectedDate.getFullYear()));const C=["January","February","March","April","May","June","July","August","September","October","November","December"],J=["Mo","Tu","We","Th","Fr","Sa","Su"];function p(o,n){return new Date(n,o+1,0).getDate()}function N(o,n){const v=new Date(n,o,1).getDay();return v===0?6:v-1}const U=X(()=>{const o=p(e(s),e(d)),n=N(e(s),e(d)),v=[];for(let l=0;l<n;l++)v.push(null);for(let l=1;l<=o;l++)v.push(l);return v});function P(){e(s)===0?(Q(s,11),W(d,-1)):W(s,-1)}function q(){e(s)===11?(Q(s,0),W(d)):W(s)}function V(o){const n=new Date(e(d),e(s),o);i.onSelectDate(n),i.onClose()}function Z(o){return o===i.selectedDate.getDate()&&e(s)===i.selectedDate.getMonth()&&e(d)===i.selectedDate.getFullYear()}function F(o){const n=new Date;return o===n.getDate()&&e(s)===n.getMonth()&&e(d)===n.getFullYear()}function O(o){o.target===o.currentTarget&&i.onClose()}var T=H(),R=K(T);{var $=o=>{var n=Ie();n.__click=O;var v=a(n),l=a(v),A=c(a(l),2);A.__click=function(...b){i.onClose?.apply(this,b)};var B=a(A);Ce(B,{class:"h-5 w-5"}),t(A),t(l);var I=c(l,2),y=a(I);y.__click=P;var Y=a(y);be(Y,{class:"h-5 w-5"}),t(y);var D=c(y,2),ee=a(D);t(D);var z=c(D,2);z.__click=q;var te=a(z);he(te,{class:"h-5 w-5"}),t(z),t(I);var w=c(I,2);se(w,21,()=>J,fe,(b,u)=>{var _=Re(),r=a(_,!0);t(_),L(()=>E(r,e(u))),m(b,_)}),t(w);var x=c(w,2);se(x,21,()=>e(U),fe,(b,u)=>{var _=H(),r=K(_);{var M=f=>{var h=Ae();m(f,h)},re=f=>{var h=Be();h.__click=()=>V(e(u));var ye=a(h,!0);t(h),L(_e=>{le(h,1,`aspect-square rounded-lg text-sm font-medium transition-colors
                ${_e??""}`),E(ye,e(u))},[()=>Z(e(u))?"bg-indigo-600 text-white hover:bg-indigo-700":F(e(u))?"bg-indigo-50 text-indigo-600 hover:bg-indigo-100":"text-gray-700 hover:bg-gray-100"]),m(f,h)};ce(r,f=>{e(u)===null?f(M):f(re,!1)})}m(b,_)}),t(x);var k=c(x,2),ae=a(k);ae.__click=()=>{const b=new Date;i.onSelectDate(b),i.onClose()},t(k),t(v),t(n),L(()=>E(ee,`${C[e(s)]??""}
          ${e(d)??""}`)),ge(3,v,()=>je,()=>({duration:200,start:.95})),ge(3,n,()=>Se,()=>({duration:200})),m(o,n)};ce(R,o=>{i.isOpen&&o($)})}m(S,T),ve()}xe(["click"]);var ze=j('<div class="flex flex-col items-center justify-center gap-4 py-16 text-center"><div class="text-6xl opacity-50">üìù</div> <div class="flex flex-col gap-2"><h2 class="text-xl font-medium text-gray-900">No mood entries yet</h2> <p class="text-sm text-gray-600">Start tracking your mood by adding your first entry for this day</p></div></div>'),Ee=j('<div class="flex h-screen flex-col bg-white"><div class="sticky top-0 z-10 bg-white px-4 py-2.5 shadow-sm"><div class="flex items-center justify-between"><h1 class="text-[28px] leading-9 font-normal text-black"> </h1> <div class="flex items-center gap-1.5"><button class="flex h-12 w-[52px] items-center justify-center rounded-full bg-indigo-100 transition-colors hover:bg-indigo-200" aria-label="Open date picker"><!></button> <button class="flex h-12 w-[52px] items-center justify-center rounded-full bg-indigo-100 transition-colors hover:bg-indigo-200" aria-label="Previous day"><!></button> <button class="flex h-12 w-[52px] items-center justify-center rounded-full bg-indigo-100 transition-colors hover:bg-indigo-200" aria-label="Next day"><!></button></div></div></div> <main class="flex flex-1 flex-col justify-between overflow-y-auto px-4 py-2.5"><div class="flex w-full flex-col"><div class="flex w-full flex-col gap-4"><!></div></div> <div class="flex w-full items-end justify-between py-4"><button><span> </span></button> <!></div></main> <!> <!></div>');function at(S,i){de(i,!0);let s=ie(!1);const d=X(()=>g.selectedDate.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}));function C(){const r=new me(g.selectedDate);r.setDate(r.getDate()-1),g.setDate(r),G.setDate(r)}function J(){const r=new me(g.selectedDate);r.setDate(r.getDate()+1),g.setDate(r),G.setDate(r)}function p(){Q(s,!0)}function N(){Q(s,!1)}function U(r){g.setDate(r),G.setDate(r)}const P=X(()=>G.getReflectionByDate(g.selectedDate)),q=X(()=>e(P)!==void 0);function V(){e(P)?ne(`${oe}/reflection/${e(P).id}`):ne(`${oe}/reflection/create`)}function Z(){ne(`${oe}/add`)}var F=Ee(),O=a(F),T=a(O),R=a(T),$=a(R,!0);t(R);var o=c(R,2),n=a(o);n.__click=p;var v=a(n);Te(v,{class:"h-6 w-6 text-indigo-900"}),t(n);var l=c(n,2);l.__click=C;var A=a(l);be(A,{class:"h-6 w-6 text-indigo-900"}),t(l);var B=c(l,2);B.__click=J;var I=a(B);he(I,{class:"h-6 w-6 text-indigo-900"}),t(B),t(o),t(T),t(O);var y=c(O,2),Y=a(y),D=a(Y),ee=a(D);{var z=r=>{var M=ze();m(r,M)},te=r=>{var M=H(),re=K(M);se(re,17,()=>g.entries,f=>f.id,(f,h)=>{Me(f,{get entry(){return e(h)}})}),m(r,M)};ce(ee,r=>{g.entries.length===0?r(z):r(te,!1)})}t(D),t(Y);var w=c(Y,2),x=a(w);x.__click=V;var k=a(x);le(k,1,"text-base font-medium tracking-[0.15px] text-white");var ae=a(k,!0);t(k),t(x);var b=c(x,2);Ne(b,{get icon(){return Oe},onclick:Z,label:"Add mood entry"}),t(w),t(y);var u=c(y,2);ke(u,{currentTab:"mood-entries"});var _=c(u,2);Ye(_,{get isOpen(){return e(s)},get selectedDate(){return g.selectedDate},onClose:N,onSelectDate:U}),t(F),L(()=>{E($,e(d)),le(x,1,`lex fixed bottom-20 left-6 z-50 items-center justify-center rounded-full px-6 py-4 transition-colors ${e(q)?"bg-[#485e92] hover:bg-[#3d4f7a]":"bg-red-700 hover:bg-red-800"}`),E(ae,e(q)?"Reflection":"No reflection yet")}),m(S,F),ve()}xe(["click"]);export{at as component};
