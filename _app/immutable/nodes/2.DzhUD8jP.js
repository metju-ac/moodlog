import{c as K,a as g,d as xe,f as j}from"../chunks/-oWnhBs4.js";import{p as de,c as ue,m as Q,o as pe,s as ie,a as ve,e as r,d as l,r as a,t as X,g as e,u as H,b as U,a2 as L}from"../chunks/DxSztoeM.js";import{s as Y}from"../chunks/CDp-2XP4.js";import{I as De,e as se,i as fe,N as we}from"../chunks/BkoKciBr.js";import{i as le}from"../chunks/BRMXUoVx.js";import{c as ke,s as ce}from"../chunks/knLRfhgA.js";import{g as ne}from"../chunks/U29ioo9B.js";import{b as oe}from"../chunks/BUfB920P.js";import{C as be,r as W,M as Me}from"../chunks/PYWbPzi_.js";import{t as ge,s as je,f as Se}from"../chunks/C93LbC6V.js";import{X as Ce,P as Ne}from"../chunks/CFrx3PwP.js";import{C as he}from"../chunks/C496wcNV.js";import{F as Pe}from"../chunks/biZXIRA8.js";import{m as f,S as me}from"../chunks/A7vncAFR.js";import{s as Fe,r as Oe}from"../chunks/CRSDCZzM.js";function Te(S,i){de(i,!0);let s=Oe(i,["$$slots","$$events","$$legacy"]);const c=[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}]];De(S,Fe({name:"calendar"},()=>s,{get iconNode(){return c},children:(C,E)=>{var w=K(),N=Q(w);ke(N,()=>i.children??pe),g(C,w)},$$slots:{default:!0}})),ue()}var Re=j('<div class="text-center text-xs font-medium text-gray-500"> </div>'),Ae=j('<div class="aspect-square"></div>'),Be=j("<button> </button>"),Ie=j('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4"><div class="w-full max-w-sm rounded-2xl bg-white p-6 shadow-2xl"><div class="mb-4 flex items-center justify-between"><h2 class="text-xl font-semibold text-gray-900">Select Date</h2> <button class="flex h-8 w-8 items-center justify-center rounded-full text-gray-500 transition-colors hover:bg-gray-100" aria-label="Close"><!></button></div> <div class="mb-4 flex items-center justify-between"><button class="flex h-10 w-10 items-center justify-center rounded-full text-gray-700 transition-colors hover:bg-gray-100" aria-label="Previous month"><!></button> <div class="text-base font-medium text-gray-900"> </div> <button class="flex h-10 w-10 items-center justify-center rounded-full text-gray-700 transition-colors hover:bg-gray-100" aria-label="Next month"><!></button></div> <div class="mb-2 grid grid-cols-7 gap-1"></div> <div class="grid grid-cols-7 gap-1"></div> <div class="mt-4 flex justify-end"><button class="rounded-lg bg-gray-100 px-4 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-200">Today</button></div></div></div>');function Ye(S,i){de(i,!0);let s=ie(ve(i.selectedDate.getMonth())),c=ie(ve(i.selectedDate.getFullYear()));const C=["January","February","March","April","May","June","July","August","September","October","November","December"],E=["Su","Mo","Tu","We","Th","Fr","Sa"];function w(n,o){return new Date(o,n+1,0).getDate()}function N(n,o){return new Date(o,n,1).getDay()}const V=H(()=>{const n=w(e(s),e(c)),o=N(e(s),e(c)),d=[];for(let u=0;u<o;u++)d.push(null);for(let u=1;u<=n;u++)d.push(u);return d});function P(){e(s)===0?(U(s,11),L(c,-1)):L(s,-1)}function J(){e(s)===11?(U(s,0),L(c)):L(s)}function Z(n){const o=new Date(e(c),e(s),n);i.onSelectDate(o),i.onClose()}function $(n){return n===i.selectedDate.getDate()&&e(s)===i.selectedDate.getMonth()&&e(c)===i.selectedDate.getFullYear()}function F(n){const o=new Date;return n===o.getDate()&&e(s)===o.getMonth()&&e(c)===o.getFullYear()}function O(n){n.target===n.currentTarget&&i.onClose()}var k=K(),T=Q(k);{var R=n=>{var o=Ie();o.__click=O;var d=r(o),u=r(d),b=l(r(u),2);b.__click=function(...v){i.onClose?.apply(this,v)};var ee=r(b);Ce(ee,{class:"h-5 w-5"}),a(b),a(u);var _=l(u,2),M=r(_);M.__click=P;var q=r(M);be(q,{class:"h-5 w-5"}),a(M);var A=l(M,2),te=r(A);a(A);var B=l(A,2);B.__click=J;var z=r(B);he(z,{class:"h-5 w-5"}),a(B),a(_);var m=l(_,2);se(m,21,()=>E,fe,(v,x)=>{var t=Re(),h=r(t,!0);a(t),X(()=>Y(h,e(x))),g(v,t)}),a(m);var p=l(m,2);se(p,21,()=>e(V),fe,(v,x)=>{var t=K(),h=Q(t);{var re=y=>{var D=Ae();g(y,D)},I=y=>{var D=Be();D.__click=()=>Z(e(x));var ye=r(D,!0);a(D),X(_e=>{ce(D,1,`aspect-square rounded-lg text-sm font-medium transition-colors
                ${_e??""}`),Y(ye,e(x))},[()=>$(e(x))?"bg-indigo-600 text-white hover:bg-indigo-700":F(e(x))?"bg-indigo-50 text-indigo-600 hover:bg-indigo-100":"text-gray-700 hover:bg-gray-100"]),g(y,D)};le(h,y=>{e(x)===null?y(re):y(I,!1)})}g(v,t)}),a(p);var G=l(p,2),ae=r(G);ae.__click=()=>{const v=new Date;i.onSelectDate(v),i.onClose()},a(G),a(d),a(o),X(()=>Y(te,`${C[e(s)]??""}
          ${e(c)??""}`)),ge(3,d,()=>je,()=>({duration:200,start:.95})),ge(3,o,()=>Se,()=>({duration:200})),g(n,o)};le(T,n=>{i.isOpen&&n(R)})}g(S,k),ue()}xe(["click"]);var Ee=j('<div class="flex flex-col items-center justify-center gap-4 py-16 text-center"><div class="text-6xl opacity-50">üìù</div> <div class="flex flex-col gap-2"><h2 class="text-xl font-medium text-gray-900">No mood entries yet</h2> <p class="text-sm text-gray-600">Start tracking your mood by adding your first entry for this day</p></div></div>'),Je=j('<div class="flex h-screen flex-col bg-white"><main class="flex flex-1 flex-col justify-between overflow-y-auto px-4 py-2.5"><div class="flex w-full flex-col"><div class="flex items-center justify-between px-0 py-2.5"><h1 class="text-[28px] leading-9 font-normal text-black"> </h1> <div class="flex items-center gap-1.5"><button class="flex h-12 w-[52px] items-center justify-center rounded-full bg-indigo-100 transition-colors hover:bg-indigo-200" aria-label="Open date picker"><!></button> <button class="flex h-12 w-[52px] items-center justify-center rounded-full bg-indigo-100 transition-colors hover:bg-indigo-200" aria-label="Previous day"><!></button> <button class="flex h-12 w-[52px] items-center justify-center rounded-full bg-indigo-100 transition-colors hover:bg-indigo-200" aria-label="Next day"><!></button></div></div> <div class="flex w-full flex-col gap-4"><!></div></div> <div class="flex w-full items-end justify-between py-4"><button><span> </span></button> <!></div></main> <!> <!></div>');function at(S,i){de(i,!0);let s=ie(!1);const c=H(()=>f.selectedDate.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}));function C(){const t=new me(f.selectedDate);t.setDate(t.getDate()-1),f.setDate(t),W.setDate(t)}function E(){const t=new me(f.selectedDate);t.setDate(t.getDate()+1),f.setDate(t),W.setDate(t)}function w(){U(s,!0)}function N(){U(s,!1)}function V(t){f.setDate(t),W.setDate(t)}const P=H(()=>W.getReflectionByDate(f.selectedDate)),J=H(()=>e(P)!==void 0);function Z(){e(P)?ne(`${oe}/reflection/${e(P).id}`):ne(`${oe}/reflection/create`)}function $(){ne(`${oe}/add`)}var F=Je(),O=r(F),k=r(O),T=r(k),R=r(T),n=r(R,!0);a(R);var o=l(R,2),d=r(o);d.__click=w;var u=r(d);Te(u,{class:"h-6 w-6 text-indigo-900"}),a(d);var b=l(d,2);b.__click=C;var ee=r(b);be(ee,{class:"h-6 w-6 text-indigo-900"}),a(b);var _=l(b,2);_.__click=E;var M=r(_);he(M,{class:"h-6 w-6 text-indigo-900"}),a(_),a(o),a(T);var q=l(T,2),A=r(q);{var te=t=>{var h=Ee();g(t,h)},B=t=>{var h=K(),re=Q(h);se(re,17,()=>f.entries,I=>I.id,(I,y)=>{Me(I,{get entry(){return e(y)}})}),g(t,h)};le(A,t=>{f.entries.length===0?t(te):t(B,!1)})}a(q),a(k);var z=l(k,2),m=r(z);m.__click=Z;var p=r(m);ce(p,1,"text-base font-medium tracking-[0.15px] text-white");var G=r(p,!0);a(p),a(m);var ae=l(m,2);Pe(ae,{get icon(){return Ne},onclick:$,label:"Add mood entry"}),a(z),a(O);var v=l(O,2);we(v,{currentTab:"mood-entries"});var x=l(v,2);Ye(x,{get isOpen(){return e(s)},get selectedDate(){return f.selectedDate},onClose:N,onSelectDate:V}),a(F),X(()=>{Y(n,e(c)),ce(m,1,`lex fixed bottom-20 left-6 z-50 items-center justify-center rounded-full px-6 py-4 transition-colors ${e(J)?"bg-[#485e92] hover:bg-[#3d4f7a]":"bg-red-700 hover:bg-red-800"}`),Y(G,e(J)?"Reflection":"No reflection yet")}),g(S,F),ue()}xe(["click"]);export{at as component};
