import{w as E,a4 as F,a5 as S,a6 as U,a7 as I,a8 as A,B as x,a9 as j,aa as Y,ab as C,G as K,H as $,I as q,ac as G,ad as z,n as R,ae as H,af as W,ag as X,g as m,b as D,ah as w,ai as Z,aj as k,W as J,ak as Q,a as V,al as ee,X as te,am as re,an as se,y as ne,F as ie,ao as ae,ap as fe,a3 as _,S as T,aq as M,ar as ue}from"./Dd77Lb4Z.js";class oe{anchor;#t=new Map;#r=new Map;#e=new Map;#s=new Set;#n=!0;constructor(e,s=!0){this.anchor=e,this.#n=s}#i=()=>{var e=E;if(this.#t.has(e)){var s=this.#t.get(e),r=this.#r.get(s);if(r)F(r),this.#s.delete(s);else{var n=this.#e.get(s);n&&(this.#r.set(s,n.effect),this.#e.delete(s),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),r=n.effect)}for(const[i,u]of this.#t){if(this.#t.delete(i),i===e)break;const a=this.#e.get(u);a&&(S(a.effect),this.#e.delete(u))}for(const[i,u]of this.#r){if(i===s||this.#s.has(i))continue;const a=()=>{if(Array.from(this.#t.values()).includes(i)){var c=document.createDocumentFragment();Y(u,c),c.append(I()),this.#e.set(i,{effect:u,fragment:c})}else S(u);this.#s.delete(i),this.#r.delete(i)};this.#n||!r?(this.#s.add(i),U(u,a,!1)):a()}}};#a=e=>{this.#t.delete(e);const s=Array.from(this.#t.values());for(const[r,n]of this.#e)s.includes(r)||(S(n.effect),this.#e.delete(r))};ensure(e,s){var r=E,n=C();if(s&&!this.#r.has(e)&&!this.#e.has(e))if(n){var i=document.createDocumentFragment(),u=I();i.append(u),this.#e.set(e,{effect:A(()=>s(u)),fragment:i})}else this.#r.set(e,A(()=>s(this.anchor)));if(this.#t.set(r,e),n){for(const[a,o]of this.#r)a===e?r.skipped_effects.delete(o):r.skipped_effects.add(o);for(const[a,o]of this.#e)a===e?r.skipped_effects.delete(o.effect):r.skipped_effects.add(o.effect);r.oncommit(this.#i),r.ondiscard(this.#a)}else x&&(this.anchor=j),this.#i()}}function pe(t,e,s){x&&$();var r=new oe(t);K(()=>{var n=e()??null;r.ensure(n,n&&(i=>s(i,n)))},q)}let b=!1,P=Symbol();function _e(t,e,s){const r=s[e]??={store:null,source:H(void 0),unsubscribe:R};if(r.store!==t&&!(P in s))if(r.unsubscribe(),r.store=t??null,t==null)r.source.v=void 0,r.unsubscribe=R;else{var n=!0;r.unsubscribe=W(t,i=>{n?r.source.v=i:D(r.source,i)}),n=!1}return t&&P in s?X(t):m(r.source)}function ve(){const t={};function e(){G(()=>{for(var s in t)t[s].unsubscribe();z(t,P,{enumerable:!1,value:!0})})}return[t,e]}function ce(t){var e=b;try{return b=!1,[t(),b]}finally{b=e}}const le={get(t,e){if(!t.exclude.includes(e))return t.props[e]},set(t,e){return!1},getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e)&&e in t.props)return{enumerable:!0,configurable:!0,value:t.props[e]}},has(t,e){return t.exclude.includes(e)?!1:e in t.props},ownKeys(t){return Reflect.ownKeys(t.props).filter(e=>!t.exclude.includes(e))}};function be(t,e,s){return new Proxy({props:t,exclude:e},le)}const de={get(t,e){let s=t.props.length;for(;s--;){let r=t.props[s];if(_(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r)return r[e]}},set(t,e,s){let r=t.props.length;for(;r--;){let n=t.props[r];_(n)&&(n=n());const i=w(n,e);if(i&&i.set)return i.set(s),!0}return!1},getOwnPropertyDescriptor(t,e){let s=t.props.length;for(;s--;){let r=t.props[s];if(_(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r){const n=w(r,e);return n&&!n.configurable&&(n.configurable=!0),n}}},has(t,e){if(e===T||e===M)return!1;for(let s of t.props)if(_(s)&&(s=s()),s!=null&&e in s)return!0;return!1},ownKeys(t){const e=[];for(let s of t.props)if(_(s)&&(s=s()),!!s){for(const r in s)e.includes(r)||e.push(r);for(const r of Object.getOwnPropertySymbols(s))e.includes(r)||e.push(r)}return e}};function me(...t){return new Proxy({props:t},de)}function ge(t,e,s,r){var n=!ie||(s&ae)!==0,i=(s&se)!==0,u=(s&ue)!==0,a=r,o=!0,c=()=>(o&&(o=!1,a=u?ne(r):r),a),d;if(i){var B=T in t||M in t;d=w(t,e)?.set??(B&&e in t?f=>t[e]=f:void 0)}var h,y=!1;i?[h,y]=ce(()=>t[e]):h=t[e],h===void 0&&r!==void 0&&(h=c(),d&&(n&&Z(),d(h)));var l;if(n?l=()=>{var f=t[e];return f===void 0?c():(o=!0,f)}:l=()=>{var f=t[e];return f!==void 0&&(a=void 0),f===void 0?a:f},n&&(s&k)===0)return l;if(d){var N=t.$$legacy;return(function(f,v){return arguments.length>0?((!n||!v||N||y)&&d(v?l():f),f):l()})}var g=!1,p=((s&fe)!==0?J:Q)(()=>(g=!1,l()));i&&m(p);var L=te;return(function(f,v){if(arguments.length>0){const O=v?m(p):n&&i?V(f):f;return D(p,O),g=!0,a!==void 0&&(a=O),f}return ee&&g||(L.f&re)!==0?p.v:m(p)})}export{oe as B,ve as a,_e as b,pe as c,ge as p,be as r,me as s};
