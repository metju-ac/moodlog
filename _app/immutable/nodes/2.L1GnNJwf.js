import{c as Q,a as f,d as pe,f as b}from"../chunks/CvMI7jnL.js";import{p as fe,c as ue,i as G,o as Me,s as ce,a as ge,e as a,d as n,r as t,t as k,g as r,u as de,b as U,a2 as K,n as me}from"../chunks/CLo9gT6R.js";import{s as P}from"../chunks/CiJ8cSu5.js";import{I as Se,e as ve,i as xe,N as Ce}from"../chunks/BtX2rSlH.js";import{i as N}from"../chunks/FSi0eekX.js";import{c as je,s as Ne,a as ye}from"../chunks/D1cKX56f.js";import{b as ie}from"../chunks/yp9usz9l.js";import{C as De,r as q,M as Pe}from"../chunks/DCaymHtl.js";import{t as be,s as Fe,f as Te}from"../chunks/hZTwiskA.js";import{X as Re,P as he}from"../chunks/DV3-KrQW.js";import{C as we}from"../chunks/DZ4Yezw2.js";import{F as Ee}from"../chunks/DJu1Uchz.js";import{S as le,m as y}from"../chunks/Cr-yz2wN.js";import{b as Ae,r as Be}from"../chunks/BAckT0kH.js";function _e(F,l){fe(l,!0);let d=Be(l,["$$slots","$$events","$$legacy"]);const u=[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}]];Se(F,Ae({name:"calendar"},()=>d,{get iconNode(){return u},children:(T,z)=>{var M=Q(),S=G(M);je(S,()=>l.children??Me),f(T,M)},$$slots:{default:!0}})),ue()}var Ie=b('<div class="text-center text-xs font-medium text-gray-500"> </div>'),Oe=b('<div class="aspect-square"></div>'),Ye=b("<button> </button>"),Je=b('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4"><div class="w-full max-w-sm rounded-2xl bg-white p-6 shadow-2xl"><div class="mb-4 flex items-center justify-between"><h2 class="text-xl font-semibold text-gray-900">Select Date</h2> <button class="flex h-8 w-8 items-center justify-center rounded-full text-gray-500 transition-colors hover:bg-gray-100" aria-label="Close"><!></button></div> <div class="mb-4 flex items-center justify-between"><button class="flex h-10 w-10 items-center justify-center rounded-full text-gray-700 transition-colors hover:bg-gray-100" aria-label="Previous month"><!></button> <div class="text-base font-medium text-gray-900"> </div> <button class="flex h-10 w-10 items-center justify-center rounded-full text-gray-700 transition-colors hover:bg-gray-100" aria-label="Next month"><!></button></div> <div class="mb-2 grid grid-cols-7 gap-1"></div> <div class="grid grid-cols-7 gap-1"></div> <div class="mt-4 flex justify-end"><button class="rounded-lg bg-gray-100 px-4 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-200">Today</button></div></div></div>');function Le(F,l){fe(l,!0);let d=ce(ge(l.selectedDate.getMonth())),u=ce(ge(l.selectedDate.getFullYear()));const T=["January","February","March","April","May","June","July","August","September","October","November","December"],z=["Su","Mo","Tu","We","Th","Fr","Sa"];function M(s,i){return new Date(i,s+1,0).getDate()}function S(s,i){return new Date(i,s,1).getDay()}const V=de(()=>{const s=M(r(d),r(u)),i=S(r(d),r(u)),m=[];for(let g=0;g<i;g++)m.push(null);for(let g=1;g<=s;g++)m.push(g);return m});function Z(){r(d)===0?(U(d,11),K(u,-1)):K(d,-1)}function W(){r(d)===11?(U(d,0),K(u)):K(d)}function R(s){const i=new Date(r(u),r(d),s);l.onSelectDate(i),l.onClose()}function E(s){return s===l.selectedDate.getDate()&&r(d)===l.selectedDate.getMonth()&&r(u)===l.selectedDate.getFullYear()}function A(s){const i=new Date;return s===i.getDate()&&r(d)===i.getMonth()&&r(u)===i.getFullYear()}function B(s){s.target===s.currentTarget&&l.onClose()}var I=Q(),C=G(I);{var $=s=>{var i=Je();i.__click=B;var m=a(i),g=a(m),_=n(a(g),2);_.__click=function(...e){l.onClose?.apply(this,e)};var ee=a(_);Re(ee,{class:"h-5 w-5"}),t(_),t(g);var j=n(g,2),p=a(j);p.__click=Z;var te=a(p);De(te,{class:"h-5 w-5"}),t(p);var O=n(p,2),ae=a(O);t(O);var Y=n(O,2);Y.__click=W;var re=a(Y);we(re,{class:"h-5 w-5"}),t(Y),t(j);var J=n(j,2);ve(J,21,()=>z,xe,(e,o)=>{var c=Ie(),v=a(c,!0);t(c),k(()=>P(v,r(o))),f(e,c)}),t(J);var L=n(J,2);ve(L,21,()=>r(V),xe,(e,o)=>{var c=Q(),v=G(c);{var D=h=>{var x=Oe();f(h,x)},H=h=>{var x=Ye();x.__click=()=>R(r(o));var se=a(x,!0);t(x),k(w=>{Ne(x,1,`aspect-square rounded-lg text-sm font-medium transition-colors
                ${w??""}`),P(se,r(o))},[()=>E(r(o))?"bg-indigo-600 text-white hover:bg-indigo-700":A(r(o))?"bg-indigo-50 text-indigo-600 hover:bg-indigo-100":"text-gray-700 hover:bg-gray-100"]),f(h,x)};N(v,h=>{r(o)===null?h(D):h(H,!1)})}f(e,c)}),t(L);var X=n(L,2),oe=a(X);oe.__click=()=>{const e=new Date;l.onSelectDate(e),l.onClose()},t(X),t(m),t(i),k(()=>P(ae,`${T[r(d)]??""}
          ${r(u)??""}`)),be(3,m,()=>Fe,()=>({duration:200,start:.95})),be(3,i,()=>Te,()=>({duration:200})),f(s,i)};N(C,s=>{l.isOpen&&s($)})}f(F,I),ue()}pe(["click"]);var qe=b('<div class="flex flex-col items-center gap-3 py-8 text-center"><div class="rounded-full bg-gray-100 p-4"><!></div> <div class="flex flex-col gap-1"><p class="text-base font-medium text-gray-900">No mood entries yet</p> <p class="text-sm text-gray-500">Tap the + button to add your first mood entry for today</p></div></div>'),Ge=b('<p class="line-clamp-2 text-sm text-gray-700"> </p>'),ze=b('<div class="mt-6 flex w-full flex-col gap-3"><h2 class="text-base font-medium text-gray-900">Daily Reflection</h2> <a class="flex w-full cursor-pointer flex-col gap-3 rounded-xl bg-[#f4f3fa] p-4 shadow-md transition-shadow hover:shadow-lg"><div class="flex items-center justify-between"><h3 class="text-base font-medium text-gray-900">Reflection</h3> <span class="text-xs font-medium text-gray-500"> </span></div> <!></a></div>'),We=b(`<div class="mt-6 flex w-full flex-col gap-3"><h2 class="text-base font-medium text-gray-900">Daily Reflection</h2> <a class="flex w-full cursor-pointer flex-col items-center gap-2 rounded-xl border-2 border-dashed border-gray-300 bg-gray-50 p-6 transition-colors hover:border-indigo-300 hover:bg-indigo-50"><!> <p class="text-sm font-medium text-gray-600">Create today's reflection</p></a></div>`),Xe=b('<div class="flex h-screen flex-col bg-white"><main class="flex flex-1 flex-col overflow-y-auto px-4 py-2.5"><div class="flex w-full flex-col gap-5 pt-2.5 pb-24"><div class="flex w-full flex-col gap-2.5"><h1 class="text-center text-[22px] leading-7 font-normal text-black">MoodLog</h1> <div class="flex w-full items-center justify-between gap-2"><button class="flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 active:bg-gray-300" aria-label="Previous day"><!></button> <button class="flex h-10 flex-1 items-center justify-center gap-2 rounded-lg bg-gray-100 text-gray-700 hover:bg-gray-200 active:bg-gray-300" aria-label="Select date"><!> <span class="text-base font-medium"> </span></button> <button class="flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 active:bg-gray-300" aria-label="Next day"><!></button></div></div> <div class="flex w-full flex-col gap-3"><h2 class="text-base font-medium text-gray-900">Reflections</h2> <!> <!></div></div> <!></main> <!></div> <!>',1);function it(F,l){fe(l,!0);let d=ce(!1);const u=de(()=>y.selectedDate.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}));function T(){const e=new le(y.selectedDate);e.setDate(e.getDate()-1),y.setDate(e),q.setDate(e)}function z(){const e=new le(y.selectedDate);e.setDate(e.getDate()+1),y.setDate(e),q.setDate(e)}function M(){U(d,!0)}function S(){U(d,!1)}function V(e){const o=new le(e);y.setDate(o),q.setDate(o),S()}function Z(){window.location.href=`${ie}/add`}var W=Xe(),R=G(W),E=a(R),A=a(E),B=a(A),I=n(a(B),2),C=a(I);C.__click=T;var $=a(C);De($,{class:"h-6 w-6"}),t(C);var s=n(C,2);s.__click=M;var i=a(s);_e(i,{class:"h-5 w-5"});var m=n(i,2),g=a(m,!0);t(m),t(s);var _=n(s,2);_.__click=z;var ee=a(_);we(ee,{class:"h-6 w-6"}),t(_),t(I),t(B);var j=n(B,2),p=n(a(j),2);{var te=e=>{var o=qe(),c=a(o),v=a(c);_e(v,{class:"h-8 w-8 text-gray-400"}),t(c),me(2),t(o),f(e,o)},O=e=>{var o=Q(),c=G(o);ve(c,17,()=>y.filteredEntries,v=>v.id,(v,D)=>{Pe(v,{get entry(){return r(D)}})}),f(e,o)};N(p,e=>{y.filteredEntries.length===0?e(te):e(O,!1)})}var ae=n(p,2);{var Y=e=>{const o=de(()=>q.dailyReflection);var c=ze(),v=n(a(c),2),D=a(v),H=n(a(D),2),h=a(H,!0);t(H),t(D);var x=n(D,2);{var se=w=>{var ne=Ge(),ke=a(ne,!0);t(ne),k(()=>P(ke,r(o).notes)),f(w,ne)};N(x,w=>{r(o).notes&&w(se)})}t(v),t(c),k(w=>{ye(v,"href",`${ie}/reflection/${r(o).id}`),P(h,w)},[()=>r(o).date.toLocaleDateString("en-GB")]),f(e,c)},re=e=>{var o=We(),c=n(a(o),2),v=a(c);he(v,{class:"h-8 w-8 text-gray-400"}),me(2),t(c),t(o),k(()=>ye(c,"href",`${ie}/reflection/create`)),f(e,o)};N(ae,e=>{q.dailyReflection?e(Y):e(re,!1)})}t(j),t(A);var J=n(A,2);Ee(J,{get icon(){return he},onclick:Z,label:"Add mood entry"}),t(E);var L=n(E,2);Ce(L,{currentTab:"reflections"}),t(R);var X=n(R,2);{var oe=e=>{Le(e,{get selectedDate(){return y.selectedDate},onClose:S,onSelect:V})};N(X,e=>{r(d)&&e(oe)})}k(()=>P(g,r(u))),f(F,W),ue()}pe(["click"]);export{it as component};
