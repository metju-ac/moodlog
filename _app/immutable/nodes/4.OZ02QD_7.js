import{d as ae,f as P,a as M}from"../chunks/-oWnhBs4.js";import{p as se,l as N,g as e,u as x,s as f,a as ne,b as o,m as ie,e as n,c as le,d as i,n as z,r as a,t as de,f as ce}from"../chunks/DxSztoeM.js";import{s as pe}from"../chunks/CDp-2XP4.js";import{e as fe,N as ue,l as B}from"../chunks/CiOcEGFZ.js";import{a as me,b as ve,c as ge}from"../chunks/CRSDCZzM.js";import{r as xe,s as be}from"../chunks/knLRfhgA.js";import{b as F}from"../chunks/DekmaY3e.js";import{g as D}from"../chunks/CTfo1aUn.js";import{p as he}from"../chunks/CGgaP_Co.js";import{M as _e}from"../chunks/Bs0JuHgd.js";import{F as ye}from"../chunks/B0R_wGu9.js";import{T as we,D as Se}from"../chunks/B7LLAJ1S.js";import{m as $}from"../chunks/Dt1uHZYc.js";import{g as De}from"../chunks/BIIKkMha.js";import{S as $e}from"../chunks/CVEBjHpG.js";import{S as ke}from"../chunks/UviBsILw.js";const je=!1,Je=Object.freeze(Object.defineProperty({__proto__:null,prerender:je},Symbol.toStringTag,{value:"Module"}));var Le=P("<button><!> <span> </span></button>"),Ce=P('<div class="flex h-screen flex-col bg-white"><main class="flex flex-1 flex-col justify-between overflow-y-auto px-4 py-2.5"><div class="flex w-full flex-col gap-5 pt-2.5 pb-4"><h1 class="text-center text-[22px] leading-7 font-normal text-black">Edit your mood entry</h1> <div class="relative w-full"><input type="text" id="title-input" placeholder="Input" class="h-14 w-full rounded border-[3px] border-indigo-700 px-4 text-base text-gray-900 transition-colors outline-none focus:border-indigo-800"/> <label for="title-input" class="absolute -top-2.5 left-3 bg-white px-1 text-xs text-indigo-700">Title</label></div> <!> <div class="flex h-12 w-full flex-wrap items-center gap-1 py-2"></div> <div class="relative w-full"><textarea id="notes-textarea" placeholder="Input" rows="12" class="w-full resize-none rounded border-[3px] border-indigo-700 px-4 py-3 text-base text-gray-900 transition-colors outline-none focus:border-indigo-800"></textarea> <label for="notes-textarea" class="absolute -top-2.5 left-3 bg-white px-1 text-xs text-indigo-700">Notes for this entry</label></div></div> <div class="flex w-full items-center justify-between pb-4"><button class="flex h-14 w-[72px] items-center justify-center rounded-full bg-red-600 text-white shadow-lg transition-transform hover:scale-105 hover:bg-red-700 active:scale-95" aria-label="Delete mood entry"><!></button> <!></div></main> <!></div> <!>',1);function Ke(V,W){se(W,!0);const A=()=>ve(he,"$page",q),[q,G]=me(),u=x(()=>A().params.id||""),s=x(()=>$.getEntryById(e(u)));let l=f(!1);N(()=>{(!e(s)||!e(u))&&D("/")});let d=f(""),m=f(""),v=f(0),c=f(ne(new Set));N(()=>{e(s)&&(o(d,e(s).title,!0),o(m,e(s).description,!0),o(v,e(s).moodLevel*10),o(c,new Set(e(s).labels.map(t=>t.id)),!0))});const H=x(()=>Math.round(e(v)/10));function J(t){const r=new $e(e(c));r.has(t)?r.delete(t):r.add(t),o(c,r,!0)}function K(){if(!e(d).trim()){alert("Please enter a title");return}if(!e(s))return;const t=B.all.filter(r=>e(c).has(r.id));$.updateEntry(e(u),{id:e(s).id,title:e(d).trim(),description:e(m).trim(),labels:t,moodLevel:e(H),date:e(s).date}),D("/")}function Q(){o(l,!0)}function R(){$.deleteEntry(e(u)),o(l,!1),D("/")}function U(){o(l,!1)}var k=Ce(),b=ie(k),h=n(b),_=n(h),y=i(n(_),2),j=n(y);xe(j),z(2),a(y);var L=i(y,2);_e(L,{get value(){return e(v)},onValueChange:t=>o(v,t,!0)});var w=i(L,2);fe(w,21,()=>B.all,t=>t.id,(t,r)=>{const te=x(()=>De(e(r).icon));var p=Le();p.__click=()=>J(e(r).id);var T=n(p);ge(T,()=>e(te),(S,re)=>{re(S,{class:"h-4 w-4",strokeWidth:2})});var I=i(T,2),oe=n(I,!0);a(I),a(p),de(S=>{be(p,1,`flex h-8 items-center gap-2 rounded-lg border px-3 py-1.5 text-sm font-medium transition-colors ${S??""}`),pe(oe,e(r).name)},[()=>e(c).has(e(r).id)?"border-indigo-700 bg-indigo-50 text-indigo-900":"border-gray-300 text-gray-700 hover:bg-gray-50"]),M(t,p)}),a(w);var C=i(w,2),E=n(C);ce(E),z(2),a(C),a(_);var O=i(_,2),g=n(O);g.__click=Q;var X=n(g);we(X,{class:"h-6 w-6",strokeWidth:2}),a(g);var Y=i(g,2);ye(Y,{get icon(){return ke},onclick:K,label:"Save mood entry"}),a(O),a(h);var Z=i(h,2);ue(Z,{currentTab:"reflections"}),a(b);var ee=i(b,2);Se(ee,{title:"Delete mood entry?",onConfirm:R,onCancel:U,get isOpen(){return e(l)},set isOpen(t){o(l,t,!0)}}),F(j,()=>e(d),t=>o(d,t)),F(E,()=>e(m),t=>o(m,t)),M(V,k),le(),G()}ae(["click"]);export{Ke as component,Je as universal};
