import{c as W,a as m,d as me,f as k,s as G}from"../chunks/CMVsHYcO.js";import{p as le,c as ce,l as X,n as pe,s as ne,a as de,f as o,d as c,r as a,t as V,g as e,u as y,b as H,P as z,e as De,$ as we}from"../chunks/Dzkio-oR.js";import{I as ke,a as Me,e as ie,i as ve,s as Se,h as Ce}from"../chunks/BMajUMua.js";import{i as se}from"../chunks/BsUrrD3l.js";import{g as re}from"../chunks/rPTUo0Oh.js";import{b as oe}from"../chunks/BjbOgI-U.js";import{N as je}from"../chunks/w7_55Tv2.js";import{C as xe,M as Ne}from"../chunks/BUF6gHXB.js";import{t as ue,s as Pe,f as Fe}from"../chunks/C5GajIxe.js";import{X as Oe}from"../chunks/CANhV_gT.js";import{C as he}from"../chunks/BjyyGUWC.js";import{F as fe}from"../chunks/CZZtMmaf.js";import{m as g,S as ge}from"../chunks/CZgMVD6W.js";import{r as L}from"../chunks/CasPY1Fx.js";import{s as Te,r as Ae}from"../chunks/BcPhfkvl.js";import{P as Re}from"../chunks/DDHjIfhI.js";function Be(M,i){le(i,!0);let s=Ae(i,["$$slots","$$events","$$legacy"]);const v=[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}]];ke(M,Te({name:"calendar"},()=>s,{get iconNode(){return v},children:(S,q)=>{var _=W(),C=X(_);Me(C,()=>i.children??pe),m(S,_)},$$slots:{default:!0}})),ce()}var Ee=k('<div class="text-center text-xs font-medium text-gray-500"> </div>'),Ie=k('<div class="aspect-square"></div>'),Ye=k("<button> </button>"),Je=k('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4"><div class="w-full max-w-sm rounded-2xl bg-white p-6 shadow-2xl"><div class="mb-4 flex items-center justify-between"><h2 class="text-xl font-semibold text-gray-900">Select Date</h2> <button class="flex h-8 w-8 items-center justify-center rounded-full text-gray-500 transition-colors hover:bg-gray-100" aria-label="Close"><!></button></div> <div class="mb-4 flex items-center justify-between"><button class="flex h-10 w-10 items-center justify-center rounded-full text-gray-700 transition-colors hover:bg-gray-100" aria-label="Previous month"><!></button> <div class="text-base font-medium text-gray-900"> </div> <button class="flex h-10 w-10 items-center justify-center rounded-full text-gray-700 transition-colors hover:bg-gray-100" aria-label="Next month"><!></button></div> <div class="mb-2 grid grid-cols-7 gap-1"></div> <div class="grid grid-cols-7 gap-1"></div> <div class="mt-4 flex justify-end"><button class="rounded-lg bg-gray-100 px-4 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-200">Today</button></div></div></div>');function qe(M,i){le(i,!0);let s=ne(de(i.selectedDate.getMonth())),v=ne(de(i.selectedDate.getFullYear()));const S=["January","February","March","April","May","June","July","August","September","October","November","December"],q=["Mo","Tu","We","Th","Fr","Sa","Su"];function _(n,r){return new Date(r,n+1,0).getDate()}function C(n,r){const u=new Date(r,n,1).getDay();return u===0?6:u-1}const K=y(()=>{const n=_(e(s),e(v)),r=C(e(s),e(v)),u=[];for(let l=0;l<r;l++)u.push(null);for(let l=1;l<=n;l++)u.push(l);return u});function j(){e(s)===0?(H(s,11),z(v,-1)):z(s,-1)}function N(){e(s)===11?(H(s,0),z(v)):z(s)}function Q(n){const r=new Date(e(v),e(s),n);i.onSelectDate(r),i.onClose()}function U(n){return n===i.selectedDate.getDate()&&e(s)===i.selectedDate.getMonth()&&e(v)===i.selectedDate.getFullYear()}function P(n){const r=new Date;return n===r.getDate()&&e(s)===r.getMonth()&&e(v)===r.getFullYear()}function F(n){n.target===n.currentTarget&&i.onClose()}var O=W(),T=X(O);{var Z=n=>{var r=Je();r.__click=F;var u=o(r),l=o(u),A=c(o(l),2);A.__click=function(...t){i.onClose?.apply(this,t)};var R=o(A);Oe(R,{class:"h-5 w-5"}),a(A),a(l);var B=c(l,2),x=o(B);x.__click=j;var E=o(x);xe(E,{class:"h-5 w-5"}),a(x);var p=c(x,2),$=o(p);a(p);var I=c(p,2);I.__click=N;var ee=o(I);he(ee,{class:"h-5 w-5"}),a(I),a(B);var D=c(B,2);ie(D,21,()=>q,ve,(t,d)=>{var f=Ee(),h=o(f,!0);a(f),V(()=>G(h,e(d))),m(t,f)}),a(D);var Y=c(D,2);ie(Y,21,()=>e(K),ve,(t,d)=>{var f=W(),h=X(f);{var ae=w=>{var b=Ie();m(w,b)},be=w=>{var b=Ye();b.__click=()=>Q(e(d));var ye=o(b,!0);a(b),V(_e=>{Se(b,1,`aspect-square rounded-lg text-sm font-medium transition-colors
                ${_e??""}`),G(ye,e(d))},[()=>U(e(d))?"bg-indigo-600 text-white hover:bg-indigo-700":P(e(d))?"bg-indigo-50 text-indigo-600 hover:bg-indigo-100":"text-gray-700 hover:bg-gray-100"]),m(w,b)};se(h,w=>{e(d)===null?w(ae):w(be,!1)})}m(t,f)}),a(Y);var J=c(Y,2),te=o(J);te.__click=()=>{const t=new Date;i.onSelectDate(t),i.onClose()},a(J),a(u),a(r),V(()=>G($,`${S[e(s)]??""}
          ${e(v)??""}`)),ue(3,u,()=>Pe,()=>({duration:200,start:.95})),ue(3,r,()=>Fe,()=>({duration:200})),m(n,r)};se(T,n=>{i.isOpen&&n(Z)})}m(M,O),ce()}me(["click"]);var ze=k('<div class="flex flex-col items-center justify-center gap-4 py-16 text-center"><div class="text-6xl opacity-50">ğŸ“</div> <div class="flex flex-col gap-2"><h2 class="text-xl font-medium text-gray-900">No mood entries yet</h2> <p class="text-sm text-gray-600">Start tracking your mood by adding your first entry for this day</p></div></div>'),Le=k('<div class="flex h-screen flex-col bg-white"><div class="sticky top-0 z-10 bg-white px-4 py-2.5 shadow-sm"><div class="flex items-center justify-between"><h1 class="text-[28px] leading-9 font-normal text-black"> </h1> <div class="flex items-center gap-1.5"><button class="flex h-12 w-[52px] items-center justify-center rounded-full bg-indigo-100 transition-colors hover:bg-indigo-200" aria-label="Open date picker"><!></button> <button class="flex h-12 w-[52px] items-center justify-center rounded-full bg-indigo-100 transition-colors hover:bg-indigo-200" aria-label="Previous day"><!></button> <button class="flex h-12 w-[52px] items-center justify-center rounded-full bg-indigo-100 transition-colors hover:bg-indigo-200" aria-label="Next day"><!></button></div></div></div> <main class="flex flex-1 flex-col overflow-y-auto px-4 py-2.5"><div class="flex w-full flex-col pb-24"><div class="flex w-full flex-col gap-4"><!></div></div> <!> <!></main> <!> <!></div>');function it(M,i){le(i,!0);let s=ne(!1);const v=y(()=>g.selectedDate.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}));function S(){const t=new ge(g.selectedDate);t.setDate(t.getDate()-1),g.setDate(t),L.setDate(t)}function q(){const t=new ge(g.selectedDate);t.setDate(t.getDate()+1),g.setDate(t),L.setDate(t)}function _(){H(s,!0)}function C(){H(s,!1)}function K(t){g.setDate(t),L.setDate(t)}const j=y(()=>L.getReflectionByDate(g.selectedDate)),N=y(()=>e(j)!==void 0);function Q(){e(j)?re(`${oe}/reflection/${e(j).id}`):re(`${oe}/reflection/create`)}function U(){re(`${oe}/add`)}var P=Le();Ce("1uha8ag",t=>{De(()=>{we.title="Mood Entries - MoodLog"})});var F=o(P),O=o(F),T=o(O),Z=o(T,!0);a(T);var n=c(T,2),r=o(n);r.__click=_;var u=o(r);Be(u,{class:"h-6 w-6 text-indigo-900"}),a(r);var l=c(r,2);l.__click=S;var A=o(l);xe(A,{class:"h-6 w-6 text-indigo-900"}),a(l);var R=c(l,2);R.__click=q;var B=o(R);he(B,{class:"h-6 w-6 text-indigo-900"}),a(R),a(n),a(O),a(F);var x=c(F,2),E=o(x),p=o(E),$=o(p);{var I=t=>{var d=ze();m(t,d)},ee=t=>{var d=W(),f=X(d);ie(f,17,()=>g.entries,h=>h.id,(h,ae)=>{Ne(h,{get entry(){return e(ae)}})}),m(t,d)};se($,t=>{g.entries.length===0?t(I):t(ee,!1)})}a(p),a(E);var D=c(E,2);{let t=y(()=>e(N)?"View reflection":"Add reflection"),d=y(()=>e(N)?"Reflection":"No reflection yet"),f=y(()=>e(N)?"primary":"danger");fe(D,{onclick:Q,get label(){return e(t)},get text(){return e(d)},get variant(){return e(f)},position:"left"})}var Y=c(D,2);fe(Y,{get icon(){return Re},onclick:U,label:"Add mood entry"}),a(x);var J=c(x,2);je(J,{currentTab:"mood-entries"});var te=c(J,2);qe(te,{get isOpen(){return e(s)},get selectedDate(){return g.selectedDate},onClose:C,onSelectDate:K}),a(P),V(()=>G(Z,e(v))),m(M,P),ce()}me(["click"]);export{it as component};
