import{d as J,f as K,a as U}from"../chunks/-oWnhBs4.js";import{o as V}from"../chunks/vHKpP6nC.js";import{p as X,m as Y,b as r,g as t,s,e as o,t as Z,c as ee,k as te,d as n,u as k,$ as re,r as i,f as ae,n as oe}from"../chunks/DxSztoeM.js";import{s as ie}from"../chunks/CDp-2XP4.js";import{i as se}from"../chunks/BRMXUoVx.js";import{h as ne}from"../chunks/Xz8gqZgc.js";import{b as le}from"../chunks/DekmaY3e.js";import{a as ce,b as fe}from"../chunks/CRSDCZzM.js";import{g as b}from"../chunks/CTfo1aUn.js";import{p as de}from"../chunks/CGgaP_Co.js";import{N as ue}from"../chunks/CiOcEGFZ.js";import{R as pe}from"../chunks/DaaYev9I.js";import{F as me}from"../chunks/B0R_wGu9.js";import{T as ve,D as ge}from"../chunks/B7LLAJ1S.js";import{D as he}from"../chunks/D4HrQeUg.js";import{r as _}from"../chunks/BIApOF2s.js";import{S as xe}from"../chunks/UviBsILw.js";const ye=!1,Pe=Object.freeze(Object.defineProperty({__proto__:null,prerender:ye},Symbol.toStringTag,{value:"Module"}));var be=K('<div class="flex h-screen flex-col bg-white"><main class="flex flex-1 flex-col justify-between overflow-y-auto px-4 py-3"><div class="flex w-full flex-col gap-5.5 px-0 py-3"><h1 class="text-center text-[22px] leading-7 font-normal text-black"> </h1> <!> <div class="relative w-full"><textarea id="reflection-notes" placeholder="Write your thoughts about today..." rows="8" class="w-full resize-none rounded border-[3px] border-indigo-700 px-4 py-3 text-base text-gray-900 transition-colors outline-none focus:border-indigo-800"></textarea> <label for="reflection-notes" class="absolute -top-2.5 left-3 bg-white px-1 text-xs text-indigo-700">Notes for this day</label></div> <div class="flex w-full flex-col gap-8 py-3"><!></div></div> <div class="flex w-full items-center justify-between pb-4"><button class="flex h-14 w-14 items-center justify-center rounded-full bg-red-600 text-white shadow-lg transition-transform hover:scale-105 hover:bg-red-700 active:scale-95" aria-label="Delete reflection"><!></button> <!></div></main> <!></div> <!>',1);function Be(R,A){X(A,!0);const C=()=>fe(de,"$page",I),[I,j]=ce(),O=k(()=>C().params.id||"");let a=s(void 0),c=s(""),f=s(0),d=s(0),u=s(0),p=s(0),l=s(!1);V(()=>{const e=_.all.find(H=>H.id===t(O));if(!e){b("/");return}r(a,e,!0),r(c,e.notes,!0),r(f,e.sleepQuality*10),r(d,e.physicalActivity*10),r(u,e.socialInteractions*10),r(p,e.pressure*10)});const Q=k(()=>t(a)?t(a).date.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):"");function T(){if(!t(a))return;const e={...t(a),sleepQuality:Math.round(t(f)/10),physicalActivity:Math.round(t(d)/10),socialInteractions:Math.round(t(u)/10),pressure:Math.round(t(p)/10),notes:t(c).trim()};_.updateReflection(t(a).id,e),b("/")}function z(){r(l,!0)}function N(){t(a)&&(_.deleteReflection(t(a).id),r(l,!1),b("/"))}function P(){r(l,!1)}var w=be();ne("146z5r6",e=>{te(()=>{re.title="Edit Reflection - MoodLog"})});var v=Y(w),g=o(v),h=o(g),x=o(h),B=o(x,!0);i(x);var D=n(x,2);{var F=e=>{he(e,{get date(){return t(a).date}})};se(D,e=>{t(a)&&e(F)})}var y=n(D,2),S=o(y);ae(S),oe(2),i(y);var $=n(y,2),L=o($);pe(L,{get sleepQuality(){return t(f)},get physicalActivity(){return t(d)},get socialInteractions(){return t(u)},get pressure(){return t(p)},onSleepQualityChange:e=>r(f,e,!0),onPhysicalActivityChange:e=>r(d,e,!0),onSocialInteractionsChange:e=>r(u,e,!0),onPressureChange:e=>r(p,e,!0)}),i($),i(h);var M=n(h,2),m=o(M);m.__click=z;var W=o(m);ve(W,{class:"h-6 w-6",strokeWidth:2}),i(m);var E=n(m,2);me(E,{get icon(){return xe},onclick:T,label:"Save reflection"}),i(M),i(g);var G=n(g,2);ue(G,{currentTab:"reflections"}),i(v);var q=n(v,2);ge(q,{title:"Delete reflection?",onConfirm:N,onCancel:P,get isOpen(){return t(l)},set isOpen(e){r(l,e,!0)}}),Z(()=>ie(B,t(Q))),le(S,()=>t(c),e=>r(c,e)),U(R,w),ee(),j()}J(["click"]);export{Be as component,Pe as universal};
