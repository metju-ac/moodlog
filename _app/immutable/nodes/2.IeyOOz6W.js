import{c as X,a as m,d as xe,f as M,s as V}from"../chunks/CL1gL8u8.js";import{p as ce,c as de,m as K,n as pe,s as ie,a as ve,h as r,f as l,r as a,t as W,g as e,u as p,b as U,Q as G,d as De,$ as we}from"../chunks/Dd77Lb4Z.js";import{I as ke,a as Me,e as se,i as fe,s as Se,h as Ce}from"../chunks/BF1pAsR3.js";import{i as le}from"../chunks/9XiK6310.js";import{g as oe}from"../chunks/D10hY-2h.js";import{b as ne}from"../chunks/uD8JL9SE.js";import{N as je}from"../chunks/Aft8BOZU.js";import{C as he,M as Ne}from"../chunks/Doje_2z-.js";import{t as ue,s as Pe,f as Fe}from"../chunks/BUrl7JYl.js";import{X as Oe}from"../chunks/BBnITIqa.js";import{C as be}from"../chunks/DzAlfEna.js";import{F as ge}from"../chunks/viMvqxxa.js";import{H as Te}from"../chunks/DmCIDBzR.js";import{m as g}from"../chunks/CE2ydpzQ.js";import{r as Q}from"../chunks/B5p6lEaW.js";import{S as me}from"../chunks/UajU_CNF.js";import{s as Ae,r as Ie}from"../chunks/Dvhy9Jzs.js";import{P as Re}from"../chunks/aaVXW3tR.js";function Be(S,n){ce(n,!0);let s=Ie(n,["$$slots","$$events","$$legacy"]);const v=[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}]];ke(S,Ae({name:"calendar"},()=>s,{get iconNode(){return v},children:(C,L)=>{var D=X(),j=K(D);Me(j,()=>n.children??pe),m(C,D)},$$slots:{default:!0}})),de()}var Ee=M('<div class="text-center text-xs font-medium text-gray-500"> </div>'),Ye=M('<div class="aspect-square"></div>'),Je=M("<button> </button>"),qe=M('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4"><div class="w-full max-w-sm rounded-2xl bg-white p-6 shadow-2xl"><div class="mb-4 flex items-center justify-between"><h2 class="text-xl font-semibold text-gray-900">Select Date</h2> <button class="flex h-8 w-8 items-center justify-center rounded-full text-gray-500 transition-colors hover:bg-gray-100" aria-label="Close"><!></button></div> <div class="mb-4 flex items-center justify-between"><button class="flex h-10 w-10 items-center justify-center rounded-full text-gray-700 transition-colors hover:bg-gray-100" aria-label="Previous month"><!></button> <div class="text-base font-medium text-gray-900"> </div> <button class="flex h-10 w-10 items-center justify-center rounded-full text-gray-700 transition-colors hover:bg-gray-100" aria-label="Next month"><!></button></div> <div class="mb-2 grid grid-cols-7 gap-1"></div> <div class="grid grid-cols-7 gap-1"></div> <div class="mt-4 flex justify-end"><button class="rounded-lg bg-gray-100 px-4 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-200">Today</button></div></div></div>');function ze(S,n){ce(n,!0);let s=ie(ve(n.selectedDate.getMonth())),v=ie(ve(n.selectedDate.getFullYear()));const C=["January","February","March","April","May","June","July","August","September","October","November","December"],L=["Mo","Tu","We","Th","Fr","Sa","Su"];function D(o,i){return new Date(i,o+1,0).getDate()}function j(o,i){const d=new Date(i,o,1).getDay();return d===0?6:d-1}const Z=p(()=>{const o=D(e(s),e(v)),i=j(e(s),e(v)),d=[];for(let c=0;c<i;c++)d.push(null);for(let c=1;c<=o;c++)d.push(c);return d});function N(){e(s)===0?(U(s,11),G(v,-1)):G(s,-1)}function P(){e(s)===11?(U(s,0),G(v)):G(s)}function $(o){const i=new Date(e(v),e(s),o);n.onSelectDate(i),n.onClose()}function ee(o){return o===n.selectedDate.getDate()&&e(s)===n.selectedDate.getMonth()&&e(v)===n.selectedDate.getFullYear()}function F(o){const i=new Date;return o===i.getDate()&&e(s)===i.getMonth()&&e(v)===i.getFullYear()}function O(o){o.target===o.currentTarget&&n.onClose()}var T=X(),A=K(T);{var I=o=>{var i=qe();i.__click=O;var d=r(i),c=r(d),R=l(r(c),2);R.__click=function(...f){n.onClose?.apply(this,f)};var w=r(R);Oe(w,{class:"h-5 w-5"}),a(R),a(c);var B=l(c,2),h=r(B);h.__click=N;var te=r(h);he(te,{class:"h-5 w-5"}),a(h);var y=l(h,2),E=r(y);a(y);var k=l(y,2);k.__click=P;var ae=r(k);be(ae,{class:"h-5 w-5"}),a(k),a(B);var Y=l(B,2);se(Y,21,()=>L,fe,(f,x)=>{var t=Ee(),u=r(t,!0);a(t),W(()=>V(u,e(x))),m(f,t)}),a(Y);var J=l(Y,2);se(J,21,()=>e(Z),fe,(f,x)=>{var t=X(),u=K(t);{var z=b=>{var _=Ye();m(b,_)},H=b=>{var _=Je();_.__click=()=>$(e(x));var ye=r(_,!0);a(_),W(_e=>{Se(_,1,`aspect-square rounded-lg text-sm font-medium transition-colors
                ${_e??""}`),V(ye,e(x))},[()=>ee(e(x))?"bg-indigo-600 text-white hover:bg-indigo-700":F(e(x))?"bg-indigo-50 text-indigo-600 hover:bg-indigo-100":"text-gray-700 hover:bg-gray-100"]),m(b,_)};le(u,b=>{e(x)===null?b(z):b(H,!1)})}m(f,t)}),a(J);var q=l(J,2),re=r(q);re.__click=()=>{const f=new Date;n.onSelectDate(f),n.onClose()},a(q),a(d),a(i),W(()=>V(E,`${C[e(s)]??""}
          ${e(v)??""}`)),ue(3,d,()=>Pe,()=>({duration:200,start:.95})),ue(3,i,()=>Fe,()=>({duration:200})),m(o,i)};le(A,o=>{n.isOpen&&o(I)})}m(S,T),de()}xe(["click"]);var He=M('<div class="flex flex-col items-center justify-center gap-4 py-16 text-center"><div class="text-6xl opacity-50">ğŸ“</div> <div class="flex flex-col gap-2"><h2 class="text-xl font-medium text-gray-900">No mood entries yet</h2> <p class="text-sm text-gray-600">Start tracking your mood by adding your first entry for this day</p></div></div>'),Le=M('<div class="flex h-screen flex-col bg-white"><div class="sticky top-0 z-10 bg-white px-4 py-2.5 shadow-sm"><div class="flex items-center justify-between"><div class="flex items-center gap-2"><h1 class="text-[28px] leading-9 font-normal text-black"> </h1> <!></div> <div class="flex items-center gap-1.5"><button class="flex h-12 w-[52px] items-center justify-center rounded-full bg-indigo-100 transition-colors hover:bg-indigo-200" aria-label="Open date picker"><!></button> <button class="flex h-12 w-[52px] items-center justify-center rounded-full bg-indigo-100 transition-colors hover:bg-indigo-200" aria-label="Previous day"><!></button> <button class="flex h-12 w-[52px] items-center justify-center rounded-full bg-indigo-100 transition-colors hover:bg-indigo-200" aria-label="Next day"><!></button></div></div></div> <main class="flex flex-1 flex-col overflow-y-auto px-4 py-2.5"><div class="flex w-full flex-col pb-24"><div class="flex w-full flex-col gap-4"><!></div></div> <!> <!></main> <!> <!></div>');function ct(S,n){ce(n,!0);let s=ie(!1);const v=p(()=>g.selectedDate.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}));function C(){const t=new me(g.selectedDate);t.setDate(t.getDate()-1),g.setDate(t),Q.setDate(t)}function L(){const t=new me(g.selectedDate);t.setDate(t.getDate()+1),g.setDate(t),Q.setDate(t)}function D(){U(s,!0)}function j(){U(s,!1)}function Z(t){g.setDate(t),Q.setDate(t)}const N=p(()=>Q.getReflectionByDate(g.selectedDate)),P=p(()=>e(N)!==void 0);function $(){e(N)?oe(`${ne}/reflection/${e(N).id}`):oe(`${ne}/reflection/create`)}function ee(){oe(`${ne}/add`)}var F=Le();Ce("1uha8ag",t=>{De(()=>{we.title="Mood Entries - MoodLog"})});var O=r(F),T=r(O),A=r(T),I=r(A),o=r(I,!0);a(I);var i=l(I,2);Te(i,{}),a(A);var d=l(A,2),c=r(d);c.__click=D;var R=r(c);Be(R,{class:"h-6 w-6 text-indigo-900"}),a(c);var w=l(c,2);w.__click=C;var B=r(w);he(B,{class:"h-6 w-6 text-indigo-900"}),a(w);var h=l(w,2);h.__click=L;var te=r(h);be(te,{class:"h-6 w-6 text-indigo-900"}),a(h),a(d),a(T),a(O);var y=l(O,2),E=r(y),k=r(E),ae=r(k);{var Y=t=>{var u=He();m(t,u)},J=t=>{var u=X(),z=K(u);se(z,17,()=>g.entries,H=>H.id,(H,b)=>{Ne(H,{get entry(){return e(b)}})}),m(t,u)};le(ae,t=>{g.entries.length===0?t(Y):t(J,!1)})}a(k),a(E);var q=l(E,2);{let t=p(()=>e(P)?"View reflection":"Add reflection"),u=p(()=>e(P)?"Reflection":"No reflection yet"),z=p(()=>e(P)?"primary":"danger");ge(q,{onclick:$,get label(){return e(t)},get text(){return e(u)},get variant(){return e(z)},position:"left"})}var re=l(q,2);ge(re,{get icon(){return Re},onclick:ee,label:"Add mood entry"}),a(y);var f=l(y,2);je(f,{currentTab:"mood-entries"});var x=l(f,2);ze(x,{get isOpen(){return e(s)},get selectedDate(){return g.selectedDate},onClose:j,onSelectDate:Z}),a(F),W(()=>V(o,e(v))),m(S,F),de()}xe(["click"]);export{ct as component};
