import{c as K,a as g,d as xe,f as S}from"../chunks/-oWnhBs4.js";import{p as de,c as ue,m as Q,o as pe,s as ie,a as ve,e as n,d as l,r as a,t as X,g as e,u as H,b as U,a2 as L}from"../chunks/DxSztoeM.js";import{s as E}from"../chunks/CDp-2XP4.js";import{I as De,e as se,i as fe,N as we}from"../chunks/DqDg-t9o.js";import{i as le}from"../chunks/BRMXUoVx.js";import{c as ke,s as ce}from"../chunks/knLRfhgA.js";import{g as oe}from"../chunks/4UCSAdHC.js";import{b as re}from"../chunks/C99j1cAA.js";import{C as be,r as W,M as Me}from"../chunks/DMm9QOBL.js";import{t as ge,s as Se,f as je}from"../chunks/C93LbC6V.js";import{X as Ce,P as Ne}from"../chunks/CGEHPEnl.js";import{C as he}from"../chunks/lffqVnXD.js";import{F as Pe}from"../chunks/BdNY3FvO.js";import{m as f,S as me}from"../chunks/DqRSR85b.js";import{s as Fe,r as Oe}from"../chunks/CRSDCZzM.js";function Re(j,i){de(i,!0);let s=Oe(i,["$$slots","$$events","$$legacy"]);const c=[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}]];De(j,Fe({name:"calendar"},()=>s,{get iconNode(){return c},children:(C,J)=>{var w=K(),N=Q(w);ke(N,()=>i.children??pe),g(C,w)},$$slots:{default:!0}})),ue()}var Te=S('<div class="text-center text-xs font-medium text-gray-500"> </div>'),Ae=S('<div class="aspect-square"></div>'),Be=S("<button> </button>"),Ie=S('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4"><div class="w-full max-w-sm rounded-2xl bg-white p-6 shadow-2xl"><div class="mb-4 flex items-center justify-between"><h2 class="text-xl font-semibold text-gray-900">Select Date</h2> <button class="flex h-8 w-8 items-center justify-center rounded-full text-gray-500 transition-colors hover:bg-gray-100" aria-label="Close"><!></button></div> <div class="mb-4 flex items-center justify-between"><button class="flex h-10 w-10 items-center justify-center rounded-full text-gray-700 transition-colors hover:bg-gray-100" aria-label="Previous month"><!></button> <div class="text-base font-medium text-gray-900"> </div> <button class="flex h-10 w-10 items-center justify-center rounded-full text-gray-700 transition-colors hover:bg-gray-100" aria-label="Next month"><!></button></div> <div class="mb-2 grid grid-cols-7 gap-1"></div> <div class="grid grid-cols-7 gap-1"></div> <div class="mt-4 flex justify-end"><button class="rounded-lg bg-gray-100 px-4 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-200">Today</button></div></div></div>');function Ye(j,i){de(i,!0);let s=ie(ve(i.selectedDate.getMonth())),c=ie(ve(i.selectedDate.getFullYear()));const C=["January","February","March","April","May","June","July","August","September","October","November","December"],J=["Su","Mo","Tu","We","Th","Fr","Sa"];function w(o,r){return new Date(r,o+1,0).getDate()}function N(o,r){return new Date(r,o,1).getDay()}const V=H(()=>{const o=w(e(s),e(c)),r=N(e(s),e(c)),d=[];for(let u=0;u<r;u++)d.push(null);for(let u=1;u<=o;u++)d.push(u);return d});function P(){e(s)===0?(U(s,11),L(c,-1)):L(s,-1)}function F(){e(s)===11?(U(s,0),L(c)):L(s)}function Z(o){const r=new Date(e(c),e(s),o);i.onSelectDate(r),i.onClose()}function $(o){return o===i.selectedDate.getDate()&&e(s)===i.selectedDate.getMonth()&&e(c)===i.selectedDate.getFullYear()}function O(o){const r=new Date;return o===r.getDate()&&e(s)===r.getMonth()&&e(c)===r.getFullYear()}function R(o){o.target===o.currentTarget&&i.onClose()}var k=K(),T=Q(k);{var A=o=>{var r=Ie();r.__click=R;var d=n(r),u=n(d),b=l(n(u),2);b.__click=function(...v){i.onClose?.apply(this,v)};var ee=n(b);Ce(ee,{class:"h-5 w-5"}),a(b),a(u);var _=l(u,2),M=n(_);M.__click=P;var q=n(M);be(q,{class:"h-5 w-5"}),a(M);var B=l(M,2),te=n(B);a(B);var I=l(B,2);I.__click=F;var z=n(I);he(z,{class:"h-5 w-5"}),a(I),a(_);var m=l(_,2);se(m,21,()=>J,fe,(v,x)=>{var t=Te(),h=n(t,!0);a(t),X(()=>E(h,e(x))),g(v,t)}),a(m);var p=l(m,2);se(p,21,()=>e(V),fe,(v,x)=>{var t=K(),h=Q(t);{var ne=y=>{var D=Ae();g(y,D)},Y=y=>{var D=Be();D.__click=()=>Z(e(x));var ye=n(D,!0);a(D),X(_e=>{ce(D,1,`aspect-square rounded-lg text-sm font-medium transition-colors
                ${_e??""}`),E(ye,e(x))},[()=>$(e(x))?"bg-indigo-600 text-white hover:bg-indigo-700":O(e(x))?"bg-indigo-50 text-indigo-600 hover:bg-indigo-100":"text-gray-700 hover:bg-gray-100"]),g(y,D)};le(h,y=>{e(x)===null?y(ne):y(Y,!1)})}g(v,t)}),a(p);var G=l(p,2),ae=n(G);ae.__click=()=>{const v=new Date;i.onSelectDate(v),i.onClose()},a(G),a(d),a(r),X(()=>E(te,`${C[e(s)]??""}
          ${e(c)??""}`)),ge(3,d,()=>Se,()=>({duration:200,start:.95})),ge(3,r,()=>je,()=>({duration:200})),g(o,r)};le(T,o=>{i.isOpen&&o(A)})}g(j,k),ue()}xe(["click"]);var Ee=S('<div class="flex flex-col items-center justify-center gap-4 py-16 text-center"><div class="text-6xl opacity-50">üìù</div> <div class="flex flex-col gap-2"><h2 class="text-xl font-medium text-gray-900">No mood entries yet</h2> <p class="text-sm text-gray-600">Start tracking your mood by adding your first entry for this day</p></div></div>'),Je=S('<div class="flex h-screen flex-col bg-white"><main class="flex flex-1 flex-col justify-between overflow-y-auto px-4 py-2.5"><div class="flex w-full flex-col"><div class="flex items-center justify-between px-0 py-2.5"><h1 class="text-[28px] leading-9 font-normal text-black"> </h1> <div class="flex items-center gap-1.5"><button class="flex h-12 w-[52px] items-center justify-center rounded-full bg-indigo-100 transition-colors hover:bg-indigo-200" aria-label="Open date picker"><!></button> <button class="flex h-12 w-[52px] items-center justify-center rounded-full bg-indigo-100 transition-colors hover:bg-indigo-200" aria-label="Previous day"><!></button> <button class="flex h-12 w-[52px] items-center justify-center rounded-full bg-indigo-100 transition-colors hover:bg-indigo-200" aria-label="Next day"><!></button></div></div> <div class="flex w-full flex-col gap-4"><!></div></div> <div class="flex w-full items-end justify-between py-4"><button><span> </span></button> <!></div></main> <!> <!></div>');function at(j,i){de(i,!0);let s=ie(!1);const c=H(()=>f.selectedDate.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}));function C(){const t=new me(f.selectedDate);t.setDate(t.getDate()-1),f.setDate(t),W.setDate(t)}function J(){const t=new me(f.selectedDate);t.setDate(t.getDate()+1),f.setDate(t),W.setDate(t)}function w(){U(s,!0)}function N(){U(s,!1)}function V(t){f.setDate(t),W.setDate(t)}const P=H(()=>W.getReflectionByDate(f.selectedDate)),F=H(()=>e(P)!==void 0);function Z(){e(P)?oe(`${re}/reflection/${e(P).id}`):oe(`${re}/reflection/create`)}function $(){oe(`${re}/add`)}var O=Je(),R=n(O),k=n(R),T=n(k),A=n(T),o=n(A,!0);a(A);var r=l(A,2),d=n(r);d.__click=w;var u=n(d);Re(u,{class:"h-6 w-6 text-indigo-900"}),a(d);var b=l(d,2);b.__click=C;var ee=n(b);be(ee,{class:"h-6 w-6 text-indigo-900"}),a(b);var _=l(b,2);_.__click=J;var M=n(_);he(M,{class:"h-6 w-6 text-indigo-900"}),a(_),a(r),a(T);var q=l(T,2),B=n(q);{var te=t=>{var h=Ee();g(t,h)},I=t=>{var h=K(),ne=Q(h);se(ne,17,()=>f.entries,Y=>Y.id,(Y,y)=>{Me(Y,{get entry(){return e(y)}})}),g(t,h)};le(B,t=>{f.entries.length===0?t(te):t(I,!1)})}a(q),a(k);var z=l(k,2),m=n(z);m.__click=Z;var p=n(m),G=n(p,!0);a(p),a(m);var ae=l(m,2);Pe(ae,{get icon(){return Ne},onclick:$,label:"Add mood entry"}),a(z),a(R);var v=l(R,2);we(v,{currentTab:"mood-entries"});var x=l(v,2);Ye(x,{get isOpen(){return e(s)},get selectedDate(){return f.selectedDate},onClose:N,onSelectDate:V}),a(O),X(()=>{E(o,e(c)),ce(m,1,`lex fixed bottom-20 left-6 z-50 items-center justify-center rounded-full px-6 py-4 transition-colors ${e(F)?"bg-[#485e92] hover:bg-[#3d4f7a]":"bg-indigo-100 hover:bg-indigo-200"}`),ce(p,1,`text-base font-medium tracking-[0.15px] ${e(F)?"text-white":"text-indigo-900"}`),E(G,e(F)?"Reflection":"Start Reflection")}),g(j,O),ue()}xe(["click"]);export{at as component};
