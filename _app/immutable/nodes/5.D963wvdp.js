import{c as J,a as i,f as V,t as kt,s as ct,d as Xt}from"../chunks/CMVsHYcO.js";import{p as At,l as j,c as Ct,o as $t,d as E,f as L,g as t,u as o,r as w,t as ft,m as ie,s as Kt,b as Pt,a as le,e as de,$ as ce}from"../chunks/Dzkio-oR.js";import{a as Lt,e as yt,i as Ot,c as pt,b as Et,s as Dt,h as ue}from"../chunks/BMajUMua.js";import{c as dt,p as ut,s as St,r as Jt}from"../chunks/BcPhfkvl.js";import{S as mt,m as Qt}from"../chunks/CZgMVD6W.js";import{S as fe}from"../chunks/DCGNGnMU.js";import{N as ge,l as ve}from"../chunks/w7_55Tv2.js";import{c as Bt,d as me,S as Vt,g as Zt,a as he}from"../chunks/D0y9iST-.js";import{i as et}from"../chunks/BsUrrD3l.js";import{l as Gt,m as Ft,n as It,s as Nt,v as xe,w as ye,x as _e,h as Tt,j as wt,y as gt,z as vt,g as zt,B as te,f as Mt,D as pe,R as ee,S as ae,e as be,E as we,L as De,F as Rt,C as ke,G as qt,H as jt,p as Yt,I as Se,J as Me,K as Ae,o as re,q as ne,A as Wt,r as Ce,T as Te,u as $e,t as Pe}from"../chunks/CzrTvcfU.js";import{b as Re}from"../chunks/CQWna6ZE.js";import{g as Le}from"../chunks/rPTUo0Oh.js";import{b as Oe}from"../chunks/BjbOgI-U.js";import{r as Ee}from"../chunks/CasPY1Fx.js";var je=V('<div class="text-sm text-muted-foreground">No mood entries found for the selected criteria</div>'),We=V('<div class="flex items-start justify-between"><div><div class="text-sm font-medium text-muted-foreground">Best Day</div> <div class="mt-1 text-lg font-semibold"> </div></div> <div class="text-right"><div class="text-2xl font-bold text-green-600"> </div> <div class="text-xs text-muted-foreground">avg mood</div></div></div>'),Be=V('<div class="flex items-start justify-between border-t border-border pt-4"><div><div class="text-sm font-medium text-muted-foreground">Worst Day</div> <div class="mt-1 text-lg font-semibold"> </div></div> <div class="text-right"><div class="text-2xl font-bold text-red-600"> </div> <div class="text-xs text-muted-foreground">avg mood</div></div></div>'),Ge=V('<div class="flex items-start justify-between border-t border-border pt-4"><div><div class="text-sm font-medium text-muted-foreground">Most Common Context</div> <div class="mt-1 flex items-center gap-2"><!> <span class="text-lg font-semibold"> </span></div></div> <div class="text-right"><div class="text-2xl font-bold text-[#485e92]"> </div> <div class="text-xs text-muted-foreground"> </div></div></div>'),Fe=V('<div class="grid gap-4"><!> <!> <!></div>'),Ie=V("<!> <!>",1);function Ne(d,a){At(a,!0);const e=o(()=>{if(a.entries.length===0)return{bestDay:null,worstDay:null,mostCommonTag:null};const c=Bt(a.entries),p=me(c);let C=p[0],b=p[0];p.forEach(n=>{n.averageMood>C.averageMood&&(C=n),n.averageMood<b.averageMood&&(b=n)});const r=new Vt;a.entries.forEach(n=>{n.labels.forEach(m=>{const u=r.get(m.id);u?u.count++:r.set(m.id,{name:m.name,icon:m.icon,count:1})})});let s=null;return r.forEach(n=>{(!s||n.count>s.count)&&(s=n)}),{bestDay:C,worstDay:b,mostCommonTag:s}});function v(c){return c.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}function A(c){return c>0?`+${c.toFixed(1)}`:c.toFixed(1)}var G=J(),H=j(G);dt(H,()=>Nt,(c,p)=>{p(c,{class:"w-full",children:(C,b)=>{var r=Ie(),s=j(r);dt(s,()=>Gt,(m,u)=>{u(m,{children:(D,k)=>{var O=J(),h=j(O);dt(h,()=>Ft,(g,T)=>{T(g,{class:"text-2xl",children:(f,y)=>{$t();var S=kt("Highlights");i(f,S)},$$slots:{default:!0}})}),i(D,O)},$$slots:{default:!0}})});var n=E(s,2);dt(n,()=>It,(m,u)=>{u(m,{children:(D,k)=>{var O=J(),h=j(O);{var g=f=>{var y=je();i(f,y)},T=f=>{var y=Fe(),S=L(y);{var z=W=>{var l=We(),x=L(l),$=E(L(x),2),_=L($,!0);w($),w(x);var P=E(x,2),Y=L(P),I=L(Y,!0);w(Y),$t(2),w(P),w(l),ft((q,U)=>{ct(_,q),ct(I,U)},[()=>v(t(e).bestDay.date),()=>A(t(e).bestDay.averageMood)]),i(W,l)};et(S,W=>{t(e).bestDay&&W(z)})}var rt=E(S,2);{var st=W=>{var l=Be(),x=L(l),$=E(L(x),2),_=L($,!0);w($),w(x);var P=E(x,2),Y=L(P),I=L(Y,!0);w(Y),$t(2),w(P),w(l),ft((q,U)=>{ct(_,q),ct(I,U)},[()=>v(t(e).worstDay.date),()=>A(t(e).worstDay.averageMood)]),i(W,l)};et(rt,W=>{t(e).worstDay&&W(st)})}var it=E(rt,2);{var at=W=>{const l=o(()=>Zt(t(e).mostCommonTag.icon));var x=Ge(),$=L(x),_=E(L($),2),P=L(_);dt(P,()=>t(l),(Q,nt)=>{nt(Q,{class:"h-5 w-5",strokeWidth:2})});var Y=E(P,2),I=L(Y,!0);w(Y),w(_),w($);var q=E($,2),U=L(q),ot=L(U,!0);w(U);var N=E(U,2),F=L(N,!0);w(N),w(q),w(x),ft(()=>{ct(I,t(e).mostCommonTag.name),ct(ot,t(e).mostCommonTag.count),ct(F,t(e).mostCommonTag.count===1?"entry":"entries")}),i(W,x)};et(it,W=>{t(e).mostCommonTag&&W(at)})}w(y),i(f,y)};et(h,f=>{a.entries.length===0?f(g):f(T,!1)})}i(D,O)},$$slots:{default:!0}})}),i(C,r)},$$slots:{default:!0}})}),i(d,G),Ct()}function oe(){var d=xe().unknown(void 0),a=d.domain,e=d.range,v=0,A=1,G,H,c=!1,p=0,C=0,b=.5;delete d.unknown;function r(){var s=a().length,n=A<v,m=n?A:v,u=n?v:A;G=(u-m)/Math.max(1,s-p+C*2),c&&(G=Math.floor(G)),m+=(u-m-G*(s-p))*b,H=G*(1-p),c&&(m=Math.round(m),H=Math.round(H));var D=_e(s).map(function(k){return m+G*k});return e(n?D.reverse():D)}return d.domain=function(s){return arguments.length?(a(s),r()):a()},d.range=function(s){return arguments.length?([v,A]=s,v=+v,A=+A,r()):[v,A]},d.rangeRound=function(s){return[v,A]=s,v=+v,A=+A,c=!0,r()},d.bandwidth=function(){return H},d.step=function(){return G},d.round=function(s){return arguments.length?(c=!!s,r()):c},d.padding=function(s){return arguments.length?(p=Math.min(1,C=+s),r()):p},d.paddingInner=function(s){return arguments.length?(p=Math.min(1,s),r()):p},d.paddingOuter=function(s){return arguments.length?(C=+s,r()):C},d.align=function(s){return arguments.length?(b=Math.max(0,Math.min(1,s)),r()):b},d.copy=function(){return oe(a(),[v,A]).round(c).paddingInner(p).paddingOuter(C).align(b)},ye.apply(r(),arguments)}function He(d){const a=d?.all??0,e=d?.x??a,v=d?.y??a,A=d?.left??e,G=d?.right??e,H=d?.top??v,c=d?.bottom??v;return{left:A,right:G,bottom:c,top:H}}function Ye(d,a){const e=o(()=>a?.());return v=>{const A=He(t(e)?.insets),G=d.xScale.domain(),H=d.yScale.domain(),c=Tt(t(e)?.x??d.x),p=Tt(t(e)?.y??d.y),C=Tt(t(e)?.x1??d.x1),b=Tt(t(e)?.y1??d.y1);if(wt(d.yScale)){const r=Ut(d.yScale(p(v))??0)+(d.y1Scale?d.y1Scale(b(v)):0)+A.top,s=Math.max(0,d.yScale.bandwidth?(d.y1Scale?d.y1Scale.bandwidth?.()??0:d.yScale.bandwidth())-A.bottom-A.top:0),n=c(v);let m=0,u=0;Array.isArray(n)?(m=gt(n),u=vt(n)):n==null?(m=0,u=0):n>0?(m=vt([0,G[0]]),u=n):(m=n,u=gt([0,G[1]]));const D=d.xScale(m)+A.left,k=Math.max(0,d.xScale(u)-d.xScale(m)-A.left-A.right);return{x:D,y:r,width:k,height:s}}else{const r=Ut(d.xScale(c(v)))+(d.x1Scale?d.x1Scale(C(v)):0)+A.left,s=Math.max(0,d.xScale.bandwidth?(d.x1Scale?d.x1Scale.bandwidth?.()??0:d.xScale.bandwidth())-A.left-A.right:0),n=p(v);let m=0,u=0;Array.isArray(n)?(m=vt(n),u=gt(n)):n==null?(m=0,u=0):n>0?(m=n,u=vt([0,H[0]])):(m=gt([0,H[1]]),u=n);const D=d.yScale(m)+A.top,k=d.yScale(u)-d.yScale(m)-A.bottom-A.top;return{x:r,y:D,width:s,height:k}}}}function Ut(d){return Array.isArray(d)?d[0]:d}function se(d,a){At(a,!0);const e=zt();let v=ut(a,"x",19,()=>e.x),A=ut(a,"y",19,()=>e.y),G=ut(a,"stroke",3,"black"),H=ut(a,"strokeWidth",3,0),c=ut(a,"radius",3,0),p=ut(a,"rounded",3,"all"),C=Jt(a,["$$slots","$$events","$$legacy","data","x","y","x1","y1","fill","fillOpacity","stroke","strokeWidth","opacity","radius","rounded","motion","insets","initialX","initialY","initialHeight","initialWidth"]);const b=o(()=>G()===null||G()===void 0?"black":G()),r=o(()=>Ye(e,()=>({x:v(),y:A(),x1:a.x1,y1:a.y1,insets:a.insets}))),s=o(()=>t(r)(a.data)??{x:0,y:0,width:0,height:0}),n=o(()=>wt(e.xScale)),m=o(()=>Tt(t(n)?A():v())),u=o(()=>t(m)(a.data)),D=o(()=>Array.isArray(t(u))?pe(t(u)):t(u)),k=o(()=>p()==="edge"?t(n)?t(D)>=0?"top":"bottom":t(D)>=0?"right":"left":p()),O=o(()=>["all","top","left","top-left"].includes(t(k))),h=o(()=>["all","top","right","top-right"].includes(t(k))),g=o(()=>["all","bottom","left","bottom-left"].includes(t(k))),T=o(()=>["all","bottom","right","bottom-right"].includes(t(k))),f=o(()=>t(s).width),y=o(()=>t(s).height),S=o(()=>2*c()),z=o(()=>`M${t(s).x+c()},${t(s).y} h${t(f)-t(S)}
      ${t(h)?`a${c()},${c()} 0 0 1 ${c()},${c()}`:`h${c()}v${c()}`}
      v${t(y)-t(S)}
      ${t(T)?`a${c()},${c()} 0 0 1 ${-c()},${c()}`:`v${c()}h${-c()}`}
      h${t(S)-t(f)}
      ${t(g)?`a${c()},${c()} 0 0 1 ${-c()},${-c()}`:`h${-c()}v${-c()}`}
      v${t(S)-t(y)}
      ${t(O)?`a${c()},${c()} 0 0 1 ${c()},${-c()}`:`v${-c()}h${c()}`}
      z`.split(`
`).join(""));var rt=J(),st=j(rt);{var it=W=>{{let l=o(()=>t(s).y+t(s).height),x=o(()=>t(s).x+t(s).width),$=o(()=>Mt(C,"bar"));te(W,St({get innerRadius(){return t(s).y},get outerRadius(){return t(l)},get startAngle(){return t(s).x},get endAngle(){return t(x)},get fill(){return a.fill},get fillOpacity(){return a.fillOpacity},get stroke(){return t(b)},get strokeWidth(){return H()},get opacity(){return a.opacity},get cornerRadius(){return c()}},()=>t($)))}},at=W=>{var l=J(),x=j(l);{var $=P=>{{let Y=o(()=>t(k)==="none"?0:c()),I=o(()=>Mt(C,"bar"));ee(P,St({get fill(){return a.fill},get fillOpacity(){return a.fillOpacity},get stroke(){return t(b)},get strokeWidth(){return H()},get opacity(){return a.opacity},get rx(){return t(Y)},get motion(){return a.motion},get initialX(){return a.initialX},get initialY(){return a.initialY},get initialHeight(){return a.initialHeight},get initialWidth(){return a.initialWidth}},()=>t(s),()=>t(I)))}},_=P=>{const Y=o(()=>be(a.motion));{let I=o(()=>Mt(C,"bar"));ae(P,St({get pathData(){return t(z)},get fill(){return a.fill},get fillOpacity(){return a.fillOpacity},get stroke(){return t(b)},get strokeWidth(){return H()},get opacity(){return a.opacity},get motion(){return t(Y)}},()=>t(I)))}};et(x,P=>{t(k)==="all"||t(k)==="none"||c()===0?P($):P(_,!1)},!0)}i(W,l)};et(st,W=>{e.radial?W(it):W(at,!1)})}i(d,rt),Ct()}var Ke=V("<!> <!> <!> <!>",1);function Ve(d,a){At(a,!0);const e=zt(),v=we();let A=ut(a,"x",19,()=>e.x),G=ut(a,"y",19,()=>e.y),H=ut(a,"points",3,!1),c=ut(a,"lines",3,!1),p=ut(a,"area",3,!1),C=ut(a,"bar",3,!1),b=ut(a,"motion",3,"spring");const r=o(()=>Tt(A())),s=o(()=>Tt(G())),n=o(()=>a.data??v.data),m=o(()=>t(r)(t(n))),u=o(()=>Array.isArray(t(m))?t(m).map(l=>e.xScale(l)):e.xScale(t(m))),D=o(()=>wt(e.xScale)&&!e.radial?e.xScale.bandwidth()/2:0),k=o(()=>t(s)(t(n))),O=o(()=>Array.isArray(t(k))?t(k).map(l=>e.yScale(l)):e.yScale(t(k))),h=o(()=>wt(e.yScale)&&!e.radial?e.yScale.bandwidth()/2:0),g=o(()=>a.axis==null?wt(e.yScale)?"y":"x":a.axis),T=o(()=>{let l=[];return t(n)&&((t(g)==="x"||t(g)==="both")&&(Array.isArray(t(u))?l=[...l,...t(u).filter(jt).map((x,$)=>({x1:x+t(D),y1:gt(e.yRange),x2:x+t(D),y2:vt(e.yRange)}))]:t(u)!=null&&(l=[...l,{x1:t(u)+t(D),y1:gt(e.yRange),x2:t(u)+t(D),y2:vt(e.yRange)}])),(t(g)==="y"||t(g)==="both")&&(Array.isArray(t(O))?l=[...l,...t(O).filter(jt).map((x,$)=>({x1:gt(e.xRange),y1:x+t(h),x2:vt(e.xRange),y2:x+t(h)}))]:t(O)!=null&&(l=[...l,{x1:gt(e.xRange),y1:t(O)+t(h),x2:vt(e.xRange),y2:t(O)+t(h)}])),e.radial&&(l=l.map(x=>{const[$,_]=Yt(x.x1,x.y1),[P,Y]=Yt(x.x2,x.y2);return{...x,x1:$,y1:_,x2:P,y2:Y}}))),l}),f=o(()=>{const l={x:0,y:0,width:0,height:0};if(!t(n))return l;if(t(g)==="x"||t(g)==="both"){if(Array.isArray(t(u)))l.width=vt(t(u))-gt(t(u));else if(wt(e.xScale))l.width=e.xScale.step();else{const x=e.flatData.findIndex(P=>Number(t(r)(P))===Number(t(r)(t(n)))),_=x+1===e.flatData.length?vt(e.xDomain):t(r)(e.flatData[x+1]);l.width=(e.xScale(_)??0)-(t(u)??0)}l.x=(Array.isArray(t(u))?gt(t(u)):t(u))-(wt(e.xScale)?e.xScale.padding()*e.xScale.step()/2:0),t(g)==="x"&&(l.y=gt(e.yRange),l.height=vt(e.yRange)-gt(e.yRange))}if(t(g)==="y"||t(g)==="both"){if(Array.isArray(t(O)))l.height=vt(t(O))-gt(t(O));else if(wt(e.yScale))l.height=e.yScale.step();else{const x=e.flatData.findIndex(P=>Number(t(r)(P))===Number(t(r)(t(n)))),_=x+1===e.flatData.length?vt(e.yDomain):t(r)(e.flatData[x+1]);l.height=(e.yScale(_)??0)-(t(O)??0)}l.y=(Array.isArray(t(O))?gt(t(O)):t(O))-(wt(e.yScale)?e.yScale.padding()*e.yScale.step()/2:0),t(g)==="y"&&(l.width=vt(e.xRange))}return l}),y=o(()=>{let l=[];if(!t(n))return l;if(Array.isArray(t(u)))if(Array.isArray(t(n))){const x=t(n);Array.isArray(e.data)&&(l=e.data.map(_=>({series:_,point:_.find(P=>t(s)(P)===t(s)(x))})).filter(_=>_.point).map((_,P)=>({x:e.xScale(_.point[1])+t(D),y:t(O)+t(h),fill:e.config.c?e.cGet(_.series):null,data:{x:_.point[1],y:t(k)}})))}else l=t(u).filter(jt).map((x,$)=>{const _=e.config.x?.[$];return{x:x+t(D),y:t(O)+t(h),fill:e.config.c?e.cGet({...t(n),$key:_}):null,data:{x:t(m),y:t(k)}}});else if(Array.isArray(t(O)))if(Array.isArray(t(n))){const x=t(n);Array.isArray(e.data)&&(l=e.data.map(_=>({series:_,point:_.find(P=>t(r)(P)===t(r)(x))})).filter(_=>_.point).map((_,P)=>({x:t(u)+t(D),y:e.yScale(_.point[1])+t(h),fill:e.config.c?e.cGet(_.series):null,data:{x:t(m),y:_.point[1]}})))}else l=t(O).filter(jt).map((x,$)=>{const _=e.config.y[$];return{x:t(u)+t(D),y:x+t(h),fill:e.config.c?e.cGet({...t(n),$key:_}):null,data:{x:t(m),y:t(k)}}});else t(u)!=null&&t(O)!=null?l=[{x:t(u)+t(D),y:t(O)+t(h),fill:e.config.c?e.cGet(t(n)):null,data:{x:t(m),y:t(k)}}]:l=[];return e.radial&&(l=l.map(x=>{const[$,_]=Yt(x.x,x.y);return{...x,x:$,y:_}})),l}),S=o(()=>Mt(p(),"highlight-area")),z=o(()=>Mt(C(),"highlight-bar")),rt=o(()=>Mt(c(),"highlight-line")),st=o(()=>Mt(H(),"highlight-point"));var it=J(),at=j(it);{var W=l=>{var x=Ke(),$=j(x);{var _=N=>{var F=J(),Q=j(F);{var nt=R=>{var M=J(),B=j(M);Lt(B,p,()=>({area:t(f)})),i(R,M)},tt=R=>{var M=J(),B=j(M);{var Z=X=>{{let lt=o(()=>b()==="spring"?"spring":void 0),ht=o(()=>t(f).x+t(f).width),xt=o(()=>t(f).y+t(f).height),bt=o(()=>Rt(!t(S).fill&&"fill-surface-content/5",t(S).class)),Ht=o(()=>a.onAreaClick&&(_t=>a.onAreaClick(_t,{data:t(n)})));te(X,{get motion(){return t(lt)},get startAngle(){return t(f).x},get endAngle(){return t(ht)},get innerRadius(){return t(f).y},get outerRadius(){return t(xt)},get class(){return t(bt)},get onclick(){return t(Ht)}})}},K=X=>{{let lt=o(()=>b()==="spring"?"spring":void 0),ht=o(()=>Rt(!t(S).fill&&"fill-surface-content/5",t(S).class)),xt=o(()=>a.onAreaClick&&(bt=>a.onAreaClick(bt,{data:t(n)})));ee(X,St({get motion(){return t(lt)}},()=>t(f),()=>t(S),{get class(){return t(ht)},get onclick(){return t(xt)}}))}};et(B,X=>{e.radial?X(Z):X(K,!1)},!0)}i(R,M)};et(Q,R=>{typeof p()=="function"?R(nt):R(tt,!1)})}i(N,F)};et($,N=>{p()&&N(_)})}var P=E($,2);{var Y=N=>{var F=J(),Q=j(F);{var nt=R=>{var M=J(),B=j(M);Lt(B,C),i(R,M)},tt=R=>{{let M=o(()=>b()==="spring"?"spring":void 0),B=o(()=>Rt(!t(z).fill&&"fill-primary",t(z).class)),Z=o(()=>a.onBarClick&&(K=>a.onBarClick(K,{data:t(n)})));se(R,St({get motion(){return t(M)},get data(){return t(n)}},()=>t(z),{get class(){return t(B)},get onclick(){return t(Z)}}))}};et(Q,R=>{typeof C()=="function"?R(nt):R(tt,!1)})}i(N,F)};et(P,N=>{C()&&N(Y)})}var I=E(P,2);{var q=N=>{var F=J(),Q=j(F);{var nt=R=>{var M=J(),B=j(M);Lt(B,c,()=>({lines:t(T)})),i(R,M)},tt=R=>{var M=J(),B=j(M);yt(B,17,()=>t(T),Ot,(Z,K)=>{{let X=o(()=>b()==="spring"?"spring":void 0),lt=o(()=>Rt("stroke-surface-content/20 stroke-2 [stroke-dasharray:2,2] pointer-events-none",t(rt).class));De(Z,St({get motion(){return t(X)},get x1(){return t(K).x1},get y1(){return t(K).y1},get x2(){return t(K).x2},get y2(){return t(K).y2}},()=>t(rt),{get class(){return t(lt)}}))}}),i(R,M)};et(Q,R=>{typeof c()=="function"?R(nt):R(tt,!1)})}i(N,F)};et(I,N=>{c()&&N(q)})}var U=E(I,2);{var ot=N=>{var F=J(),Q=j(F);{var nt=R=>{var M=J(),B=j(M);Lt(B,H,()=>({points:t(y)})),i(R,M)},tt=R=>{var M=J(),B=j(M);yt(B,17,()=>t(y),Ot,(Z,K)=>{{let X=o(()=>b()==="spring"?"spring":void 0),lt=o(()=>Rt("stroke-white [paint-order:stroke] drop-shadow-sm",!t(K).fill&&(typeof H()=="boolean"||!H().fill)&&"fill-primary",t(st).class)),ht=o(()=>a.onPointClick&&(_t=>{_t.stopPropagation()})),xt=o(()=>a.onPointClick&&(_t=>a.onPointClick(_t,{point:t(K),data:t(n)}))),bt=o(()=>a.onPointEnter&&(_t=>{a.onPointClick&&(qt(_t.target).style.cursor="pointer"),a.onPointEnter(_t,{point:t(K),data:t(n)})})),Ht=o(()=>a.onPointLeave&&(_t=>{a.onPointClick&&(qt(_t.target).style.cursor="default"),a.onPointLeave(_t,{point:t(K),data:t(n)})}));ke(Z,St({get motion(){return t(X)},get cx(){return t(K).x},get cy(){return t(K).y},get fill(){return t(K).fill},r:4,strokeWidth:6},()=>t(st),{get class(){return t(lt)},get onpointerdown(){return t(ht)},get onclick(){return t(xt)},get onpointerenter(){return t(bt)},get onpointerleave(){return t(Ht)}}))}}),i(R,M)};et(Q,R=>{typeof H()=="function"?R(nt):R(tt,!1)})}i(N,F)};et(U,N=>{H()&&N(ot)})}i(l,x)};et(at,l=>{t(n)&&l(W)})}i(d,it),Ct()}function ze(d,a){At(a,!0);let e=ut(a,"key",3,(b,r)=>r),v=ut(a,"onBarClick",3,()=>{}),A=ut(a,"radius",3,0),G=ut(a,"strokeWidth",3,0),H=ut(a,"stroke",3,"black"),c=Jt(a,["$$slots","$$events","$$legacy","fill","key","data","onBarClick","children","radius","strokeWidth","stroke"]);const p=zt(),C=o(()=>Me(a.data??p.data));{let b=o(()=>Ae("bars"));Se(d,{get class(){return t(b)},children:(r,s)=>{var n=J(),m=j(n);{var u=k=>{var O=J(),h=j(O);Lt(h,()=>a.children),i(k,O)},D=k=>{var O=J(),h=j(O);yt(h,19,()=>t(C),(g,T)=>e()(g,T),(g,T)=>{{let f=o(()=>a.fill??(p.config.c?p.cGet(t(T)):null)),y=o(()=>Mt(c,"bars-bar"));se(g,St({get data(){return t(T)},get radius(){return A()},get strokeWidth(){return G()},get stroke(){return H()},get fill(){return t(f)},onclick:S=>v()(S,{data:t(T)})},()=>t(y)))}}),i(k,O)};et(m,k=>{a.children?k(u):k(D,!1)})}i(r,n)},$$slots:{default:!0}})}Ct()}var qe=V("Average Mood <!>",1),Ue=V("<!> <!> <!> <!>",1),Xe=V('<div class="rounded-lg border border-border/50 bg-background px-3 py-2 text-xs shadow-xl"><div class="font-medium"><!></div> <div class="mt-1 flex items-center gap-2"><div class="h-2 w-2 rounded-full bg-[#485e92]"></div> <span class="text-muted-foreground"> </span></div> <div class="mt-0.5 text-[10px] text-muted-foreground"> </div></div>'),Je=V("<!> <!>",1),Qe=V('<div class="h-[300px] w-full"><!></div>'),Ze=V('<div class="flex h-[300px] w-full items-center justify-center text-sm text-muted-foreground">No mood entries found for the selected criteria</div>'),ta=V("<!> <!>",1);function ea(d,a){At(a,!0);const e=o(()=>a.selectedTimeRange==="week"||a.selectedTimeRange==="month"?"day":a.selectedTimeRange==="3months"?"week":"month"),v=o(()=>{if(a.entries.length===0)return[];const p=Bt(a.entries),C=Array.from(p.entries()).map(([r,s])=>{const n=s.reduce((m,u)=>m+u.moodLevel,0)/s.length;return{date:new Date(r+"T12:00:00"),averageMood:n,entryCount:s.length}}).sort((r,s)=>r.date.getTime()-s.date.getTime());if(t(e)==="day")return C.map(r=>({...r,endDate:void 0}));const b=new Vt;return C.forEach(r=>{let s,n,m;if(t(e)==="week"){const D=new mt(r.date),k=D.getDay(),O=k===0?-6:1-k;n=new mt(D),n.setDate(D.getDate()+O),n.setHours(12,0,0,0),m=new mt(n),m.setDate(n.getDate()+6),s=n.toISOString().split("T")[0]}else n=new mt(r.date.getFullYear(),r.date.getMonth(),1,12,0,0,0),m=new mt(r.date.getFullYear(),r.date.getMonth()+1,0,12,0,0,0),s=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}`;b.has(s)||b.set(s,{date:n,endDate:m,totalMood:0,entryCount:0});const u=b.get(s);u.totalMood+=r.averageMood*r.entryCount,u.entryCount+=r.entryCount}),Array.from(b.values()).map(r=>({date:r.date,averageMood:r.totalMood/r.entryCount,entryCount:r.entryCount,endDate:r.endDate})).sort((r,s)=>r.date.getTime()-s.date.getTime())}),A=o(()=>{if(t(v).length===0)return[new Date,new Date];const p=t(v).map(C=>C.date.getTime());return[new Date(Math.min(...p)),new Date(Math.max(...p))]}),G=o(()=>{if(t(v).length===0)return[];if(a.selectedTimeRange==="week"||t(v).length<=5)return t(v).map(b=>b.date);const p=[],C=(t(v).length-1)/4;for(let b=0;b<5;b++){const r=Math.round(b*C);p.push(t(v)[r].date)}return p});var H=J(),c=j(H);dt(c,()=>Nt,(p,C)=>{C(p,{class:"w-full",children:(b,r)=>{var s=ta(),n=j(s);dt(n,()=>Gt,(u,D)=>{D(u,{children:(k,O)=>{var h=J(),g=j(h);dt(g,()=>Ft,(T,f)=>{f(T,{class:"text-2xl",children:(y,S)=>{$t();var z=qe(),rt=E(j(z));{var st=at=>{var W=kt("(by week)");i(at,W)},it=at=>{var W=J(),l=j(W);{var x=$=>{var _=kt("(by month)");i($,_)};et(l,$=>{t(e)==="month"&&$(x)},!0)}i(at,W)};et(rt,at=>{t(e)==="week"?at(st):at(it,!1)})}i(y,z)},$$slots:{default:!0}})}),i(k,h)},$$slots:{default:!0}})});var m=E(n,2);dt(m,()=>It,(u,D)=>{D(u,{children:(k,O)=>{var h=J(),g=j(h);{var T=y=>{var S=Qe(),z=L(S);{let rt=o(Pe),st=o(()=>[new mt(t(A)[0]),new mt(t(A)[1])]),it=o($e);re(z,{get data(){return t(v)},x:"date",get xScale(){return t(rt)},get xDomain(){return t(st)},y:"averageMood",get yScale(){return t(it)},yDomain:[-10,10],padding:{top:16,bottom:32,left:48,right:16},tooltip:{mode:"bisect-x"},children:(at,W)=>{var l=Je(),x=j(l);ne(x,{children:(_,P)=>{var Y=Ue(),I=j(Y);Wt(I,{placement:"left",grid:!0,rule:!1,ticks:[-10,-5,0,5,10],format:N=>{const F=Math.round(N);return F>0?`+${F}`:String(F)},class:"text-xs text-muted-foreground"});var q=E(I,2);Wt(q,{placement:"bottom",rule:!1,get ticks(){return t(G)},format:N=>{const F=t(v).find(Q=>Q.date.getTime()===N.getTime());if(!F)return"";if(t(e)==="day")return F.date.toLocaleDateString("en-GB",{month:"short",day:"numeric"});if(t(e)==="week"){const Q=F.date.getDate(),nt=F.endDate.getDate(),tt=F.date.toLocaleDateString("en-GB",{month:"short"}),R=F.endDate.toLocaleDateString("en-GB",{month:"short"});return tt===R?`${tt} ${Q}-${nt}`:`${tt} ${Q}-${R} ${nt}`}else return F.date.toLocaleDateString("en-GB",{month:"short",year:"numeric"})},class:"text-xs text-muted-foreground"});var U=E(q,2);ae(U,{get curve(){return Ce},class:"fill-none stroke-[#485e92] stroke-2"});var ot=E(U,2);Ve(ot,{points:!0,lines:!0}),i(_,Y)},$$slots:{default:!0}});var $=E(x,2);{const _=(P,Y)=>{let I=()=>Y?.().data;var q=Xe(),U=L(q),ot=L(U);{var N=B=>{var Z=kt();ft(K=>ct(Z,K),[()=>I().date.toLocaleDateString("en-GB",{month:"short",day:"numeric",year:"numeric"})]),i(B,Z)},F=B=>{var Z=kt();ft((K,X)=>ct(Z,`${K??""}
                    -
                    ${X??""}`),[()=>I().date.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}),()=>I().endDate.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]),i(B,Z)};et(ot,B=>{t(e)==="day"?B(N):B(F,!1)})}w(U);var Q=E(U,2),nt=E(L(Q),2),tt=L(nt);w(nt),w(Q);var R=E(Q,2),M=L(R);w(R),w(q),ft(B=>{ct(tt,`Avg Mood: ${I().averageMood>0?"+":""}${B??""}`),ct(M,`${I().entryCount??""}
                  ${I().entryCount===1?"entry":"entries"}`)},[()=>I().averageMood.toFixed(1)]),i(P,q)};dt($,()=>Te,(P,Y)=>{Y(P,{variant:"none",children:_,$$slots:{default:!0}})})}i(at,l)},$$slots:{default:!0}})}w(S),i(y,S)},f=y=>{var S=Ze();i(y,S)};et(g,y=>{t(v).length>0?y(T):y(f,!1)})}i(k,h)},$$slots:{default:!0}})}),i(b,s)},$$slots:{default:!0}})}),i(d,H),Ct()}var aa=V("Entry Count <!>",1),ra=V("<!> <!> <!>",1),na=V('<div class="h-[300px] w-full"><!></div>'),oa=V('<div class="flex h-[300px] w-full items-center justify-center text-sm text-muted-foreground">No mood entries found for the selected criteria</div>'),sa=V("<!> <!>",1);function ia(d,a){At(a,!0);const e=o(()=>a.selectedTimeRange==="week"||a.selectedTimeRange==="month"?"day":a.selectedTimeRange==="3months"?"week":"month"),v=o(()=>{if(a.entries.length===0)return[];const p=Bt(a.entries),C=Array.from(p.entries()).map(([r,s])=>({date:r,count:s.length,dateObj:new Date(r+"T12:00:00")})).sort((r,s)=>r.dateObj.getTime()-s.dateObj.getTime());if(t(e)==="day")return C.map(r=>({...r,endDate:void 0}));const b=new Vt;return C.forEach(r=>{let s,n,m;if(t(e)==="week"){const D=new mt(r.dateObj),k=D.getDay(),O=k===0?-6:1-k;n=new mt(D),n.setDate(D.getDate()+O),n.setHours(0,0,0,0),m=new mt(n),m.setDate(n.getDate()+6),s=n.toISOString().split("T")[0]}else n=new mt(r.dateObj.getFullYear(),r.dateObj.getMonth(),1),m=new mt(r.dateObj.getFullYear(),r.dateObj.getMonth()+1,0),s=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}`;b.has(s)||b.set(s,{dateObj:n,endDate:m,count:0,entries:[]});const u=b.get(s);u.count+=r.count,u.entries.push(r.count)}),Array.from(b.values()).map(r=>({date:r.dateObj.toISOString().split("T")[0],count:r.count,dateObj:r.dateObj,endDate:r.endDate})).sort((r,s)=>r.dateObj.getTime()-s.dateObj.getTime())}),A=o(()=>{if(t(v).length===0)return 10;const p=Math.max(...t(v).map(C=>C.count));return Math.ceil(p*1.1)}),G=o(()=>{if(t(v).length===0)return[];if(a.selectedTimeRange==="week"||t(v).length<=5)return t(v).map(b=>b.date);const p=[],C=(t(v).length-1)/4;for(let b=0;b<5;b++){const r=Math.round(b*C);p.push(t(v)[r].date)}return p});var H=J(),c=j(H);dt(c,()=>Nt,(p,C)=>{C(p,{class:"w-full",children:(b,r)=>{var s=sa(),n=j(s);dt(n,()=>Gt,(u,D)=>{D(u,{children:(k,O)=>{var h=J(),g=j(h);dt(g,()=>Ft,(T,f)=>{f(T,{class:"text-2xl",children:(y,S)=>{$t();var z=aa(),rt=E(j(z));{var st=at=>{var W=kt("(by week)");i(at,W)},it=at=>{var W=J(),l=j(W);{var x=$=>{var _=kt("(by month)");i($,_)};et(l,$=>{t(e)==="month"&&$(x)},!0)}i(at,W)};et(rt,at=>{t(e)==="week"?at(st):at(it,!1)})}i(y,z)},$$slots:{default:!0}})}),i(k,h)},$$slots:{default:!0}})});var m=E(n,2);dt(m,()=>It,(u,D)=>{D(u,{children:(k,O)=>{var h=J(),g=j(h);{var T=y=>{var S=na(),z=L(S);{let rt=o(()=>oe().padding(.2)),st=o(()=>[0,t(A)]);re(z,{get data(){return t(v)},x:"date",get xScale(){return t(rt)},y:"count",get yDomain(){return t(st)},padding:{top:16,bottom:32,left:48,right:16},children:(it,at)=>{ne(it,{children:(W,l)=>{var x=ra(),$=j(x);Wt($,{placement:"left",grid:!0,rule:!1,ticks:5,format:Y=>Math.round(Y).toString(),class:"text-xs text-muted-foreground"});var _=E($,2);Wt(_,{placement:"bottom",rule:!1,get ticks(){return t(G)},format:Y=>{const I=t(v).find(q=>q.date===Y);if(!I)return Y;if(t(e)==="day")return I.dateObj.toLocaleDateString("en-GB",{month:"short",day:"numeric"});if(t(e)==="week"){const q=I.dateObj.getDate(),U=I.endDate.getDate(),ot=I.dateObj.toLocaleDateString("en-GB",{month:"short"}),N=I.endDate.toLocaleDateString("en-GB",{month:"short"});return ot===N?`${ot} ${q}-${U}`:`${ot} ${q}-${N} ${U}`}else return I.dateObj.toLocaleDateString("en-GB",{month:"short",year:"numeric"})},class:"text-xs text-muted-foreground"});var P=E(_,2);ze(P,{radius:4,strokeWidth:0,class:"fill-[#485e92]"}),i(W,x)},$$slots:{default:!0}})},$$slots:{default:!0}})}w(S),i(y,S)},f=y=>{var S=oa();i(y,S)};et(g,y=>{t(v).length>0?y(T):y(f,!1)})}i(k,h)},$$slots:{default:!0}})}),i(b,s)},$$slots:{default:!0}})}),i(d,H),Ct()}var la=V('<button type="button" class="flex flex-1 flex-col items-center gap-1"><span class="text-[10px] text-[#44464f]"> </span> <div class="aspect-square w-full max-w-10 rounded-md transition-transform hover:scale-105"></div> <span class="text-[10px] text-[#44464f]"> </span></button>'),da=V('<div class="flex flex-col gap-2"><div class="flex w-full justify-between gap-1"></div></div>'),ca=V('<span class="flex-1 text-center text-[10px] text-[#44464f]"> </span>'),ua=V('<button type="button" class="flex flex-1 flex-col items-center gap-0.5"><div></div> <span> </span></button>'),fa=V('<div class="flex w-full justify-between gap-1"></div>'),ga=V('<div class="flex flex-col gap-1"><div class="flex justify-between gap-1 px-1"></div> <!></div>'),va=V('<span class="absolute text-xs whitespace-nowrap"> </span>'),ma=V('<span class="text-[10px]"> </span>'),ha=V('<div class="flex items-center justify-end pr-1"><!></div>'),xa=V('<button type="button"></button>'),ya=V('<div class="flex flex-col"></div>'),_a=V('<div class="overflow-x-auto"><div class="inline-flex flex-col" style="min-width: fit-content;"><div class="mb-1 flex text-xs text-[#44464f]"><div class="relative flex" style="height: 16px;"></div></div> <div class="flex"><div class="flex shrink-0 flex-col text-xs text-[#44464f]"></div> <div class="flex"></div></div></div></div>'),pa=V('<!> <div class="mt-3 flex items-center justify-end gap-1 text-xs text-[#44464f]"><span>Bad</span> <div class="h-[11px] w-[11px] rounded-sm" style="background-color: #ebedf0;"></div> <div class="h-[11px] w-[11px] rounded-sm" style="background-color: #e57373;"></div> <div class="h-[11px] w-[11px] rounded-sm" style="background-color: #ffb74d;"></div> <div class="h-[11px] w-[11px] rounded-sm" style="background-color: #fff176;"></div> <div class="h-[11px] w-[11px] rounded-sm" style="background-color: #aed581;"></div> <div class="h-[11px] w-[11px] rounded-sm" style="background-color: #66bb6a;"></div> <span>Good</span></div>',1),ba=V("<!> <!>",1);function wa(d,a){At(a,!0);const e=o(()=>{switch(a.selectedTimeRange){case"week":return 7;case"month":return 30;case"3months":return 90;case"year":return 365}}),v=o(()=>a.selectedTimeRange==="week"),A=o(()=>a.selectedTimeRange==="month"),G=o(()=>{const h=new Date;h.setHours(23,59,59,999);const g=Bt(a.entries),T=new Map;for(const[S,z]of g){const rt=z.reduce((st,it)=>st+it.moodLevel,0)/z.length;T.set(S,{avgMood:rt,count:z.length})}const f=[],y=new Date(h);for(y.setDate(y.getDate()-t(e)+1);y<=h;){const S=y.toISOString().split("T")[0],z=T.get(S);f.push({date:new Date(y),dateKey:S,avgMood:z?z.avgMood:null,count:z?z.count:0}),y.setDate(y.getDate()+1)}return f}),H=o(()=>{if(t(v)||t(A))return[];const h=[],g=t(G)[0];if(!g)return h;const T=g.date.getDay();let f=[];for(let y=0;y<T;y++)f.push({date:new Date(0),dateKey:`empty-start-${y}`,avgMood:null,count:0,isEmpty:!0});for(const y of t(G))f.push(y),f.length===7&&(h.push(f),f=[]);if(f.length>0){for(;f.length<7;)f.push({date:new Date(0),dateKey:`empty-end-${f.length}`,avgMood:null,count:0,isEmpty:!0});h.push(f)}return h});function c(h,g){return g?"transparent":h===null?"#ebedf0":he(h)}function p(h){return h.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})}function C(h){return h.toLocaleDateString("en-US",{weekday:"short"})}const b=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],r=o(()=>{switch(a.selectedTimeRange){case"3months":case"year":return 18;default:return 18}}),s=o(()=>{switch(a.selectedTimeRange){case"3months":case"year":return 2;default:return 2}}),n=o(()=>{if(t(v)||t(A))return[];const h=[];let g=-1;return t(H).forEach((T,f)=>{const y=T.find(S=>!S.isEmpty);if(y){const S=y.date.getMonth();S!==g&&(g=S,h.push({month:y.date.toLocaleDateString("en-US",{month:"short"}),weekIndex:f}))}}),h}),m=o(()=>{if(!t(A))return[];const h=[],g=t(G)[0];if(!g)return h;const T=g.date.getDay();let f=[];for(let y=0;y<T;y++)f.push({date:new Date(0),dateKey:`empty-start-${y}`,avgMood:null,count:0,isEmpty:!0});for(const y of t(G))f.push(y),f.length===7&&(h.push(f),f=[]);if(f.length>0){for(;f.length<7;)f.push({date:new Date(0),dateKey:`empty-end-${f.length}`,avgMood:null,count:0,isEmpty:!0});h.push(f)}return h});function u(h,g){g||(Qt.setDate(h),Ee.setDate(h),Le(`${Oe}/`))}let D=Kt(null);ie(()=>{a.selectedTimeRange,requestAnimationFrame(()=>{t(D)&&(t(D).scrollLeft=t(D).scrollWidth)})});var k=J(),O=j(k);dt(O,()=>Nt,(h,g)=>{g(h,{class:"w-full",children:(T,f)=>{var y=ba(),S=j(y);dt(S,()=>Gt,(rt,st)=>{st(rt,{children:(it,at)=>{var W=J(),l=j(W);dt(l,()=>Ft,(x,$)=>{$(x,{class:"text-2xl",children:(_,P)=>{$t();var Y=kt("Mood Activity");i(_,Y)},$$slots:{default:!0}})}),i(it,W)},$$slots:{default:!0}})});var z=E(S,2);dt(z,()=>It,(rt,st)=>{st(rt,{children:(it,at)=>{var W=pa(),l=j(W);{var x=_=>{var P=da(),Y=L(P);yt(Y,21,()=>t(G),I=>I.dateKey,(I,q)=>{var U=la();U.__click=()=>u(t(q).date);var ot=L(U),N=L(ot,!0);w(ot);var F=E(ot,2),Q=E(F,2),nt=L(Q,!0);w(Q),w(U),ft((tt,R,M,B)=>{ct(N,tt),pt(F,`background-color: ${R??""};`),Et(F,"title",M),ct(nt,B)},[()=>C(t(q).date),()=>c(t(q).avgMood),()=>`${p(t(q).date)}
${t(q).count>0?`Entries: ${t(q).count}
Average mood: ${t(q).avgMood?.toFixed(1)}`:"No entries"}`,()=>t(q).date.getDate()]),i(I,U)}),w(Y),w(P),i(_,P)},$=_=>{var P=J(),Y=j(P);{var I=U=>{var ot=ga(),N=L(ot);yt(N,20,()=>b,Q=>Q,(Q,nt)=>{var tt=ca(),R=L(tt,!0);w(tt),ft(()=>ct(R,nt)),i(Q,tt)}),w(N);var F=E(N,2);yt(F,17,()=>t(m),Ot,(Q,nt)=>{var tt=fa();yt(tt,21,()=>t(nt),R=>R.dateKey,(R,M)=>{var B=ua();B.__click=()=>u(t(M).date,t(M).isEmpty);var Z=L(B),K=E(Z,2),X=L(K,!0);w(K),w(B),ft((lt,ht,xt)=>{B.disabled=t(M).isEmpty,Dt(Z,1,`aspect-square w-full max-w-10 rounded-md transition-transform ${t(M).isEmpty?"":"cursor-pointer hover:scale-105"}`),pt(Z,`background-color: ${lt??""};`),Et(Z,"title",ht),Dt(K,1,`text-[10px] text-[#44464f] ${t(M).isEmpty?"invisible":""}`),ct(X,xt)},[()=>c(t(M).avgMood,t(M).isEmpty),()=>t(M).isEmpty?"":`${p(t(M).date)}
${t(M).count>0?`Entries: ${t(M).count}
Average mood: ${t(M).avgMood?.toFixed(1)}`:"No entries"}`,()=>t(M).date.getDate()]),i(R,B)}),w(tt),i(Q,tt)}),w(ot),i(U,ot)},q=U=>{var ot=_a(),N=L(ot),F=L(N),Q=L(F);yt(Q,21,()=>t(n),M=>M.weekIndex,(M,B)=>{var Z=va(),K=L(Z,!0);w(Z),ft(()=>{pt(Z,`left: ${t(B).weekIndex*(t(r)+t(s))}px;`),ct(K,t(B).month)}),i(M,Z)}),w(Q),w(F);var nt=E(F,2),tt=L(nt);yt(tt,21,()=>b,Ot,(M,B,Z)=>{var K=ha(),X=L(K);{var lt=ht=>{var xt=ma(),bt=L(xt,!0);w(xt),ft(()=>ct(bt,t(B))),i(ht,xt)};et(X,ht=>{Z%2===1&&ht(lt)})}w(K),ft(()=>pt(K,`height: ${t(r)??""}px; width: ${a.selectedTimeRange==="year"?20:28}px;`)),i(M,K)}),w(tt);var R=E(tt,2);yt(R,21,()=>t(H),Ot,(M,B)=>{var Z=ya();yt(Z,21,()=>t(B),K=>K.dateKey,(K,X)=>{var lt=xa();lt.__click=()=>u(t(X).date,t(X).isEmpty),ft((ht,xt,bt)=>{Dt(lt,1,`rounded-sm ${t(X).isEmpty?"cursor-default":"cursor-pointer"} transition-transform ${t(X).isEmpty?"":"hover:scale-110"}`),pt(lt,`width: ${t(r)??""}px; height: ${t(r)??""}px; background-color: ${ht??""};`),Et(lt,"title",xt),lt.disabled=t(X).isEmpty,Et(lt,"aria-label",bt)},[()=>c(t(X).avgMood,t(X).isEmpty),()=>t(X).isEmpty?"":`${p(t(X).date)}
${t(X).count>0?`Entries: ${t(X).count}
Average mood: ${t(X).avgMood?.toFixed(1)}`:"No entries"}`,()=>t(X).isEmpty?"":`View entries for ${p(t(X).date)}`]),i(K,lt)}),w(Z),ft(()=>pt(Z,`gap: ${t(s)??""}px;`)),i(M,Z)}),w(R),w(nt),w(N),w(ot),Re(ot,M=>Pt(D,M),()=>t(D)),ft(()=>{pt(F,`padding-left: ${a.selectedTimeRange==="year"?28:36}px;`),pt(nt,`gap: ${t(s)??""}px;`),pt(tt,`gap: ${t(s)??""}px; margin-right: ${t(s)??""}px;`),pt(R,`gap: ${t(s)??""}px;`)}),i(U,ot)};et(Y,U=>{t(A)?U(I):U(q,!1)},!0)}i(_,P)};et(l,_=>{t(v)?_(x):_($,!1)})}$t(2),i(it,W)},$$slots:{default:!0}})}),i(T,y)},$$slots:{default:!0}})}),i(d,k),Ct()}Xt(["click"]);var Da=V('<button type="button"><!> <span> </span></button>'),ka=V('<div class="flex h-screen flex-col bg-white"><main class="flex flex-1 flex-col gap-6 overflow-y-auto px-4 py-4"><div class="flex flex-wrap gap-2 py-2"><button type="button">Week</button> <button type="button">Month</button> <button type="button">3 Months</button> <button type="button">Year</button></div> <div class="flex flex-wrap gap-2"></div> <!> <!> <!> <!></main> <!></div>');function Ga(d,a){At(a,!0);let e=Kt("3months"),v=Kt(le(new Set));const A=o(()=>{const g=new Date,T=new mt(g);T.setHours(23,59,59,999);const f=new mt(g);switch(t(e)){case"week":f.setDate(g.getDate()-7);break;case"month":f.setMonth(g.getMonth()-1);break;case"3months":f.setMonth(g.getMonth()-3);break;case"year":f.setFullYear(g.getFullYear()-1);break}return f.setHours(0,0,0,0),{start:f,end:T}}),G=o(()=>Qt.allEntries.filter(g=>g.date>=t(A).start&&g.date<=t(A).end?t(v).size===0?!0:g.labels.some(f=>t(v).has(f.id)):!1));function H(g){const T=new fe(t(v));T.has(g)?T.delete(g):T.add(g),Pt(v,T,!0)}var c=ka();ue("u6zn5i",g=>{de(()=>{ce.title="Insights - MoodLog"})});var p=L(c),C=L(p),b=L(C);b.__click=()=>Pt(e,"week");var r=E(b,2);r.__click=()=>Pt(e,"month");var s=E(r,2);s.__click=()=>Pt(e,"3months");var n=E(s,2);n.__click=()=>Pt(e,"year"),w(C);var m=E(C,2);yt(m,21,()=>ve.all,g=>g.id,(g,T)=>{const f=o(()=>Zt(t(T).icon)),y=o(()=>t(v).has(t(T).id));var S=Da();S.__click=()=>H(t(T).id);var z=L(S);dt(z,()=>t(f),(it,at)=>{at(it,{class:"h-4 w-4",strokeWidth:2})});var rt=E(z,2),st=L(rt,!0);w(rt),w(S),ft(()=>{Dt(S,1,`flex items-center gap-2 rounded-lg border border-[#c5c6d0] px-3 py-1.5 text-sm font-medium transition-colors ${t(y)?"bg-[#d9dff6] text-[#404659]":"bg-white text-[#44464f] hover:bg-gray-50"}`),ct(st,t(T).name)}),i(g,S)}),w(m);var u=E(m,2);Ne(u,{get entries(){return t(G)}});var D=E(u,2);wa(D,{get entries(){return t(G)},get selectedTimeRange(){return t(e)}});var k=E(D,2);ea(k,{get entries(){return t(G)},get selectedTimeRange(){return t(e)}});var O=E(k,2);ia(O,{get entries(){return t(G)},get selectedTimeRange(){return t(e)}}),w(p);var h=E(p,2);ge(h,{currentTab:"insights"}),w(c),ft(()=>{Dt(b,1,`rounded-lg border border-[#c5c6d0] px-3 py-1.5 text-sm font-medium transition-colors ${t(e)==="week"?"bg-[#d9dff6] text-[#404659]":"bg-white text-[#44464f] hover:bg-gray-50"}`),Dt(r,1,`rounded-lg border border-[#c5c6d0] px-3 py-1.5 text-sm font-medium transition-colors ${t(e)==="month"?"bg-[#d9dff6] text-[#404659]":"bg-white text-[#44464f] hover:bg-gray-50"}`),Dt(s,1,`rounded-lg border border-[#c5c6d0] px-3 py-1.5 text-sm font-medium transition-colors ${t(e)==="3months"?"bg-[#d9dff6] text-[#404659]":"bg-white text-[#44464f] hover:bg-gray-50"}`),Dt(n,1,`rounded-lg border border-[#c5c6d0] px-3 py-1.5 text-sm font-medium transition-colors ${t(e)==="year"?"bg-[#d9dff6] text-[#404659]":"bg-white text-[#44464f] hover:bg-gray-50"}`)}),i(d,c),Ct()}Xt(["click"]);export{Ga as component};
