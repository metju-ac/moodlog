import{f as k,a as w,s as oe}from"../chunks/CL1gL8u8.js";import{o as ie}from"../chunks/D2vyYY4r.js";import{p as ne,m as M,b as a,g as e,s as i,t as se,c as le,d as ce,f as n,h as l,u as R,$ as de,r as c,i as fe,q as ue}from"../chunks/Dd77Lb4Z.js";import{i as E}from"../chunks/9XiK6310.js";import{h as pe}from"../chunks/BF1pAsR3.js";import{b as me}from"../chunks/CNq3PT-K.js";import{a as ve,b as ge}from"../chunks/Dvhy9Jzs.js";import{g as C}from"../chunks/BKCE8P7c.js";import{b as A}from"../chunks/DTdx9Fcy.js";import{p as he,S as be}from"../chunks/CslqYyfm.js";import{N as ye}from"../chunks/U2N0orLA.js";import{R as _e}from"../chunks/CNKxWLrw.js";import{F as h}from"../chunks/viMvqxxa.js";import{D as xe,T as De}from"../chunks/BmGElW7h.js";import{D as Se}from"../chunks/Dih8qLxm.js";import{r as I}from"../chunks/B5p6lEaW.js";import{s as z}from"../chunks/qOwRoeG3.js";import{X as $e}from"../chunks/BBnITIqa.js";import{S as we}from"../chunks/CMimTwrZ.js";const Me=!1,Ke=Object.freeze(Object.defineProperty({__proto__:null,prerender:Me},Symbol.toStringTag,{value:"Module"}));var Re=k("<!> <!>",1),Ce=k("<!> <!>",1),Ae=k('<div class="flex h-screen flex-col bg-white"><main class="flex flex-1 flex-col overflow-y-auto px-4 py-3"><div class="flex w-full flex-col gap-5.5 px-0 pt-3 pb-24"><h1 class="text-center text-[22px] leading-7 font-normal text-black"> </h1> <!> <div class="relative w-full"><textarea id="reflection-notes" placeholder="Write your thoughts about today..." rows="8" class="w-full resize-none rounded border-[3px] border-indigo-700 px-4 py-3 text-base text-gray-900 transition-colors outline-none focus:border-indigo-800 disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-700"></textarea> <label for="reflection-notes" class="absolute -top-2.5 left-3 bg-white px-1 text-xs text-indigo-700">Notes for this day</label></div> <div class="flex w-full flex-col gap-8 py-3"><!></div></div> <!></main> <!></div> <!>',1);function Ue(N,P){ne(P,!0);const j=()=>ge(he,"$page",q),[q,B]=ve(),F=R(()=>j().params.id||"");let r=i(void 0),d=i(""),f=i(0),u=i(0),p=i(0),m=i(0),v=i(!1),s=i(!1);ie(()=>{const t=I.all.find(o=>o.id===e(F));if(!t){C(`${A}/`);return}a(r,t,!0),a(d,t.notes,!0),a(f,t.sleepQuality*10),a(u,t.physicalActivity*10),a(p,t.socialInteractions*10),a(m,t.pressure*10)});const L=R(()=>e(r)?e(r).date.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):"");function G(){a(s,!0)}function W(){e(r)&&(a(d,e(r).notes,!0),a(f,e(r).sleepQuality*10),a(u,e(r).physicalActivity*10),a(p,e(r).socialInteractions*10),a(m,e(r).pressure*10),a(s,!1))}function X(){if(!e(r))return;const t={...e(r),sleepQuality:Math.round(e(f)/10),physicalActivity:Math.round(e(u)/10),socialInteractions:Math.round(e(p)/10),pressure:Math.round(e(m)/10),notes:e(d).trim()};I.updateReflection(e(r).id,t),z("Reflection updated","success"),a(s,!1),C(`${A}/`)}function H(){a(v,!0)}function J(){e(r)&&(I.deleteReflection(e(r).id),a(v,!1),z("Reflection deleted","success"),C(`${A}/`))}function K(){a(v,!1)}var Q=Ae();pe("146z5r6",t=>{ce(()=>{de.title="Edit Reflection - MoodLog"})});var b=M(Q),y=l(b),_=l(y),x=l(_),U=l(x,!0);c(x);var O=n(x,2);{var V=t=>{Se(t,{get date(){return e(r).date}})};E(O,t=>{e(r)&&t(V)})}var D=n(O,2),S=l(D);fe(S),ue(2),c(D);var T=n(D,2),Y=l(T);{let t=R(()=>!e(s));_e(Y,{get sleepQuality(){return e(f)},get physicalActivity(){return e(u)},get socialInteractions(){return e(p)},get pressure(){return e(m)},get disabled(){return e(t)},onSleepQualityChange:o=>a(f,o,!0),onPhysicalActivityChange:o=>a(u,o,!0),onSocialInteractionsChange:o=>a(p,o,!0),onPressureChange:o=>a(m,o,!0)})}c(T),c(_);var Z=n(_,2);{var ee=t=>{var o=Re(),g=M(o);h(g,{get icon(){return $e},onclick:W,label:"Cancel editing",variant:"secondary",position:"left"});var $=n(g,2);h($,{get icon(){return we},onclick:X,label:"Save reflection"}),w(t,o)},te=t=>{var o=Ce(),g=M(o);h(g,{get icon(){return De},onclick:H,label:"Delete reflection",variant:"danger",position:"left"});var $=n(g,2);h($,{get icon(){return be},onclick:G,label:"Edit reflection"}),w(t,o)};E(Z,t=>{e(s)?t(ee):t(te,!1)})}c(y);var ae=n(y,2);ye(ae,{currentTab:"mood-entries"}),c(b);var re=n(b,2);xe(re,{title:"Delete reflection?",onConfirm:J,onCancel:K,get isOpen(){return e(v)},set isOpen(t){a(v,t,!0)}}),se(()=>{oe(U,e(L)),S.disabled=!e(s)}),me(S,()=>e(d),t=>a(d,t)),w(N,Q),le(),B()}export{Ue as component,Ke as universal};
