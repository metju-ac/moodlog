import{d as J,f as K,a as U}from"../chunks/CvMI7jnL.js";import{o as V}from"../chunks/Ct44WLup.js";import{p as X,i as Y,b as r,g as t,s,e as o,t as Z,c as ee,m as te,d as n,u as R,$ as re,r as i,f as ae,n as oe}from"../chunks/CLo9gT6R.js";import{s as ie}from"../chunks/CiJ8cSu5.js";import{i as se}from"../chunks/FSi0eekX.js";import{h as ne}from"../chunks/CbAgFSpX.js";import{b as le}from"../chunks/BUUFz_vM.js";import{s as ce,a as fe}from"../chunks/BAckT0kH.js";import{g as b}from"../chunks/BX6ChKjo.js";import{p as de}from"../chunks/DVLZpsDw.js";import{N as ue}from"../chunks/Brcszpo7.js";import{R as pe}from"../chunks/CTBcQZSl.js";import{F as me}from"../chunks/DJu1Uchz.js";import{T as ve,D as ge}from"../chunks/BnSRRbCD.js";import{D as he}from"../chunks/Ds3VS407.js";import{r as _}from"../chunks/DQOW7d9w.js";import{S as xe}from"../chunks/DCvLuaS-.js";var ye=K('<div class="flex h-screen flex-col bg-white"><main class="flex flex-1 flex-col justify-between overflow-y-auto px-4 py-3"><div class="flex w-full flex-col gap-5.5 px-0 py-3"><h1 class="text-center text-[22px] leading-7 font-normal text-black"> </h1> <!> <div class="relative w-full"><textarea id="reflection-notes" placeholder="Write your thoughts about today..." rows="8" class="w-full resize-none rounded border-[3px] border-indigo-700 px-4 py-3 text-base text-gray-900 transition-colors outline-none focus:border-indigo-800"></textarea> <label for="reflection-notes" class="absolute -top-2.5 left-3 bg-white px-1 text-xs text-indigo-700">Notes for this day</label></div> <div class="flex w-full flex-col gap-8 py-3"><!></div></div> <div class="flex w-full items-center justify-between pb-4"><button class="flex h-14 w-14 items-center justify-center rounded-full bg-red-600 text-white shadow-lg transition-transform hover:scale-105 hover:bg-red-700 active:scale-95" aria-label="Delete reflection"><!></button> <!></div></main> <!></div> <!>',1);function ze(k,A){X(A,!0);const C=()=>fe(de,"$page",I),[I,Q]=ce(),j=R(()=>C().params.id||"");let a=s(void 0),c=s(""),f=s(0),d=s(0),u=s(0),p=s(0),l=s(!1);V(()=>{const e=_.all.find(H=>H.id===t(j));if(!e){b("/");return}r(a,e,!0),r(c,e.notes,!0),r(f,e.sleepQuality*10),r(d,e.physicalActivity*10),r(u,e.socialInteractions*10),r(p,e.pressure*10)});const N=R(()=>t(a)?t(a).date.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):"");function O(){if(!t(a))return;const e={...t(a),sleepQuality:Math.round(t(f)/10),physicalActivity:Math.round(t(d)/10),socialInteractions:Math.round(t(u)/10),pressure:Math.round(t(p)/10),notes:t(c).trim()};_.updateReflection(t(a).id,e),b("/")}function T(){r(l,!0)}function z(){t(a)&&(_.deleteReflection(t(a).id),r(l,!1),b("/"))}function B(){r(l,!1)}var w=ye();ne("146z5r6",e=>{te(()=>{re.title="Edit Reflection - MoodLog"})});var v=Y(w),g=o(v),h=o(g),x=o(h),F=o(x,!0);i(x);var D=n(x,2);{var L=e=>{he(e,{get date(){return t(a).date}})};se(D,e=>{t(a)&&e(L)})}var y=n(D,2),$=o(y);ae($),oe(2),i(y);var S=n(y,2),P=o(S);pe(P,{get sleepQuality(){return t(f)},get physicalActivity(){return t(d)},get socialInteractions(){return t(u)},get pressure(){return t(p)},onSleepQualityChange:e=>r(f,e,!0),onPhysicalActivityChange:e=>r(d,e,!0),onSocialInteractionsChange:e=>r(u,e,!0),onPressureChange:e=>r(p,e,!0)}),i(S),i(h);var M=n(h,2),m=o(M);m.__click=T;var W=o(m);ve(W,{class:"h-6 w-6",strokeWidth:2}),i(m);var E=n(m,2);me(E,{get icon(){return xe},onclick:O,label:"Save reflection"}),i(M),i(g);var G=n(g,2);ue(G,{currentTab:"reflections"}),i(v);var q=n(v,2);ge(q,{title:"Delete reflection?",onConfirm:z,onCancel:B,get isOpen(){return t(l)},set isOpen(e){r(l,e,!0)}}),Z(()=>ie(F,t(N))),le($,()=>t(c),e=>r(c,e)),U(k,w),ee(),Q()}J(["click"]);export{ze as component};
