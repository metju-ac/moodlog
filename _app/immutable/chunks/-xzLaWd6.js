import{v as O,a4 as U,a5 as S,a6 as j,N as A,a7 as x,A as R,T as C,a8 as F,a9 as Y,B as K,C as $,E as q,aa as z,ab as G,l as I,ac as X,ad as Z,ae as k,g as m,b as T,af as P,ag as H,ah as J,ai as Q,aj as V,a as W,ak as ee,X as te,al as re,am as se,x as ne,M as ie,an as ae,ao as fe,a3 as _,S as D,ap as M,aq as ue}from"./CDxfNvir.js";class oe{anchor;#t=new Map;#r=new Map;#e=new Map;#s=new Set;#n=!0;constructor(e,s=!0){this.anchor=e,this.#n=s}#i=()=>{var e=O;if(this.#t.has(e)){var s=this.#t.get(e),r=this.#r.get(s);if(r)U(r),this.#s.delete(s);else{var n=this.#e.get(s);n&&(this.#r.set(s,n.effect),this.#e.delete(s),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),r=n.effect)}for(const[i,u]of this.#t){if(this.#t.delete(i),i===e)break;const a=this.#e.get(u);a&&(S(a.effect),this.#e.delete(u))}for(const[i,u]of this.#r){if(i===s||this.#s.has(i))continue;const a=()=>{if(Array.from(this.#t.values()).includes(i)){var c=document.createDocumentFragment();F(u,c),c.append(A()),this.#e.set(i,{effect:u,fragment:c})}else S(u);this.#s.delete(i),this.#r.delete(i)};this.#n||!r?(this.#s.add(i),j(u,a,!1)):a()}}};#a=e=>{this.#t.delete(e);const s=Array.from(this.#t.values());for(const[r,n]of this.#e)s.includes(r)||(S(n.effect),this.#e.delete(r))};ensure(e,s){var r=O,n=Y();if(s&&!this.#r.has(e)&&!this.#e.has(e))if(n){var i=document.createDocumentFragment(),u=A();i.append(u),this.#e.set(e,{effect:x(()=>s(u)),fragment:i})}else this.#r.set(e,x(()=>s(this.anchor)));if(this.#t.set(r,e),n){for(const[a,o]of this.#r)a===e?r.skipped_effects.delete(o):r.skipped_effects.add(o);for(const[a,o]of this.#e)a===e?r.skipped_effects.delete(o.effect):r.skipped_effects.add(o.effect);r.oncommit(this.#i),r.ondiscard(this.#a)}else R&&(this.anchor=C),this.#i()}}function pe(t,e,s){R&&$();var r=new oe(t);K(()=>{var n=e()??null;r.ensure(n,n&&(i=>s(i,n)))},q)}let b=!1,w=Symbol();function _e(t,e,s){const r=s[e]??={store:null,source:X(void 0),unsubscribe:I};if(r.store!==t&&!(w in s))if(r.unsubscribe(),r.store=t??null,t==null)r.source.v=void 0,r.unsubscribe=I;else{var n=!0;r.unsubscribe=Z(t,i=>{n?r.source.v=i:T(r.source,i)}),n=!1}return t&&w in s?k(t):m(r.source)}function ve(){const t={};function e(){z(()=>{for(var s in t)t[s].unsubscribe();G(t,w,{enumerable:!1,value:!0})})}return[t,e]}function ce(t){var e=b;try{return b=!1,[t(),b]}finally{b=e}}const le={get(t,e){if(!t.exclude.includes(e))return t.props[e]},set(t,e){return!1},getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e)&&e in t.props)return{enumerable:!0,configurable:!0,value:t.props[e]}},has(t,e){return t.exclude.includes(e)?!1:e in t.props},ownKeys(t){return Reflect.ownKeys(t.props).filter(e=>!t.exclude.includes(e))}};function be(t,e,s){return new Proxy({props:t,exclude:e},le)}const de={get(t,e){let s=t.props.length;for(;s--;){let r=t.props[s];if(_(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r)return r[e]}},set(t,e,s){let r=t.props.length;for(;r--;){let n=t.props[r];_(n)&&(n=n());const i=P(n,e);if(i&&i.set)return i.set(s),!0}return!1},getOwnPropertyDescriptor(t,e){let s=t.props.length;for(;s--;){let r=t.props[s];if(_(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r){const n=P(r,e);return n&&!n.configurable&&(n.configurable=!0),n}}},has(t,e){if(e===D||e===M)return!1;for(let s of t.props)if(_(s)&&(s=s()),s!=null&&e in s)return!0;return!1},ownKeys(t){const e=[];for(let s of t.props)if(_(s)&&(s=s()),!!s){for(const r in s)e.includes(r)||e.push(r);for(const r of Object.getOwnPropertySymbols(s))e.includes(r)||e.push(r)}return e}};function me(...t){return new Proxy({props:t},de)}function ge(t,e,s,r){var n=!ie||(s&ae)!==0,i=(s&se)!==0,u=(s&ue)!==0,a=r,o=!0,c=()=>(o&&(o=!1,a=u?ne(r):r),a),d;if(i){var N=D in t||M in t;d=P(t,e)?.set??(N&&e in t?f=>t[e]=f:void 0)}var h,y=!1;i?[h,y]=ce(()=>t[e]):h=t[e],h===void 0&&r!==void 0&&(h=c(),d&&(n&&H(),d(h)));var l;if(n?l=()=>{var f=t[e];return f===void 0?c():(o=!0,f)}:l=()=>{var f=t[e];return f!==void 0&&(a=void 0),f===void 0?a:f},n&&(s&J)===0)return l;if(d){var B=t.$$legacy;return(function(f,v){return arguments.length>0?((!n||!v||B||y)&&d(v?l():f),f):l()})}var g=!1,p=((s&fe)!==0?Q:V)(()=>(g=!1,l()));i&&m(p);var L=te;return(function(f,v){if(arguments.length>0){const E=v?m(p):n&&i?W(f):f;return T(p,E),g=!0,a!==void 0&&(a=E),f}return ee&&g||(L.f&re)!==0?p.v:m(p)})}export{oe as B,ve as a,_e as b,pe as c,ge as p,be as r,me as s};
