import{d as ge,f as y,a as _,s as W}from"../chunks/CMVsHYcO.js";import{p as be,m as q,g as e,u as b,s as u,a as xe,b as a,l as N,t as A,c as _e,e as he,d as s,f as n,$ as ye,r as i,o as H,h as we}from"../chunks/Dzkio-oR.js";import{h as Se,e as $e,r as ke,s as De}from"../chunks/BMajUMua.js";import{i as Ee}from"../chunks/BsUrrD3l.js";import{a as Me,b as Le,c as Ce}from"../chunks/BcPhfkvl.js";import{b as X}from"../chunks/DZr0-864.js";import{g as O}from"../chunks/rPTUo0Oh.js";import{b as I}from"../chunks/BjbOgI-U.js";import{p as Te,S as Ne}from"../chunks/CGXeFH66.js";import{N as Oe,l as G}from"../chunks/w7_55Tv2.js";import{M as Ie}from"../chunks/MF1y_MAX.js";import{F as h}from"../chunks/CZZtMmaf.js";import{D as je,T as Pe}from"../chunks/oXGKPIIf.js";import{m as j}from"../chunks/CZgMVD6W.js";import{s as J}from"../chunks/Cd25ACq6.js";import{g as Ve}from"../chunks/D0y9iST-.js";import{S as ze}from"../chunks/DCGNGnMU.js";import{X as Be}from"../chunks/CANhV_gT.js";import{S as Fe}from"../chunks/C6A4zO6s.js";const We=!1,ft=Object.freeze(Object.defineProperty({__proto__:null,prerender:We},Symbol.toStringTag,{value:"Module"}));var qe=y("<button><!> <span> </span></button>"),Ae=y("<!> <!>",1),He=y("<!> <!>",1),Xe=y(`<div class="flex h-screen flex-col bg-white"><main class="flex flex-1 flex-col overflow-y-auto px-4 py-2.5"><div class="flex w-full flex-col gap-5 pt-2.5 pb-24"><h1 class="text-center text-[22px] leading-7 font-normal text-black"> </h1> <div class="relative w-full"><input type="text" id="title-input" placeholder="Input" class="h-14 w-full rounded border-[3px] border-indigo-700 px-4 text-base text-gray-900 transition-colors outline-none focus:border-indigo-800 disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-700"/> <label for="title-input" class="absolute -top-2.5 left-3 bg-white px-1 text-xs text-indigo-700">Title</label></div> <div class="flex flex-col gap-2"><p class="text-sm font-medium text-black">How are you feeling?</p> <!></div> <div class="flex flex-col gap-2"><p class="text-sm font-medium text-black">What's the context?</p> <div class="flex w-full flex-wrap items-center gap-1 py-2"></div></div> <div class="relative w-full"><textarea id="notes-textarea" placeholder="Input" rows="12" class="w-full resize-none rounded border-[3px] border-indigo-700 px-4 py-3 text-base text-gray-900 transition-colors outline-none focus:border-indigo-800 disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-700"></textarea> <label for="notes-textarea" class="absolute -top-2.5 left-3 bg-white px-1 text-xs text-indigo-700">Notes for this entry</label></div></div> <!></main> <!></div> <!>`,1);function pt(K,Q){be(Q,!0);const R=()=>Le(Te,"$page",U),[U,Y]=Me(),x=b(()=>R().params.id||""),r=b(()=>j.getEntryById(e(x)));let m=u(!1),d=u(!1);q(()=>{(!e(r)||!e(x))&&O(`${I}/`)});let f=u(""),v=u(""),g=u(0),p=u(xe(new Set));q(()=>{e(r)&&(a(f,e(r).title,!0),a(v,e(r).description,!0),a(g,e(r).moodLevel*10),a(p,new Set(e(r).labels.map(t=>t.id)),!0))});const Z=b(()=>Math.round(e(g)/10));function ee(t){const o=new ze(e(p));o.has(t)?o.delete(t):o.add(t),a(p,o,!0)}function te(){a(d,!0)}function oe(){e(r)&&(a(f,e(r).title,!0),a(v,e(r).description,!0),a(g,e(r).moodLevel*10),a(p,new Set(e(r).labels.map(t=>t.id)),!0),a(d,!1))}function ae(){if(!e(f).trim()){alert("Please enter a title");return}if(!e(r))return;const t=G.all.filter(o=>e(p).has(o.id));j.updateEntry(e(x),{id:e(r).id,title:e(f).trim(),description:e(v).trim(),labels:t,moodLevel:e(Z),date:e(r).date}),J("Mood entry updated","success"),a(d,!1),O(`${I}/`)}function re(){a(m,!0)}function se(){j.deleteEntry(e(x)),a(m,!1),J("Mood entry deleted","success"),O(`${I}/`)}function ie(){a(m,!1)}var P=Xe();Se("79rbxf",t=>{he(()=>{ye.title="Edit Mood Entry - MoodLog"})});var w=N(P),S=n(w),$=n(S),k=n($),le=n(k,!0);i(k);var D=s(k,2),E=n(D);ke(E),H(2),i(D);var M=s(D,2),ne=s(n(M),2);{let t=b(()=>!e(d));Ie(ne,{get value(){return e(g)},onValueChange:o=>a(g,o,!0),labels:["Negative","Neutral","Positive"],get disabled(){return e(t)}})}i(M);var L=s(M,2),V=s(n(L),2);$e(V,21,()=>G.all,t=>t.id,(t,o)=>{const c=b(()=>Ve(e(o).icon));var l=qe();l.__click=()=>ee(e(o).id);var B=n(l);Ce(B,()=>e(c),(T,ve)=>{ve(T,{class:"h-4 w-4",strokeWidth:2})});var F=s(B,2),me=n(F,!0);i(F),i(l),A(T=>{l.disabled=!e(d),De(l,1,`flex h-8 items-center gap-2 rounded-lg border px-3 py-1.5 text-sm font-medium transition-colors disabled:cursor-not-allowed ${T??""}`),W(me,e(o).name)},[()=>e(p).has(e(o).id)?"border-indigo-700 bg-indigo-50 text-indigo-900":"border-gray-300 text-gray-700 hover:bg-gray-50"]),_(t,l)}),i(V),i(L);var z=s(L,2),C=n(z);we(C),H(2),i(z),i($);var de=s($,2);{var ce=t=>{var o=Ae(),c=N(o);h(c,{get icon(){return Be},onclick:oe,label:"Cancel editing",variant:"secondary",position:"left"});var l=s(c,2);h(l,{get icon(){return Fe},onclick:ae,label:"Save mood entry"}),_(t,o)},fe=t=>{var o=He(),c=N(o);h(c,{get icon(){return Pe},onclick:re,label:"Delete mood entry",variant:"danger",position:"left"});var l=s(c,2);h(l,{get icon(){return Ne},onclick:te,label:"Edit mood entry"}),_(t,o)};Ee(de,t=>{e(d)?t(ce):t(fe,!1)})}i(S);var pe=s(S,2);Oe(pe,{currentTab:"mood-entries"}),i(w);var ue=s(w,2);je(ue,{title:"Delete mood entry?",onConfirm:se,onCancel:ie,get isOpen(){return e(m)},set isOpen(t){a(m,t,!0)}}),A(()=>{W(le,e(d)?"Edit your mood entry":"View your mood entry"),E.disabled=!e(d),C.disabled=!e(d)}),X(E,()=>e(f),t=>a(f,t)),X(C,()=>e(v),t=>a(v,t)),_(K,P),_e(),Y()}ge(["click"]);export{pt as component,ft as universal};
